{"version":3,"file":"index.es.js","sources":["../src/features/expressionLanguage/variableExtractionHelpers.js","../src/features/expressionLanguage/FeelExpressionLanguage.js","../src/features/expressionLanguage/FeelersTemplating.js","../src/util/constants/DatetimeConstants.js","../src/util/constants/OptionsSourceConstants.js","../src/util/constants/IFrameConstants.js","../src/util/injector.js","../src/util/form.js","../src/render/components/Util.js","../src/render/components/form-fields/Button.js","../src/render/context/FormRenderContext.js","../src/render/context/LocalExpressionContext.js","../src/render/context/FormContext.js","../src/render/hooks/useService.js","../src/util/simple.js","../src/util/expressions.js","../src/render/hooks/useCondition.js","../src/render/components/util/optionsUtil.js","../src/render/hooks/useExpressionEvaluation.js","../src/render/hooks/useDeepCompareMemoize.js","../src/render/hooks/useOptionsAsync.js","../src/render/hooks/useDangerousHTMLWrapper.js","../src/render/hooks/useSecurityAttributesMap.js","../src/render/hooks/useGetLabelCorrelation.js","../src/render/components/util/domUtil.js","../src/render/hooks/useScrollIntoView.js","../src/render/hooks/useFilteredFormData.js","../src/render/hooks/useKeyDownAction.js","../src/render/hooks/useReadonly.js","../src/render/hooks/usePrevious.js","../src/render/hooks/useFlushDebounce.js","../src/render/hooks/useTemplateEvaluation.js","../src/render/hooks/useSingleLineTemplateEvaluation.js","../src/render/components/util/dateTimeUtil.js","../src/render/components/util/sanitizerUtil.js","../src/render/hooks/useCleanupSingleSelectValue.js","../src/render/hooks/useCleanupMultiSelectValue.js","../src/render/components/Description.js","../src/render/components/Errors.js","../src/render/components/Label.js","../src/render/components/form-fields/Checkbox.js","../src/render/components/form-fields/Checklist.js","../src/render/components/FormField.js","../src/render/components/form-fields/parts/ChildrenRenderer.js","../src/render/components/form-fields/Default.js","../src/render/components/form-fields/icons/Calendar.svg","../src/render/components/util/localisationUtil.js","../src/render/components/form-fields/parts/InputAdorner.js","../src/render/components/form-fields/parts/Datepicker.js","../src/render/components/form-fields/icons/Clock.svg","../src/render/components/form-fields/parts/DropdownList.js","../src/render/components/form-fields/parts/Timepicker.js","../src/render/components/form-fields/Datetime.js","../src/render/components/form-fields/Group.js","../src/render/components/form-fields/IFrame.js","../src/render/components/icons/Button.svg","../src/render/components/icons/Checkbox.svg","../src/render/components/icons/Checklist.svg","../src/render/components/icons/Datetime.svg","../src/render/components/icons/Taglist.svg","../src/render/components/icons/Form.svg","../src/render/components/icons/Group.svg","../src/render/components/icons/Number.svg","../src/render/components/icons/Radio.svg","../src/render/components/icons/Select.svg","../src/render/components/icons/Separator.svg","../src/render/components/icons/Spacer.svg","../src/render/components/icons/DynamicList.svg","../src/render/components/icons/Text.svg","../src/render/components/icons/HTML.svg","../src/render/components/icons/ExpressionField.svg","../src/render/components/icons/Textfield.svg","../src/render/components/icons/Textarea.svg","../src/render/components/icons/IFrame.svg","../src/render/components/icons/Image.svg","../src/render/components/icons/Table.svg","../src/render/components/icons/index.js","../src/render/components/form-fields/Image.js","../src/render/components/form-fields/parts/TemplatedInputAdorner.js","../src/render/components/form-fields/icons/AngelDown.svg","../src/render/components/form-fields/icons/AngelUp.svg","../src/render/components/util/numberFieldUtil.js","../src/render/components/form-fields/Number.js","../src/render/components/form-fields/Radio.js","../src/render/components/form-fields/icons/XMark.svg","../src/render/components/form-fields/parts/SearchableSelect.js","../src/render/components/form-fields/parts/SimpleSelect.js","../src/render/components/form-fields/Select.js","../src/render/components/form-fields/Separator.js","../src/render/components/form-fields/Spacer.js","../src/render/components/form-fields/DynamicList.js","../src/render/components/form-fields/parts/SkipLink.js","../src/render/components/form-fields/Taglist.js","../src/render/components/Sanitizer.js","../src/render/components/form-fields/Text.js","../src/render/components/form-fields/Html.js","../src/render/components/form-fields/ExpressionField.js","../src/render/components/form-fields/Textfield.js","../src/render/components/form-fields/Textarea.js","../src/render/components/form-fields/icons/ArrowDown.svg","../src/render/components/form-fields/icons/ArrowUp.svg","../src/render/components/form-fields/icons/CaretLeft.svg","../src/render/components/form-fields/icons/CaretRight.svg","../src/render/components/form-fields/Table.js","../src/render/components/PoweredBy.js","../src/render/components/FormComponent.js","../src/render/components/index.js","../src/render/FormFields.js","../src/util/getSchemaVariables.js","../src/util/structure.js","../src/features/expressionLanguage/ConditionChecker.js","../src/features/expressionLanguage/index.js","../src/features/expressionField/ExpressionLoopPreventer.js","../src/features/expressionField/index.js","../src/features/markdown/MarkdownRenderer.js","../src/features/markdown/index.js","../../../node_modules/diagram-js/lib/command/CommandStack.js","../../../node_modules/diagram-js/lib/command/index.js","../src/features/viewerCommands/cmd/UpdateFieldValidationHandler.js","../src/features/viewerCommands/cmd/UpdateFieldInstanceValidationHandler.js","../src/features/viewerCommands/ViewerCommands.js","../src/features/viewerCommands/index.js","../src/render/components/form-fields/icons/Expand.svg","../src/render/components/form-fields/icons/Collapse.svg","../src/render/components/form-fields/icons/Add.svg","../src/render/components/form-fields/icons/Delete.svg","../src/features/repeatRender/RepeatRenderManager.js","../src/features/repeatRender/index.js","../../../node_modules/diagram-js/lib/core/EventBus.js","../src/core/Validator.js","../src/core/Importer.js","../src/core/FieldFactory.js","../src/core/PathRegistry.js","../src/core/FormLayouter.js","../src/core/FormFieldRegistry.js","../src/core/FormFieldInstanceRegistry.js","../src/render/Renderer.js","../src/render/index.js","../src/core/index.js","../src/Form.js","../src/index.js"],"sourcesContent":["import { parseExpression, parseUnaryTests } from 'feelin';\n\nexport const getFlavouredFeelVariableNames = (feelString, feelFlavour = 'expression', options = {}) => {\n  const { depth = 0, specialDepthAccessors = {} } = options;\n\n  if (!['expression', 'unaryTest'].includes(feelFlavour)) return [];\n\n  const tree = feelFlavour === 'expression' ? parseExpression(feelString) : parseUnaryTests(feelString);\n\n  const simpleExpressionTree = _buildSimpleFeelStructureTree(tree, feelString);\n\n  const variables = (function _unfoldVariables(node) {\n    if (node.name === 'PathExpression') {\n      // if the path is built on top of a context, we process that context and\n      // ignore the rest of the path expression, as it is not relevant for variable extraction\n      const pathRoot = _linearizePathExpression(node)[0];\n      if (pathRoot.name === 'Context') {\n        return _unfoldVariables(pathRoot);\n      }\n\n      if (Object.keys(specialDepthAccessors).length === 0) {\n        return depth === 0 ? [_getVariableNameAtPathIndex(node, 0)] : [];\n      }\n\n      // if using special depth accessors, use a more complex extraction\n      return Array.from(_smartExtractVariableNames(node, depth, specialDepthAccessors));\n    }\n\n    if (depth === 0 && node.name === 'VariableName') return [node.variableName];\n\n    // for any other kind of node, traverse its children and flatten the result\n    if (node.children) {\n      const variables = node.children.reduce((acc, child) => {\n        return acc.concat(_unfoldVariables(child));\n      }, []);\n\n      // if we are within a filter context, we need to remove the item variable as it is used for iteration there\n      return node.name === 'FilterContext' ? variables.filter((name) => name !== 'item') : variables;\n    }\n\n    return [];\n  })(simpleExpressionTree);\n\n  return [...new Set(variables)];\n};\n\n/**\n * Get the variable name at the specified index in a given path expression.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @param {number} index - The index of the variable name to retrieve.\n * @returns {string|null} The variable name at the specified index or null if index is out of bounds.\n */\nconst _getVariableNameAtPathIndex = (root, index) => {\n  const nodes = _linearizePathExpression(root);\n  return nodes[index].variableName || null;\n};\n\n/**\n * Extracts the variables which are required of the external context for a given path expression.\n * This is done by traversing the path expression tree and keeping track of the current depth relative to the external context.\n *\n * @param {Object} node - The root node of the path expression tree.\n * @param {number} initialDepth - The depth at which the root node is located in the outer context.\n * @param {Object} specialDepthAccessors - Definitions of special keywords which represent more complex accesses of the outer context.\n * @returns {Set} - A set containing the extracted variable names.\n */\nconst _smartExtractVariableNames = (node, initialDepth, specialDepthAccessors) => {\n  // depth info represents the previous (initialised as null) and current depth of the current accessor in the path expression\n  // we track multiple of these to account for the fact that a path expression may be ambiguous due to special keywords\n  let accessorDepthInfos = [{ previous: null, current: initialDepth - 1 }];\n  const extractedVariables = new Set();\n  const pathNodes = _linearizePathExpression(node);\n\n  for (let i = 0; i < pathNodes.length; i++) {\n    const currentAccessor = pathNodes[i].variableName;\n\n    if (currentAccessor in specialDepthAccessors) {\n      const depthOffsets = specialDepthAccessors[currentAccessor];\n\n      // if the current accessor is a special keyword, we need to expand the current depth info set\n      // this is done to account for the ambiguity of keywords like parent, which may be used to access\n      // the parent of the current node, or a child variable of the same name\n      accessorDepthInfos = depthOffsets\n        .reduce((accumulator, offset) => {\n          return [\n            ...accumulator,\n            ...accessorDepthInfos.map((depthInfo) => ({\n              previous: depthInfo.current,\n              current: depthInfo.current + offset,\n            })),\n          ];\n        }, [])\n        .filter((depthInfo) => depthInfo.current >= -1); // discard all depth infos which are out of bounds\n    } else {\n      // if the current accessor is not a special keyword, we know it's simply accessing a child\n      // hence we are now one level deeper in the tree and simply increment\n      accessorDepthInfos = accessorDepthInfos.map((depthInfo) => ({\n        previous: depthInfo.current,\n        current: depthInfo.current + 1,\n      }));\n    }\n\n    // finally, we check if for the current accessor, there is a scenario where:\n    // previous it was at depth -1 (i.e. the root context), and is now at depth 0 (i.e. a variable)\n    // these are the variables we need to request, so we add them to the set\n    if (accessorDepthInfos.some((depthInfo) => depthInfo.previous === -1 && depthInfo.current === 0)) {\n      extractedVariables.add(currentAccessor);\n    }\n  }\n\n  // we return a set to avoid duplicates\n  return new Set(extractedVariables);\n};\n\n/**\n * Deconstructs a path expression tree into an array of components.\n *\n * @param {Object} root - The root node of the path expression tree.\n * @returns {Array<object>} An array of components in the path expression, in the correct order.\n */\nconst _linearizePathExpression = (root) => {\n  let node = root;\n  let parts = [];\n\n  // Traverse the tree and collect path components\n  while (node.name === 'PathExpression') {\n    parts.push(node.children[1]);\n    node = node.children[0];\n  }\n\n  // Add the last component to the array\n  parts.push(node);\n\n  // Reverse and return the array to get the correct order\n  return parts.reverse();\n};\n\n/**\n * Builds a simplified feel structure tree from the given parse tree and feel string.\n * The nodes follow this structure: `{ name: string, children: Array, variableName?: string }`\n *\n * @param {Object} parseTree - The parse tree generated by a parser.\n * @param {string} feelString - The feel string used for parsing.\n * @returns {Object} The simplified feel structure tree.\n */\nconst _buildSimpleFeelStructureTree = (parseTree, feelString) => {\n  const stack = [{ children: [] }];\n  parseTree.iterate({\n    enter: (node) => {\n      const nodeRepresentation = {\n        name: node.type.name,\n        children: [],\n      };\n\n      if (node.type.name === 'VariableName') {\n        nodeRepresentation.variableName = feelString.slice(node.from, node.to);\n      }\n\n      stack.push(nodeRepresentation);\n    },\n    leave: () => {\n      const result = stack.pop();\n      const parent = stack[stack.length - 1];\n      parent.children.push(result);\n    },\n  });\n\n  return _extractFilterExpressions(stack[0].children[0]);\n};\n\n/**\n * Restructure the tree in such a way to bring filters (which create new contexts) to the root of the tree.\n * This is done to simplify the extraction of variables and match the context hierarchy.\n */\nconst _extractFilterExpressions = (tree) => {\n  const flattenedExpressionTree = {\n    name: 'Root',\n    children: [tree],\n  };\n\n  const iterate = (node) => {\n    if (node.children) {\n      for (let x = 0; x < node.children.length; x++) {\n        if (node.children[x].name === 'FilterExpression') {\n          const filterTarget = node.children[x].children[0];\n          const filterExpression = node.children[x].children[2];\n\n          // bypass the filter expression\n          node.children[x] = filterTarget;\n\n          const taggedFilterExpression = {\n            name: 'FilterContext',\n            children: [filterExpression],\n          };\n\n          // append the filter expression to the root\n          flattenedExpressionTree.children.push(taggedFilterExpression);\n\n          // recursively iterate the expression\n          iterate(filterExpression);\n        } else {\n          iterate(node.children[x]);\n        }\n      }\n    }\n  };\n\n  iterate(tree);\n\n  return flattenedExpressionTree;\n};\n","import { evaluate } from 'feelin';\nimport { isString } from 'min-dash';\nimport { getFlavouredFeelVariableNames } from './variableExtractionHelpers';\n\nexport class FeelExpressionLanguage {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * Determines if the given value is a FEEL expression.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isExpression(value) {\n    return isString(value) && value.startsWith('=');\n  }\n\n  /**\n   * Retrieve variable names from a given FEEL expression.\n   *\n   * @param {string} expression\n   * @param {object} [options]\n   * @param {string} [options.type]\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(expression, options = {}) {\n    const { type = 'expression' } = options;\n\n    if (!this.isExpression(expression)) {\n      return [];\n    }\n\n    if (!['unaryTest', 'expression'].includes(type)) {\n      throw new Error('Unknown expression type: ' + type);\n    }\n\n    return getFlavouredFeelVariableNames(expression, type);\n  }\n\n  /**\n   * Evaluate an expression.\n   *\n   * @param {string} expression\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {any}\n   */\n  evaluate(expression, data = {}) {\n    if (!expression) {\n      return null;\n    }\n\n    if (!isString(expression) || !expression.startsWith('=')) {\n      return null;\n    }\n\n    try {\n      const result = evaluate(expression.slice(1), data);\n\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', { error });\n      return null;\n    }\n  }\n}\n\nFeelExpressionLanguage.$inject = ['eventBus'];\n","import { parser as feelersParser, buildSimpleTree, evaluate as evaluateFeelers } from 'feelers';\nimport { isString } from 'min-dash';\nimport { getFlavouredFeelVariableNames } from './variableExtractionHelpers';\n\nexport class FeelersTemplating {\n  constructor() {}\n\n  /**\n   * Determines if the given value is a feelers template.\n   *\n   * @param {any} value\n   * @returns {boolean}\n   *\n   */\n  isTemplate(value) {\n    return isString(value) && (value.startsWith('=') || /{{.*?}}/.test(value));\n  }\n\n  /**\n   * Retrieve variable names from a given feelers template.\n   *\n   * @param {string} template\n   *\n   * @returns {string[]}\n   */\n  getVariableNames(template) {\n    if (!this.isTemplate(template)) {\n      return [];\n    }\n\n    const expressions = this._extractExpressionsWithDepth(template);\n\n    // defines special accessors, and the change(s) in depth they could imply (e.g. parent can be used to access the parent context (depth - 1) or a child variable named parent (depth + 1)\n    const specialDepthAccessors = {\n      parent: [-1, 1],\n      _parent_: [-1],\n      this: [0, 1],\n      _this_: [0],\n    };\n\n    return expressions.reduce((variables, { expression, depth }) => {\n      return variables.concat(\n        getFlavouredFeelVariableNames(expression, 'expression', { depth, specialDepthAccessors }),\n      );\n    }, []);\n  }\n\n  /**\n   * Evaluate a template.\n   *\n   * @param {string} template\n   * @param {Object<string, any>} context\n   * @param {Object} options\n   * @param {boolean} [options.debug = false]\n   * @param {boolean} [options.strict = false]\n   * @param {Function} [options.buildDebugString]\n   * @param {Function} [options.sanitizer]\n   *\n   * @returns\n   */\n  evaluate(template, context = {}, options = {}) {\n    const {\n      debug = false,\n      strict = false,\n      buildDebugString = (err) => ' {{âš }} ',\n      sanitizer = (value) => value,\n    } = options;\n\n    return evaluateFeelers(template, context, { debug, strict, buildDebugString, sanitizer });\n  }\n\n  /**\n   * @typedef {Object} ExpressionWithDepth\n   * @property {number} depth - The depth of the expression in the syntax tree.\n   * @property {string} expression - The extracted expression\n   */\n\n  /**\n * Extracts all feel expressions in the template along with their depth in the syntax tree.\n * The depth is incremented for child expressions of loops to account for context drilling.\n\n * @name extractExpressionsWithDepth\n * @param {string} template - A feelers template string.\n * @returns {Array<ExpressionWithDepth>} An array of objects, each containing the depth and the extracted expression.\n *\n * @example\n * const template = \"Hello {{user}}, you have:{{#loop items}}\\n- {{amount}} {{name}}{{/loop}}.\";\n * const extractedExpressions = _extractExpressionsWithDepth(template);\n */\n  _extractExpressionsWithDepth(template) {\n    // build simplified feelers syntax tree\n    const parseTree = feelersParser.parse(template);\n    const tree = buildSimpleTree(parseTree, template);\n\n    return (function _traverse(n, depth = 0) {\n      if (['Feel', 'FeelBlock'].includes(n.name)) {\n        return [{ depth, expression: n.content }];\n      }\n\n      if (n.name === 'LoopSpanner') {\n        const loopExpression = n.children[0].content;\n        const childResults = n.children.slice(1).reduce((acc, child) => {\n          return acc.concat(_traverse(child, depth + 1));\n        }, []);\n        return [{ depth, expression: loopExpression }, ...childResults];\n      }\n\n      return n.children.reduce((acc, child) => {\n        return acc.concat(_traverse(child, depth));\n      }, []);\n    })(tree);\n  }\n}\n\nFeelersTemplating.$inject = [];\n","// config  ///////////////////\n\nexport const MINUTES_IN_DAY = 60 * 24;\n\nexport const DATETIME_SUBTYPES = {\n  DATE: 'date',\n  TIME: 'time',\n  DATETIME: 'datetime',\n};\n\nexport const TIME_SERIALISING_FORMATS = {\n  UTC_OFFSET: 'utc_offset',\n  UTC_NORMALIZED: 'utc_normalized',\n  NO_TIMEZONE: 'no_timezone',\n};\n\nexport const DATETIME_SUBTYPES_LABELS = {\n  [DATETIME_SUBTYPES.DATE]: 'Date',\n  [DATETIME_SUBTYPES.TIME]: 'Time',\n  [DATETIME_SUBTYPES.DATETIME]: 'Date & Time',\n};\n\nexport const TIME_SERIALISINGFORMAT_LABELS = {\n  [TIME_SERIALISING_FORMATS.UTC_OFFSET]: 'UTC offset',\n  [TIME_SERIALISING_FORMATS.UTC_NORMALIZED]: 'UTC normalized',\n  [TIME_SERIALISING_FORMATS.NO_TIMEZONE]: 'No timezone',\n};\n\nexport const DATETIME_SUBTYPE_PATH = ['subtype'];\nexport const DATE_LABEL_PATH = ['dateLabel'];\nexport const DATE_DISALLOW_PAST_PATH = ['disallowPassedDates'];\nexport const TIME_LABEL_PATH = ['timeLabel'];\nexport const TIME_USE24H_PATH = ['use24h'];\nexport const TIME_INTERVAL_PATH = ['timeInterval'];\nexport const TIME_SERIALISING_FORMAT_PATH = ['timeSerializingFormat'];\n","import { get } from 'min-dash';\n\n// config  ///////////////////\n\nexport const OPTIONS_SOURCES = {\n  STATIC: 'static',\n  INPUT: 'input',\n  EXPRESSION: 'expression',\n};\n\nexport const OPTIONS_SOURCE_DEFAULT = OPTIONS_SOURCES.STATIC;\n\nexport const OPTIONS_SOURCES_LABELS = {\n  [OPTIONS_SOURCES.STATIC]: 'Static',\n  [OPTIONS_SOURCES.INPUT]: 'Input data',\n  [OPTIONS_SOURCES.EXPRESSION]: 'Expression',\n};\n\nexport const OPTIONS_SOURCES_PATHS = {\n  [OPTIONS_SOURCES.STATIC]: ['values'],\n  [OPTIONS_SOURCES.INPUT]: ['valuesKey'],\n  [OPTIONS_SOURCES.EXPRESSION]: ['valuesExpression'],\n};\n\nexport const OPTIONS_SOURCES_DEFAULTS = {\n  [OPTIONS_SOURCES.STATIC]: [\n    {\n      label: 'Value',\n      value: 'value',\n    },\n  ],\n  [OPTIONS_SOURCES.INPUT]: '',\n  [OPTIONS_SOURCES.EXPRESSION]: '=',\n};\n\n// helpers ///////////////////\n\nexport function getOptionsSource(field) {\n  for (const source of Object.values(OPTIONS_SOURCES)) {\n    if (get(field, OPTIONS_SOURCES_PATHS[source]) !== undefined) {\n      return source;\n    }\n  }\n\n  return OPTIONS_SOURCE_DEFAULT;\n}\n","export const SANDBOX_ATTRIBUTE = 'sandbox';\nexport const ALLOW_ATTRIBUTE = 'allow';\n\n// Cf. https://developer.mozilla.org/en-US/docs/Web/HTTP/Permissions_Policy#iframe_syntax\nexport const SECURITY_ATTRIBUTES_DEFINITIONS = [\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-scripts',\n    property: 'allowScripts',\n    label: 'Script execution',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-same-origin',\n    property: 'allowSameOrigin',\n    label: 'Allow same origin',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'fullscreen',\n    property: 'fullscreen',\n    label: 'Open in fullscreen',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'geolocation',\n    property: 'geolocation',\n    label: 'Geolocation',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'camera',\n    property: 'camera',\n    label: 'Camera access',\n  },\n  {\n    attribute: ALLOW_ATTRIBUTE,\n    directive: 'microphone',\n    property: 'microphone',\n    label: 'Microphone access',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-forms',\n    property: 'allowForms',\n    label: 'Forms submission',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-modals',\n    property: 'allowModals',\n    label: 'Open modal windows',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-popups',\n    property: 'allowPopups',\n    label: 'Open popups',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-top-navigation',\n    property: 'allowTopNavigation',\n    label: 'Top level navigation',\n  },\n  {\n    attribute: SANDBOX_ATTRIBUTE,\n    directive: 'allow-storage-access-by-user-activation',\n    property: 'allowStorageAccessByUserActivation',\n    label: 'Storage access by user',\n  },\n];\n","import { Injector } from 'didi';\n\nexport function createInjector(bootstrapModules) {\n  const injector = new Injector(bootstrapModules);\n\n  injector.init();\n\n  return injector;\n}\n","/**\n * @param {string?} prefix\n *\n * @returns Element\n */\nexport function createFormContainer(prefix = 'fjs') {\n  const container = document.createElement('div');\n\n  container.classList.add(`${prefix}-container`);\n\n  return container;\n}\n","import classNames from 'classnames';\n\nexport function formFieldClasses(type, { errors = [], disabled = false, readonly = false } = {}) {\n  if (!type) {\n    throw new Error('type required');\n  }\n\n  return classNames('fjs-form-field', `fjs-form-field-${type}`, {\n    'fjs-has-errors': errors.length > 0,\n    'fjs-disabled': disabled,\n    'fjs-readonly': readonly,\n  });\n}\n\nexport function gridColumnClasses(formField) {\n  const { layout = {} } = formField;\n\n  const { columns } = layout;\n\n  return classNames(\n    'fjs-layout-column',\n    `cds--col${columns ? '-lg-' + columns : ''}`,\n\n    // always fall back to top-down on smallest screens\n    'cds--col-sm-16',\n    'cds--col-md-16',\n  );\n}\n\nexport function prefixId(id, formId, indexes) {\n  let result = 'fjs-form';\n\n  if (formId) {\n    result += `-${formId}`;\n  }\n\n  result += `-${id}`;\n\n  Object.values(indexes || {}).forEach((index) => {\n    result += `_${index}`;\n  });\n\n  return result;\n}\n","import { formFieldClasses } from '../Util';\n\nconst type = 'button';\n\nexport function Button(props) {\n  const { disabled, onFocus, onBlur, field } = props;\n\n  const { action = 'submit' } = field;\n\n  return (\n    <div class={formFieldClasses(type)}>\n      <button\n        class=\"fjs-button\"\n        type={action}\n        disabled={disabled}\n        onFocus={() => onFocus && onFocus()}\n        onBlur={() => onBlur && onBlur()}>\n        {field.label}\n      </button>\n    </div>\n  );\n}\n\nButton.config = {\n  type,\n  keyed: false,\n  label: 'Button',\n  group: 'action',\n  create: (options = {}) => ({\n    action: 'submit',\n    ...options,\n  }),\n};\n","import { createContext } from 'preact';\n\nexport const FormRenderContext = createContext({\n  Empty: (props) => {\n    return null;\n  },\n  Hidden: (props) => {\n    return null;\n  },\n  Children: (props) => {\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  Element: (props) => {\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  Row: (props) => {\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  Column: (props) => {\n    if (props.field.type === 'default') {\n      return props.children;\n    }\n\n    return (\n      <div class={props.class} style={props.style}>\n        {props.children}\n      </div>\n    );\n  },\n  hoverInfo: {\n    cleanup: () => {},\n  },\n});\n","import { createContext } from 'preact';\n\nexport const LocalExpressionContext = createContext({\n  data: null,\n  this: null,\n  parent: null,\n  i: null,\n});\n","import { createContext } from 'preact';\n\n/**\n * @param {string} type\n * @param {boolean} [strict]\n *\n * @returns {any}\n */\nfunction getService(type, strict) {}\n\nexport const FormContext = createContext({\n  getService,\n  formId: null,\n});\n","import { useContext } from 'preact/hooks';\n\nimport { FormContext } from '../context';\n\nexport function useService(type, strict) {\n  const { getService } = useContext(FormContext);\n\n  return getService(type, strict);\n}\n","export function isRequired(field) {\n  return field.required;\n}\n\nexport function pathParse(path) {\n  if (!path) {\n    return [];\n  }\n\n  return path.split('.').map((key) => {\n    return isNaN(parseInt(key)) ? key : parseInt(key);\n  });\n}\n\nexport function pathsEqual(a, b) {\n  return a && b && a.length === b.length && a.every((value, index) => value === b[index]);\n}\n\nconst indices = {};\n\nexport function generateIndexForType(type) {\n  if (type in indices) {\n    indices[type]++;\n  } else {\n    indices[type] = 1;\n  }\n\n  return indices[type];\n}\n\nexport function generateIdForType(type) {\n  return `${type}${generateIndexForType(type)}`;\n}\n\n/**\n * @template T\n * @param {T} data\n * @param {(this: any, key: string, value: any) => any} [replacer]\n * @return {T}\n */\nexport function clone(data, replacer) {\n  return JSON.parse(JSON.stringify(data, replacer));\n}\n\nexport function runRecursively(formField, fn) {\n  const components = formField.components || [];\n\n  components.forEach((component, _) => {\n    runRecursively(component, fn);\n  });\n\n  fn(formField);\n}\n\nexport function wrapObjectKeysWithUnderscores(obj) {\n  const newObj = {};\n  for (const [key, value] of Object.entries(obj)) {\n    newObj[`_${key}_`] = value;\n  }\n  return newObj;\n}\n","import { wrapObjectKeysWithUnderscores } from './simple';\n\n/**\n * Transform a LocalExpressionContext object into a usable FEEL context.\n *\n * @param {Object} context - The LocalExpressionContext object.\n * @returns {Object} The usable FEEL context.\n */\n\nexport function buildExpressionContext(context) {\n  const { data, ...specialContextKeys } = context;\n\n  return {\n    ...specialContextKeys,\n    ...data,\n    ...wrapObjectKeysWithUnderscores(specialContextKeys),\n  };\n}\n\n/**\n * Evaluate a string based on the expressionLanguage and context information.\n * If the string is not an expression, it is returned as is.\n *\n * @param {any} expressionLanguage - The expression language to use.\n * @param {string} value - The string to evaluate.\n * @param {Object} expressionContextInfo - The context information to use.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nexport function runExpressionEvaluation(expressionLanguage, value, expressionContextInfo) {\n  if (expressionLanguage && expressionLanguage.isExpression(value)) {\n    return expressionLanguage.evaluate(value, buildExpressionContext(expressionContextInfo));\n  }\n  return value;\n}\n","import { useService } from './useService.js';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext.js';\nimport { buildExpressionContext } from '../../util/expressions.js';\n\n/**\n * Evaluate if condition is met reactively based on the conditionChecker and form data.\n *\n * @param {string | undefined} condition\n *\n * @returns {boolean} true if condition is met or no condition or condition checker exists\n */\nexport function useCondition(condition) {\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    return conditionChecker ? conditionChecker.check(condition, buildExpressionContext(expressionContextInfo)) : null;\n  }, [conditionChecker, condition, expressionContextInfo]);\n}\n","import { get, isObject, isString, isNil } from 'min-dash';\n\n/**\n * Returns the options data for the provided if they can be simply determined, ignoring expression defined options.\n *\n * @param {object} formField\n * @param {object} formData\n */\nfunction getSimpleOptionsData(formField, formData) {\n  const { valuesExpression: optionsExpression, valuesKey: optionsKey, values: staticOptions } = formField;\n\n  if (optionsExpression) {\n    return null;\n  }\n\n  return optionsKey ? get(formData, [optionsKey]) : staticOptions;\n}\n\n/**\n * Normalizes the provided options data to a format that can be used by the select components.\n * If the options data is not valid, it is filtered out.\n *\n * @param {any[]} optionsData\n *\n * @returns {object[]}\n */\nfunction normalizeOptionsData(optionsData) {\n  return optionsData\n    .filter(_isAllowedValue)\n    .map(_normalizeOption)\n    .filter((o) => !isNil(o));\n}\n\n/**\n * Creates an options object with default values if no options are provided.\n *\n * @param {object} options\n *\n * @returns {object}\n */\nfunction createEmptyOptions(options = {}) {\n  const defaults = {};\n\n  // provide default options if valuesKey and valuesExpression are not set\n  if (!options.valuesKey && !options.valuesExpression) {\n    defaults.values = [\n      {\n        label: 'Value',\n        value: 'value',\n      },\n    ];\n  }\n\n  return {\n    ...defaults,\n    ...options,\n  };\n}\n\n/**\n * Converts the provided option to a normalized format.\n * If the option is not valid, null is returned.\n *\n * @param {object} option\n * @param {string} option.label\n * @param {*} option.value\n *\n * @returns\n */\nfunction _normalizeOption(option) {\n  // (1) simple primitive case, use it as both label and value\n  if (_isAllowedPrimitive(option)) {\n    return { value: option, label: `${option}` };\n  }\n\n  if (isObject(option)) {\n    const isValidLabel = _isValidLabel(option.label);\n\n    // (2) no label provided, but value is a simple primitive, use it as label and value\n    if (!isValidLabel && _isAllowedPrimitive(option.value)) {\n      return { value: option.value, label: `${option.value}` };\n    }\n\n    // (3) both label and value are provided, use them as is\n    if (isValidLabel && _isAllowedValue(option.value)) {\n      return option;\n    }\n  }\n\n  return null;\n}\n\nfunction _isAllowedPrimitive(value) {\n  const isAllowedPrimitiveType = ['number', 'string', 'boolean'].includes(typeof value);\n  const isValid = value || value === 0 || value === false;\n\n  return isAllowedPrimitiveType && isValid;\n}\n\nfunction _isValidLabel(label) {\n  return label && isString(label);\n}\n\nfunction _isAllowedValue(value) {\n  if (isObject(value)) {\n    return Object.keys(value).length > 0;\n  }\n\n  return _isAllowedPrimitive(value);\n}\n\nexport { getSimpleOptionsData, normalizeOptionsData, createEmptyOptions };\n","import { useService } from './useService';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { runExpressionEvaluation } from '../../util/expressions';\n\n/**\n * Evaluate a string reactively based on the expressionLanguage and form data.\n * If the string is not an expression, it is returned as is.\n * The function is memoized to minimize re-renders.\n *\n * @param {string} value - The string to evaluate.\n * @returns {any} - Evaluated value or the original value if not an expression.\n */\nexport function useExpressionEvaluation(value) {\n  const expressionLanguage = useService('expressionLanguage');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n  return useMemo(\n    () => runExpressionEvaluation(expressionLanguage, value, expressionContextInfo),\n    [expressionLanguage, expressionContextInfo, value],\n  );\n}\n","import { useRef } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\n\n/**\n * A custom hook to manage state changes with deep comparison.\n *\n * @template T\n * @param {T} value - The current value to manage.\n * @returns {T} - Returns the current state.\n */\nexport function useDeepCompareMemoize(value) {\n  const ref = useRef();\n\n  if (!isEqual(value, ref.current)) {\n    ref.current = value;\n  }\n\n  return ref.current;\n}\n","import { useMemo } from 'preact/hooks';\nimport { normalizeOptionsData } from '../components/util/optionsUtil';\nimport { useExpressionEvaluation } from './useExpressionEvaluation';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\nimport { useService } from './useService';\n\n/**\n * @enum { String }\n */\nexport const LOAD_STATES = {\n  LOADING: 'loading',\n  LOADED: 'loaded',\n  ERROR: 'error',\n};\n\n/**\n * @typedef {Object} OptionsGetter\n * @property {Object[]} options - The options data\n * @property {(LOAD_STATES)} loadState - The options data's loading state, to use for conditional rendering\n */\n\n/**\n * A hook to load options for single and multiselect components.\n *\n * @param {Object} field - The form field to handle options for\n * @return {OptionsGetter} optionsGetter - A options getter object providing loading state and options\n */\nexport function useOptionsAsync(field) {\n  const { valuesExpression: optionsExpression, valuesKey: optionsKey, values: staticOptions } = field;\n\n  const initialData = useService('form')._getState().initialData;\n  const expressionEvaluation = useExpressionEvaluation(optionsExpression);\n  const evaluatedOptions = useDeepCompareMemoize(expressionEvaluation || []);\n\n  const optionsGetter = useMemo(() => {\n    let options = [];\n\n    // dynamic options\n    if (optionsKey !== undefined) {\n      const keyedOptions = (initialData || {})[optionsKey];\n      if (keyedOptions && Array.isArray(keyedOptions)) {\n        options = keyedOptions;\n      }\n\n      // static options\n    } else if (staticOptions !== undefined) {\n      options = Array.isArray(staticOptions) ? staticOptions : [];\n\n      // expression\n    } else if (optionsExpression && evaluatedOptions && Array.isArray(evaluatedOptions)) {\n      options = evaluatedOptions;\n\n      // error case\n    } else {\n      return buildErrorState('No options source defined in the form definition');\n    }\n\n    // normalize data to support primitives and partially defined objects\n    return buildLoadedState(normalizeOptionsData(options));\n  }, [optionsKey, staticOptions, initialData, optionsExpression, evaluatedOptions]);\n\n  return optionsGetter;\n}\n\nconst buildErrorState = (error) => ({ options: [], error, loadState: LOAD_STATES.ERROR });\n\nconst buildLoadedState = (options) => ({ options, error: undefined, loadState: LOAD_STATES.LOADED });\n","import { useMemo } from 'preact/hooks';\nimport DOMPurify from 'dompurify';\n\n/**\n * Wrap HTML content in a configuration object for dangerouslySetInnerHTML\n * @param {Object} props\n * @param {string} props.html\n * @param {Function} [props.transform]\n * @param {boolean} [props.sanitize = true]\n * @param {boolean} [props.sanitizeStyleTags = true]\n */\nconst useDangerousHTMLWrapper = (props) => {\n  const { html, transform = (html) => html, sanitize = true, sanitizeStyleTags = true } = props;\n\n  const sanitizedHtml = useMemo(\n    () => (sanitize ? DOMPurify.sanitize(html, getDOMPurifyConfig(sanitizeStyleTags)) : html),\n    [html, sanitize, sanitizeStyleTags],\n  );\n  const transformedHtml = useMemo(() => transform(sanitizedHtml), [sanitizedHtml, transform]);\n\n  // Return the configuration object for dangerouslySetInnerHTML\n  return { __html: transformedHtml };\n};\n\nconst getDOMPurifyConfig = (sanitizeStyleTags) => {\n  return {\n    FORCE_BODY: true,\n    FORBID_TAGS: sanitizeStyleTags ? ['style'] : [],\n  };\n};\n\nexport { useDangerousHTMLWrapper };\n","import { get } from 'min-dash';\nimport { SECURITY_ATTRIBUTES_DEFINITIONS, SANDBOX_ATTRIBUTE } from '../../util/constants';\nimport { useMemo } from 'preact/hooks';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\n\n/**\n * A custom hook to build up security attributes from form configuration.\n *\n * @param {Object} security - The security configuration.\n * @returns {Array} - Returns a tuple with sandbox and allow attributes.\n */\nexport function useSecurityAttributesMap(security) {\n  const securityMemoized = useDeepCompareMemoize(security);\n\n  const sandbox = useMemo(\n    () =>\n      SECURITY_ATTRIBUTES_DEFINITIONS.filter(({ attribute }) => attribute === SANDBOX_ATTRIBUTE)\n        .filter(({ property }) => get(securityMemoized, [property], false))\n        .map(({ directive }) => directive)\n        .join(' '),\n    [securityMemoized],\n  );\n\n  const allow = useMemo(\n    () =>\n      SECURITY_ATTRIBUTES_DEFINITIONS.filter(({ attribute }) => attribute !== SANDBOX_ATTRIBUTE)\n        .filter(({ property }) => get(securityMemoized, [property], false))\n        .map(({ directive }) => directive)\n        .join('; '),\n    [securityMemoized],\n  );\n\n  return [sandbox, allow];\n}\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { isObject } from 'min-dash';\n\n/**\n * This hook allows us to retrieve the label from a value in linear time by caching it in a map\n * @param {Array} options\n */\nexport function useGetLabelCorrelation(options) {\n  // This allows us to retrieve the label from a value in linear time\n  const labelMap = useMemo(\n    () => Object.assign({}, ...options.map((o) => ({ [_getValueHash(o.value)]: o.label }))),\n    [options],\n  );\n  return useCallback((value) => labelMap[_getValueHash(value)], [labelMap]);\n}\n\nconst _getValueHash = (value) => {\n  return isObject(value) ? JSON.stringify(value) : value;\n};\n","/**\n * Wrap CSS styles with a given prefix.\n *\n * @param {HTMLElement} rootNode\n * @param {string} prefix\n *\n * @returns {HTMLElement}\n */\nfunction wrapCSSStyles(rootNode, prefix) {\n  const styleTags = rootNode.querySelectorAll('style');\n  styleTags.forEach((styleTag) => {\n    const topLevelRules = extractTopLevelRules(styleTag.textContent);\n    const scopedCss = topLevelRules\n      .map((rule) => {\n        const { selector, styles } = splitRule(rule);\n        const scopedSelector = scopeSelector(selector, prefix);\n        return `${scopedSelector} ${styles}`;\n      })\n      .join(' ');\n    styleTag.textContent = scopedCss;\n  });\n\n  return rootNode;\n}\n\nfunction extractTopLevelRules(cssString) {\n  let cursor = 0;\n  let start = 0;\n  let level = 0;\n  const topLevelRules = [];\n\n  while (cursor < cssString.length) {\n    if (cssString[cursor] === '{') {\n      level++;\n    }\n\n    if (cssString[cursor] === '}') {\n      level--;\n      if (level === 0) {\n        topLevelRules.push(cssString.substring(start, cursor + 1));\n        start = cursor + 1;\n      }\n    }\n\n    cursor++;\n  }\n\n  return topLevelRules.map((rule) => rule.trim());\n}\n\nfunction splitRule(rule) {\n  const firstBracket = rule.indexOf('{');\n  const selector = rule.substring(0, firstBracket);\n  const styles = rule.substring(firstBracket);\n  return { selector, styles };\n}\n\nfunction scopeSelector(selector, prefix) {\n  return selector\n    .split(',')\n    .map((sel) => `${prefix} ${sel.trim()}`)\n    .join(', ');\n}\n\nfunction getScrollContainer(el) {\n  while (el && el !== document.body && el !== document.documentElement) {\n    if (_isElementScrollable(el)) {\n      return el;\n    }\n    el = el.parentElement;\n  }\n\n  if (_isElementScrollable(document.body)) {\n    return document.body;\n  } else if (_isElementScrollable(document.documentElement)) {\n    return document.documentElement;\n  }\n\n  return null;\n}\n\nfunction _isElementScrollable(el) {\n  const style = window.getComputedStyle(el);\n  const overflowY = style.overflowY || style.overflow;\n\n  return (overflowY === 'auto' || overflowY === 'scroll') && el.scrollHeight > el.clientHeight;\n}\n\nexport { wrapCSSStyles, getScrollContainer };\n","import { some } from 'min-dash';\nimport { useEffect } from 'preact/hooks';\nimport { getScrollContainer } from '../components/util/domUtil';\n\nconst EMPTY_OBJECT = {};\nconst EMPTY_ARRAY = [];\n\n/**\n * Custom hook to scroll an element within a scrollable container.\n *\n * @param {Object} scrolledElementRef - A ref pointing to the DOM element to scroll into view.\n * @param {Array} deps - An array of dependencies that trigger the effect.\n * @param {Object} [scrollOptions={}] - Options defining the behavior of the scrolling.\n * @param {String} [scrollOptions.align='center'] - The alignment of the element within the viewport.\n * @param {String} [scrollOptions.behavior='auto'] - The scrolling behavior.\n * @param {Number} [scrollOptions.offset=0] - An offset that is added to the scroll position.\n * @param {Boolean} [scrollOptions.scrollIfVisible=false] - Whether to scroll even if the element is visible.\n * @param {Array} [flagRefs] - An array of refs that are used as flags to control when to scroll.\n */\nexport function useScrollIntoView(scrolledElementRef, deps, scrollOptions, flagRefs) {\n  const _scrollOptions = scrollOptions || EMPTY_OBJECT;\n  const _flagRefs = flagRefs || EMPTY_ARRAY;\n\n  useEffect(() => {\n    // return early if flags are not raised, or component is not mounted\n    if (some(_flagRefs, (ref) => !ref.current) || !scrolledElementRef.current) {\n      return;\n    }\n\n    for (let i = 0; i < _flagRefs.length; i++) {\n      _flagRefs[i].current = false;\n    }\n\n    const itemToBeScrolled = scrolledElementRef.current;\n    const scrollContainer = getScrollContainer(itemToBeScrolled);\n\n    if (!scrollContainer) {\n      return;\n    }\n\n    const itemRect = itemToBeScrolled.getBoundingClientRect();\n    const containerRect = scrollContainer.getBoundingClientRect();\n\n    const { align = 'center', offset = 0, behavior = 'auto', scrollIfVisible = false } = _scrollOptions;\n\n    const shouldScroll =\n      scrollIfVisible || !(itemRect.top >= containerRect.top && itemRect.bottom <= containerRect.bottom);\n\n    if (!shouldScroll) {\n      return;\n    }\n\n    const topOffset = _getTopOffset(itemToBeScrolled, scrollContainer, { align, offset });\n    scrollContainer.scroll({ top: topOffset, behavior });\n\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, deps);\n}\n\n// helper //////////////////////\n\nfunction _getTopOffset(item, scrollContainer, options) {\n  const itemRect = item.getBoundingClientRect();\n  const containerRect = scrollContainer.getBoundingClientRect();\n\n  if (options.align === 'top') {\n    return itemRect.top - containerRect.top + scrollContainer.scrollTop - options.offset;\n  } else if (options.align === 'bottom') {\n    return (\n      itemRect.bottom - containerRect.top - scrollContainer.clientHeight + scrollContainer.scrollTop + options.offset\n    );\n  } else if (options.align === 'center') {\n    return (\n      itemRect.top -\n      containerRect.top -\n      scrollContainer.clientHeight / 2 +\n      scrollContainer.scrollTop +\n      itemRect.height / 2 +\n      options.offset\n    );\n  }\n\n  return 0;\n}\n","import { useService } from './useService.js';\nimport { useMemo } from 'preact/hooks';\n\n/**\n * Returns the conditionally filtered data of a form reactively.\n * Memoised to minimize re-renders\n *\n * Warning: costly operation, use with care\n */\nexport function useFilteredFormData() {\n  const { initialData, data } = useService('form')._getState();\n  const conditionChecker = useService('conditionChecker', false);\n\n  return useMemo(() => {\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    return { ...initialData, ...newData };\n  }, [conditionChecker, data, initialData]);\n}\n","import { useEffect } from 'preact/hooks';\n\nexport function useKeyDownAction(targetKey, action, listenerElement = window) {\n  function downHandler({ key }) {\n    if (key === targetKey) {\n      action();\n    }\n  }\n\n  useEffect(() => {\n    listenerElement.addEventListener('keydown', downHandler);\n\n    return () => {\n      listenerElement.removeEventListener('keydown', downHandler);\n    };\n  });\n}\n","import { buildExpressionContext } from '../../util/expressions.js';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext.js';\nimport { useService } from './useService.js';\nimport { useContext } from 'preact/hooks';\n\n/**\n * Retrieve readonly value of a form field, given it can be an\n * expression optionally or configured globally.\n *\n * @typedef { import('../../types').FormProperties } FormProperties\n *\n * @param {any} formField\n * @param {FormProperties} properties\n *\n * @returns {boolean}\n */\nexport function useReadonly(formField, properties = {}) {\n  const expressionLanguage = useService('expressionLanguage');\n  const conditionChecker = useService('conditionChecker', false);\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  const { readonly } = formField;\n\n  if (properties.readOnly) {\n    return true;\n  }\n\n  if (expressionLanguage && expressionLanguage.isExpression(readonly)) {\n    return conditionChecker ? conditionChecker.check(readonly, buildExpressionContext(expressionContextInfo)) : false;\n  }\n\n  return readonly || false;\n}\n","import { useEffect, useRef } from 'preact/hooks';\n\nexport function usePrevious(value, defaultValue = null) {\n  const ref = useRef(defaultValue);\n\n  useEffect(() => (ref.current = value), [value]);\n\n  return ref.current;\n}\n","import { useCallback, useRef } from 'preact/hooks';\nimport { useService } from './useService';\n\nexport function useFlushDebounce(func) {\n  const timeoutRef = useRef(null);\n  const lastArgsRef = useRef(null);\n\n  const config = useService('config', false);\n  const debounce = config && config.debounce;\n  const shouldDebounce = debounce !== false && debounce !== 0;\n  const delay = typeof debounce === 'number' ? debounce : 300;\n\n  const debounceFunc = useCallback(\n    (...args) => {\n      if (!shouldDebounce) {\n        func(...args);\n        return;\n      }\n\n      lastArgsRef.current = args;\n\n      if (timeoutRef.current) {\n        clearTimeout(timeoutRef.current);\n      }\n\n      timeoutRef.current = setTimeout(() => {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }, delay);\n    },\n    [func, delay, shouldDebounce],\n  );\n\n  const flushFunc = useCallback(() => {\n    if (timeoutRef.current) {\n      clearTimeout(timeoutRef.current);\n      if (lastArgsRef.current !== null) {\n        func(...lastArgsRef.current);\n        lastArgsRef.current = null;\n      }\n      timeoutRef.current = null;\n    }\n  }, [func]);\n\n  return [debounceFunc, flushFunc];\n}\n","import { useService } from './useService';\nimport { useContext, useMemo } from 'preact/hooks';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\nimport { buildExpressionContext } from '../../util/expressions';\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} options\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.sanitizer]\n * @param {Function} [options.buildDebugString]\n *\n */\nexport function useTemplateEvaluation(value, options = {}) {\n  const templating = useService('templating');\n  const expressionContextInfo = useContext(LocalExpressionContext);\n\n  return useMemo(() => {\n    if (templating && templating.isTemplate(value)) {\n      return templating.evaluate(value, buildExpressionContext(expressionContextInfo), options);\n    }\n    return value;\n  }, [templating, value, expressionContextInfo, options]);\n}\n","import { useTemplateEvaluation } from './useTemplateEvaluation';\nimport { useMemo } from 'preact/hooks';\n\n/**\n * Template a string reactively based on form data. If the string is not a template, it is returned as is.\n * If the string contains multiple lines, only the first line is returned.\n * Memoised to minimize re-renders\n *\n * @param {string} value\n * @param {Object} [options]\n * @param {boolean} [options.debug = false]\n * @param {boolean} [options.strict = false]\n * @param {Function} [options.buildDebugString]\n *\n */\nexport function useSingleLineTemplateEvaluation(value, options = {}) {\n  const evaluatedTemplate = useTemplateEvaluation(value, options);\n  return useMemo(() => evaluatedTemplate && evaluatedTemplate.split('\\n')[0], [evaluatedTemplate]);\n}\n","import { isNumber } from 'min-dash';\nimport { MINUTES_IN_DAY, TIME_SERIALISING_FORMATS } from '../../../util/constants/DatetimeConstants';\n\nexport const ENTER_KEYDOWN_EVENT = new KeyboardEvent('keydown', {\n  code: 'Enter',\n  key: 'Enter',\n  charCode: 13,\n  keyCode: 13,\n  bubbles: true,\n});\n\nexport function focusRelevantFlatpickerDay(flatpickrInstance) {\n  if (!flatpickrInstance) return;\n\n  !flatpickrInstance.isOpen && flatpickrInstance.open();\n\n  const container = flatpickrInstance.calendarContainer;\n  const dayToFocus =\n    container.querySelector('.flatpickr-day.selected') ||\n    container.querySelector('.flatpickr-day.today') ||\n    container.querySelector('.flatpickr-day');\n\n  dayToFocus && dayToFocus.focus();\n}\n\nexport function formatTime(use24h, minutes) {\n  if (minutes === null) return null;\n\n  const wrappedMinutes = minutes % (24 * 60);\n\n  const minute = minutes % 60;\n  let hour = Math.floor(wrappedMinutes / 60);\n\n  if (use24h) {\n    return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute);\n  }\n\n  hour = hour % 12 || 12;\n\n  const isPM = wrappedMinutes >= 12 * 60;\n\n  return _getZeroPaddedString(hour) + ':' + _getZeroPaddedString(minute) + ' ' + (isPM ? 'PM' : 'AM');\n}\n\nexport function parseInputTime(stringTime) {\n  let workingString = stringTime.toLowerCase();\n  const is12h = workingString.includes('am') || workingString.includes('pm');\n\n  if (is12h) {\n    const isPM = workingString.includes('pm');\n    const digits = workingString.match(/\\d+/g);\n    const displayHour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]) || 0;\n\n    const isValidDisplayHour = isNumber(displayHour) && displayHour >= 1 && displayHour <= 12;\n    const isValidMinute = minute >= 0 && minute <= 59;\n\n    if (!isValidDisplayHour || !isValidMinute) return null;\n\n    const hour = (displayHour % 12) + (isPM ? 12 : 0);\n\n    return hour * 60 + minute;\n  } else {\n    const digits = workingString.match(/\\d+/g);\n    const hour = parseInt(digits && digits[0]);\n    const minute = parseInt(digits && digits[1]);\n\n    const isValidHour = isNumber(hour) && hour >= 0 && hour <= 23;\n    const isValidMinute = isNumber(minute) && minute >= 0 && minute <= 59;\n\n    if (!isValidHour || !isValidMinute) return null;\n\n    return hour * 60 + minute;\n  }\n}\n\nexport function serializeTime(minutes, offset, timeSerializingFormat) {\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const normalizedMinutes = (minutes + offset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n    return (\n      _getZeroPaddedString(Math.floor(normalizedMinutes / 60)) +\n      ':' +\n      _getZeroPaddedString(normalizedMinutes % 60) +\n      'Z'\n    );\n  }\n\n  const baseTime = _getZeroPaddedString(Math.floor(minutes / 60)) + ':' + _getZeroPaddedString(minutes % 60);\n  const addUTCOffset = timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_OFFSET;\n\n  return baseTime + (addUTCOffset ? formatTimezoneOffset(offset) : '');\n}\n\nexport function parseIsoTime(isoTimeString) {\n  if (!isoTimeString) return null;\n\n  const parseBasicMinutes = (timeString) => {\n    const timeSegments = timeString.split(':');\n    const hour = parseInt(timeSegments[0]);\n    const minute = timeSegments.length > 1 ? parseInt(timeSegments[1]) : 0;\n    if (isNaN(hour) || hour < 0 || hour > 24 || isNaN(minute) || minute < 0 || minute > 60) return null;\n    return hour * 60 + minute;\n  };\n\n  const localOffset = new Date().getTimezoneOffset();\n\n  // Parse normalized time\n  if (isoTimeString.includes('Z')) {\n    isoTimeString = isoTimeString.replace('Z', '');\n    const minutes = parseBasicMinutes(isoTimeString);\n    if (minutes === null) return null;\n    return (minutes - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset positive time\n  else if (isoTimeString.includes('+')) {\n    const [timeString, offsetString] = isoTimeString.split('+');\n\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n\n    if (minutes === null || inboundOffset === null) return null;\n\n    // The offset is flipped for consistency with javascript\n    inboundOffset = -inboundOffset;\n\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Parse offset negative time\n  else if (isoTimeString.includes('-')) {\n    const [timeString, offsetString] = isoTimeString.split('-');\n\n    const minutes = parseBasicMinutes(timeString);\n    let inboundOffset = parseBasicMinutes(offsetString);\n\n    if (minutes === null || inboundOffset === null) return null;\n\n    return (minutes + inboundOffset - localOffset + MINUTES_IN_DAY) % MINUTES_IN_DAY;\n  }\n\n  // Default to local parsing\n  else {\n    return parseBasicMinutes(isoTimeString);\n  }\n}\n\nexport function serializeDate(date) {\n  var d = new Date(date),\n    month = '' + (d.getMonth() + 1),\n    day = '' + d.getDate(),\n    year = d.getFullYear();\n\n  if (month.length < 2) month = '0' + month;\n  if (day.length < 2) day = '0' + day;\n\n  return [year, month, day].join('-');\n}\n\n// this method is used to make the `new Date(value)` parsing behavior stricter\nexport function isDateTimeInputInformationSufficient(value) {\n  if (!value || typeof value !== 'string') return false;\n\n  const segments = value.split('T');\n  if (segments.length != 2) return false;\n\n  const dateNumbers = segments[0].split('-');\n  if (dateNumbers.length != 3) return false;\n\n  return true;\n}\n\n// this method checks if the date isn't a datetime, or a partial date\nexport function isDateInputInformationMatching(value) {\n  if (!value || typeof value !== 'string') return false;\n\n  if (value.includes('T')) return false;\n\n  const dateNumbers = value.split('-');\n  if (dateNumbers.length != 3) return false;\n\n  return true;\n}\n\nexport function serializeDateTime(date, time, timeSerializingFormat) {\n  const workingDate = new Date();\n  workingDate.setFullYear(date.getFullYear(), date.getMonth(), date.getDate());\n  workingDate.setHours(Math.floor(time / 60), time % 60, 0, 0);\n\n  if (timeSerializingFormat === TIME_SERIALISING_FORMATS.UTC_NORMALIZED) {\n    const timezoneOffsetMinutes = workingDate.getTimezoneOffset();\n    const dayOffset = time + timezoneOffsetMinutes < 0 ? -1 : time + timezoneOffsetMinutes > MINUTES_IN_DAY ? 1 : 0;\n\n    // Apply the date rollover pre-emptively\n    workingDate.setHours(workingDate.getHours() + dayOffset * 24);\n  }\n\n  return serializeDate(workingDate) + 'T' + serializeTime(time, workingDate.getTimezoneOffset(), timeSerializingFormat);\n}\n\nexport function formatTimezoneOffset(minutes) {\n  return _getSignedPaddedHours(minutes) + ':' + _getZeroPaddedString(Math.abs(minutes % 60));\n}\n\nexport function isInvalidDateString(value) {\n  return isNaN(new Date(Date.parse(value)).getTime());\n}\n\nexport function getNullDateTime() {\n  return {\n    date: new Date(Date.parse(null)),\n    time: null,\n  };\n}\n\nexport function isValidDate(date) {\n  return date && !isNaN(date.getTime());\n}\n\nexport function isValidTime(time) {\n  return !isNaN(parseInt(time));\n}\n\nfunction _getSignedPaddedHours(minutes) {\n  if (minutes > 0) {\n    return '-' + _getZeroPaddedString(Math.floor(minutes / 60));\n  } else {\n    return '+' + _getZeroPaddedString(Math.floor((0 - minutes) / 60));\n  }\n}\n\nfunction _getZeroPaddedString(time) {\n  return time.toString().padStart(2, '0');\n}\n","import isEqual from 'lodash/isEqual';\nimport { DATETIME_SUBTYPES } from '../../../util/constants/DatetimeConstants';\nimport {\n  isDateInputInformationMatching,\n  isDateTimeInputInformationSufficient,\n  isInvalidDateString,\n  parseIsoTime,\n} from './dateTimeUtil';\nimport { getSimpleOptionsData, normalizeOptionsData } from './optionsUtil';\n\nconst ALLOWED_IMAGE_SRC_PATTERN = /^(https?|data):.*/i; // eslint-disable-line no-useless-escape\nconst ALLOWED_IFRAME_SRC_PATTERN = /^(https):\\/\\/*/i; // eslint-disable-line no-useless-escape\n\nexport function sanitizeDateTimePickerValue(options) {\n  const { formField, value } = options;\n\n  const { subtype } = formField;\n\n  if (typeof value !== 'string') return null;\n\n  if (subtype === DATETIME_SUBTYPES.DATE && (isInvalidDateString(value) || !isDateInputInformationMatching(value)))\n    return null;\n  if (subtype === DATETIME_SUBTYPES.TIME && parseIsoTime(value) === null) return null;\n  if (\n    subtype === DATETIME_SUBTYPES.DATETIME &&\n    (isInvalidDateString(value) || !isDateTimeInputInformationSufficient(value))\n  )\n    return null;\n\n  return value;\n}\n\nexport function hasEqualValue(value, array) {\n  if (!Array.isArray(array)) {\n    return false;\n  }\n\n  return array.some((element) => isEqual(value, element));\n}\n\nexport function sanitizeSingleSelectValue(options) {\n  const { formField, data, value } = options;\n\n  const { valuesExpression: optionsExpression } = formField;\n\n  try {\n    // if options are expression evaluated, we don't need to sanitize the value against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map((v) => v.value);\n    return hasEqualValue(value, validValues) ? value : null;\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return null;\n  }\n}\n\nexport function sanitizeMultiSelectValue(options) {\n  const { formField, data, value } = options;\n\n  const { valuesExpression: optionsExpression } = formField;\n\n  try {\n    // if options are expression evaluated, we don't need to sanitize the values against the options\n    // and defer to the field's internal validation\n    if (optionsExpression) {\n      return value;\n    }\n\n    const validValues = normalizeOptionsData(getSimpleOptionsData(formField, data)).map((v) => v.value);\n    return value.filter((v) => hasEqualValue(v, validValues));\n  } catch (error) {\n    // use default value in case of formatting error\n    // TODO(@Skaiir): log a warning when this happens - https://github.com/bpmn-io/form-js/issues/289\n    return [];\n  }\n}\n\n/**\n * Sanitizes an image source to ensure we only allow for data URI and links\n * that start with http(s).\n *\n * Note: Most browsers anyway do not support script execution in <img> elements.\n *\n * @param {string} src\n * @returns {string}\n */\nexport function sanitizeImageSource(src) {\n  const valid = ALLOWED_IMAGE_SRC_PATTERN.test(src);\n\n  return valid ? src : '';\n}\n\n/**\n * Sanitizes an iframe source to ensure we only allow for links\n * that start with http(s).\n *\n * @param {string} src\n * @returns {string}\n */\nexport function sanitizeIFrameSource(src) {\n  const valid = ALLOWED_IFRAME_SRC_PATTERN.test(src);\n\n  return valid ? src : '';\n}\n\n/**\n * Escapes HTML and returns pure text.\n * @param {string} html\n * @returns {string}\n */\nexport function escapeHTML(html) {\n  const escapeMap = {\n    '&': '&amp;',\n    '<': '&lt;',\n    '>': '&gt;',\n    '\"': '&quot;',\n    \"'\": '&#039;',\n    '{': '&#123;',\n    '}': '&#125;',\n    ':': '&#58;',\n    ';': '&#59;',\n  };\n\n  return html.replace(/[&<>\"'{};:]/g, (match) => escapeMap[match]);\n}\n","import { useEffect } from 'preact/hooks';\nimport { LOAD_STATES } from './useOptionsAsync';\nimport { hasEqualValue } from '../components/util/sanitizerUtil';\n\nexport function useCleanupSingleSelectValue(props) {\n  const { field, options, loadState, onChange, value } = props;\n\n  // Ensures that the value is always one of the possible options\n  useEffect(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n\n    const optionValues = options.map((o) => o.value);\n    const hasValueNotInOptions = value && !hasEqualValue(value, optionValues);\n\n    if (hasValueNotInOptions) {\n      onChange({\n        field,\n        value: null,\n      });\n    }\n  }, [field, options, onChange, value, loadState]);\n}\n","import { useEffect } from 'preact/hooks';\nimport { LOAD_STATES } from './useOptionsAsync';\nimport { hasEqualValue } from '../components/util/sanitizerUtil';\nimport { useDeepCompareMemoize } from './useDeepCompareMemoize';\n\nexport function useCleanupMultiSelectValue(props) {\n  const { field, options, loadState, onChange, values } = props;\n\n  const memoizedValues = useDeepCompareMemoize(values || []);\n\n  // ensures that the values are always a subset of the possible options\n  useEffect(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return;\n    }\n\n    const optionValues = options.map((o) => o.value);\n    const hasValuesNotInOptions = memoizedValues.some((v) => !hasEqualValue(v, optionValues));\n\n    if (hasValuesNotInOptions) {\n      onChange({\n        field,\n        value: memoizedValues.filter((v) => hasEqualValue(v, optionValues)),\n      });\n    }\n  }, [field, options, onChange, memoizedValues, loadState]);\n}\n","import { useSingleLineTemplateEvaluation } from '../hooks';\n\nexport function Description(props) {\n  const { description, id } = props;\n\n  const evaluatedDescription = useSingleLineTemplateEvaluation(description || '', { debug: true });\n\n  if (!evaluatedDescription) {\n    return null;\n  }\n\n  return (\n    <div id={id} class=\"fjs-form-field-description\">\n      {evaluatedDescription}\n    </div>\n  );\n}\n","export function Errors(props) {\n  const { errors, id } = props;\n\n  if (!errors.length) {\n    return null;\n  }\n\n  return (\n    <div class=\"fjs-form-field-error\" aria-live=\"polite\" id={id}>\n      <ul>\n        {errors.map((error) => {\n          return <li>{error}</li>;\n        })}\n      </ul>\n    </div>\n  );\n}\n","import classNames from 'classnames';\n\nimport { useSingleLineTemplateEvaluation } from '../hooks';\n\n/**\n * @typedef Props\n * @property {string|undefined} [id]\n * @property {string|undefined} [htmlFor]\n * @property {string|undefined} label\n * @property {string} [class]\n * @property {boolean} [collapseOnEmpty]\n * @property {boolean} [required]\n * @property {import(\"preact\").VNode} [children]\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Label(props) {\n  const { id, htmlFor, label, collapseOnEmpty = true, required = false } = props;\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label || '', { debug: true });\n\n  return (\n    <label\n      id={id}\n      for={htmlFor}\n      class={classNames('fjs-form-field-label', { 'fjs-incollapsible-label': !collapseOnEmpty }, props['class'])}>\n      {props.children}\n      {evaluatedLabel}\n      {required && (\n        <span class=\"fjs-asterix\" aria-hidden>\n          *\n        </span>\n      )}\n    </label>\n  );\n}\n","import { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { formFieldClasses } from '../Util';\n\nimport classNames from 'classnames';\n\nconst type = 'checkbox';\n\nexport function Checkbox(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value = false } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const { required } = validate;\n\n  const onChange = ({ target }) => {\n    props.onChange({\n      value: target.checked,\n    });\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={classNames(formFieldClasses(type, { errors, disabled, readonly }), { 'fjs-checked': value })}>\n      <Label htmlFor={domId} label={label} required={required}>\n        <input\n          checked={value}\n          class=\"fjs-input\"\n          disabled={disabled}\n          readOnly={readonly}\n          id={domId}\n          type=\"checkbox\"\n          onChange={onChange}\n          onBlur={() => onBlur && onBlur()}\n          onFocus={() => onFocus && onFocus()}\n          required={required}\n          aria-invalid={errors.length > 0}\n          aria-describedby={[descriptionId, errorMessageId].join(' ')}\n        />\n      </Label>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nCheckbox.config = {\n  type,\n  keyed: true,\n  label: 'Checkbox',\n  group: 'selection',\n  emptyValue: false,\n  sanitizeValue: ({ value }) => value === true,\n  create: (options = {}) => ({\n    ...options,\n  }),\n};\n","import { useRef } from 'preact/hooks';\nimport { useOptionsAsync, LOAD_STATES } from '../../hooks/useOptionsAsync';\nimport { useCleanupMultiSelectValue } from '../../hooks/useCleanupMultiSelectValue';\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { sanitizeMultiSelectValue, hasEqualValue } from '../util/sanitizerUtil';\n\nimport { createEmptyOptions } from '../util/optionsUtil';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'checklist';\n\nexport function Checklist(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value: values = [] } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const outerDivRef = useRef();\n\n  const { required } = validate;\n\n  const toggleCheckbox = (toggledValue) => {\n    const newValues = hasEqualValue(toggledValue, values)\n      ? values.filter((value) => !isEqual(value, toggledValue))\n      : [...values, toggledValue];\n\n    props.onChange({\n      value: newValues,\n    });\n  };\n\n  const onCheckboxBlur = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  };\n\n  const onCheckboxFocus = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  };\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange,\n  });\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={classNames(formFieldClasses(type, { errors, disabled, readonly }))} ref={outerDivRef}>\n      <Label label={label} required={required} />\n      {loadState == LOAD_STATES.LOADED &&\n        options.map((o, index) => {\n          const itemDomId = `${domId}-${index}`;\n          const isChecked = hasEqualValue(o.value, values);\n\n          return (\n            <Label\n              htmlFor={itemDomId}\n              label={o.label}\n              class={classNames({\n                'fjs-checked': isChecked,\n              })}\n              required={false}>\n              <input\n                checked={isChecked}\n                class=\"fjs-input\"\n                disabled={disabled}\n                readOnly={readonly}\n                id={itemDomId}\n                type=\"checkbox\"\n                onClick={() => toggleCheckbox(o.value)}\n                onBlur={onCheckboxBlur}\n                onFocus={onCheckboxFocus}\n                required={required}\n                aria-invalid={errors.length > 0}\n                aria-describedby={[descriptionId, errorMessageId].join(' ')}\n              />\n            </Label>\n          );\n        })}\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nChecklist.config = {\n  type,\n  keyed: true,\n  label: 'Checkbox group',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: createEmptyOptions,\n};\n","import { useCallback, useContext, useEffect, useMemo, useState } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\n\nimport { get } from 'min-dash';\n\nimport { FormContext, FormRenderContext, LocalExpressionContext } from '../context';\n\nimport { useCondition, useReadonly, useService } from '../hooks';\n\nimport { gridColumnClasses, prefixId } from './Util';\n\nconst noop = () => false;\n\nexport function FormField(props) {\n  const { field, indexes, onChange: _onChange } = props;\n\n  const formFields = useService('formFields'),\n    viewerCommands = useService('viewerCommands', false),\n    formFieldInstanceRegistry = useService('formFieldInstanceRegistry', false),\n    pathRegistry = useService('pathRegistry'),\n    eventBus = useService('eventBus'),\n    form = useService('form');\n\n  const { initialData, data, errors, properties } = form._getState();\n\n  const { Element, Hidden, Column } = useContext(FormRenderContext);\n\n  const { formId } = useContext(FormContext);\n\n  // track whether we should trigger initial validation on certain actions, e.g. field blur\n  // disabled straight away, if viewerCommands are not available\n  const [initialValidationTrigger, setInitialValidationTrigger] = useState(!!viewerCommands);\n\n  const FormFieldComponent = formFields.get(field.type);\n\n  if (!FormFieldComponent) {\n    throw new Error(`cannot render field <${field.type}>`);\n  }\n\n  const fieldConfig = FormFieldComponent.config;\n\n  const localExpressionContext = useContext(LocalExpressionContext);\n  const valuePath = useMemo(() => pathRegistry.getValuePath(field, { indexes }), [field, indexes, pathRegistry]);\n\n  const initialValue = useMemo(() => get(initialData, valuePath), [initialData, valuePath]);\n\n  const readonly = useReadonly(field, properties);\n\n  const value = get(data, valuePath);\n\n  // add precedence: global readonly > form field disabled\n  const disabled = !properties.readOnly && (properties.disabled || field.disabled || false);\n\n  const hidden = useCondition((field.conditional && field.conditional.hide) || null);\n\n  const fieldInstance = useMemo(\n    () => ({\n      id: field.id,\n      expressionContextInfo: localExpressionContext,\n      valuePath,\n      indexes,\n    }),\n    [field.id, valuePath, localExpressionContext, indexes],\n  );\n\n  // register form field instance\n  useEffect(() => {\n    if (formFieldInstanceRegistry && !hidden) {\n      const instanceId = formFieldInstanceRegistry.add(fieldInstance);\n\n      return () => {\n        formFieldInstanceRegistry.remove(instanceId);\n      };\n    }\n  }, [fieldInstance, formFieldInstanceRegistry, hidden]);\n\n  // ensures the initial validation behavior can be re-triggered upon form reset\n  useEffect(() => {\n    if (!viewerCommands) {\n      return;\n    }\n\n    const resetValidation = () => {\n      setInitialValidationTrigger(true);\n    };\n\n    eventBus.on('import.done', resetValidation);\n    eventBus.on('reset', resetValidation);\n\n    return () => {\n      eventBus.off('import.done', resetValidation);\n      eventBus.off('reset', resetValidation);\n    };\n  }, [eventBus, viewerCommands]);\n\n  useEffect(() => {\n    const hasInitialValue = initialValue && !isEqual(initialValue, []);\n\n    if (initialValidationTrigger && hasInitialValue) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, initialValue);\n    }\n  }, [fieldInstance, initialValidationTrigger, initialValue, viewerCommands]);\n\n  const onBlur = useCallback(() => {\n    const value = get(data, valuePath);\n\n    if (initialValidationTrigger) {\n      setInitialValidationTrigger(false);\n      viewerCommands.updateFieldInstanceValidation(fieldInstance, value);\n    }\n\n    eventBus.fire('formField.blur', { formField: field });\n  }, [data, eventBus, field, fieldInstance, initialValidationTrigger, valuePath, viewerCommands]);\n\n  const onFocus = useCallback(() => {\n    eventBus.fire('formField.focus', { formField: field });\n  }, [eventBus, field]);\n\n  const onChange = useCallback(\n    (update) => {\n      setInitialValidationTrigger(false);\n      _onChange({ field, indexes, fieldInstance, ...update });\n    },\n    [_onChange, field, fieldInstance, indexes],\n  );\n\n  if (hidden) {\n    return <Hidden field={field} />;\n  }\n\n  const domId = `${prefixId(field.id, formId, indexes)}`;\n  const fieldErrors = get(errors, [field.id, ...Object.values(indexes || {})]) || [];\n\n  const formFieldElement = (\n    <FormFieldComponent\n      {...props}\n      disabled={disabled}\n      errors={fieldErrors}\n      domId={domId}\n      onChange={disabled || readonly ? noop : onChange}\n      onBlur={disabled || readonly ? noop : onBlur}\n      onFocus={disabled || readonly ? noop : onFocus}\n      readonly={readonly}\n      value={value}\n      fieldInstance={fieldInstance}\n    />\n  );\n\n  if (fieldConfig.escapeGridRender) {\n    return formFieldElement;\n  }\n\n  return (\n    <Column field={field} class={gridColumnClasses(field)}>\n      <Element class=\"fjs-element\" field={field}>\n        {formFieldElement}\n      </Element>\n    </Column>\n  );\n}\n","import { useContext, useState } from 'preact/hooks';\n\nimport { useService } from '../../../hooks/useService';\n\nimport { FormField } from '../../FormField';\n\nimport { FormRenderContext } from '../../../context';\n\nexport function ChildrenRenderer(props) {\n  const { Children } = useContext(FormRenderContext);\n\n  const { field, Empty } = props;\n\n  const { id } = field;\n\n  const repeatRenderManager = useService('repeatRenderManager', false);\n\n  const isRepeating = repeatRenderManager && repeatRenderManager.isFieldRepeating(id);\n\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n\n  return isRepeating ? (\n    <RepeatChildrenRenderer\n      {...props}\n      {...{ ChildrenRoot: Children, Empty, Repeater, RepeatFooter, repeatRenderManager }}\n    />\n  ) : (\n    <SimpleChildrenRenderer {...props} {...{ ChildrenRoot: Children, Empty }} />\n  );\n}\n\nfunction SimpleChildrenRenderer(props) {\n  const { ChildrenRoot, Empty, field } = props;\n\n  const { components = [] } = field;\n\n  const isEmpty = !components.length;\n\n  return (\n    <ChildrenRoot class=\"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\" field={field}>\n      <RowsRenderer {...props} />\n      {isEmpty ? <Empty field={field} /> : null}\n    </ChildrenRoot>\n  );\n}\n\nfunction RepeatChildrenRenderer(props) {\n  const { ChildrenRoot, repeatRenderManager, Empty, field, ...restProps } = props;\n\n  const { components = [] } = field;\n\n  const useSharedState = useState({ isCollapsed: true });\n\n  const Repeater = repeatRenderManager.Repeater;\n  const RepeatFooter = repeatRenderManager.RepeatFooter;\n\n  return (\n    <>\n      <ChildrenRoot class=\"fjs-vertical-layout fjs-children cds--grid cds--grid--condensed\" field={field}>\n        {Repeater ? (\n          <Repeater {...{ ...restProps, useSharedState, field, RowsRenderer }} />\n        ) : (\n          <RowsRenderer {...{ ...restProps, field }} />\n        )}\n        {!components.length ? <Empty field={field} /> : null}\n      </ChildrenRoot>\n      {RepeatFooter ? <RepeatFooter {...{ ...restProps, useSharedState, field }} /> : null}\n    </>\n  );\n}\n\nfunction RowsRenderer(props) {\n  const { field, indexes } = props;\n  const { id: parentId, verticalAlignment = 'start' } = field;\n\n  const formLayouter = useService('formLayouter');\n  const formFieldRegistry = useService('formFieldRegistry');\n  const rows = formLayouter.getRows(parentId);\n\n  const { Row } = useContext(FormRenderContext);\n\n  return (\n    <>\n      {' '}\n      {rows.map((row) => {\n        const { components = [] } = row;\n\n        if (!components.length) {\n          return null;\n        }\n\n        return (\n          <Row row={row} class=\"fjs-layout-row cds--row\" style={{ alignItems: verticalAlignment }}>\n            {components.map((childId) => {\n              const childField = formFieldRegistry.get(childId);\n\n              if (!childField) {\n                return null;\n              }\n\n              return <FormField {...props} key={childId} field={childField} indexes={indexes} />;\n            })}\n          </Row>\n        );\n      })}{' '}\n    </>\n  );\n}\n","import { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function Default(props) {\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return <ChildrenRenderer {...fullProps} />;\n}\n\nDefault.config = {\n  type: 'default',\n  keyed: false,\n  label: null,\n  group: null,\n  create: (options = {}) => ({\n    components: [],\n    ...options,\n  }),\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"14\" height=\"15\" fill=\"none\" viewBox=\"0 0 28 30\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M19 2H9V0H7v2H2a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2h-5V0h-2v2ZM7 7V4H2v5h24V4h-5v3h-2V4H9v3H7Zm-5 4v17h24V11H2Z\" clip-rule=\"evenodd\"/></svg>","/**\n * Returns date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get date format for.\n * @returns {string} The date format for the locale.\n */\nexport function getLocaleDateFormat(locale = 'default') {\n  const parts = new Intl.DateTimeFormat(locale).formatToParts(new Date(Date.UTC(2020, 5, 5)));\n  return parts\n    .map((part) => {\n      const len = part.value.length;\n      switch (part.type) {\n        case 'day':\n          return 'd'.repeat(len);\n        case 'month':\n          return 'M'.repeat(len);\n        case 'year':\n          return 'y'.repeat(len);\n        default:\n          return part.value;\n      }\n    })\n    .join('');\n}\n\n/**\n * Returns readable date format for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get readable date format for.\n * @returns {string} The readable date format for the locale.\n */\nexport function getLocaleReadableDateFormat(locale) {\n  let format = getLocaleDateFormat(locale).toLowerCase();\n\n  // Ensure month is in 'mm' format\n  if (!format.includes('mm')) {\n    format = format.replace('m', 'mm');\n  }\n\n  // Ensure day is in 'dd' format\n  if (!format.includes('dd')) {\n    format = format.replace('d', 'dd');\n  }\n\n  return format;\n}\n\n/**\n * Returns flatpickr config for the provided locale.\n * If the locale is not provided, uses the browser's locale.\n *\n * @param {string} [locale] - The locale to get flatpickr config for.\n * @returns {object} The flatpickr config for the locale.\n */\nexport function getLocaleDateFlatpickrConfig(locale) {\n  return flatpickerizeDateFormat(getLocaleDateFormat(locale));\n}\n\nfunction flatpickerizeDateFormat(dateFormat) {\n  const useLeadingZero = {\n    day: dateFormat.includes('dd'),\n    month: dateFormat.includes('MM'),\n    year: dateFormat.includes('yyyy'),\n  };\n\n  dateFormat = useLeadingZero.day ? dateFormat.replace('dd', 'd') : dateFormat.replace('d', 'j');\n  dateFormat = useLeadingZero.month ? dateFormat.replace('MM', 'm') : dateFormat.replace('M', 'n');\n  dateFormat = useLeadingZero.year ? dateFormat.replace('yyyy', 'Y') : dateFormat.replace('yy', 'y');\n\n  return dateFormat;\n}\n","import classNames from 'classnames';\nimport { isString } from 'min-dash';\n\nexport function InputAdorner(props) {\n  const { pre, post, rootRef, inputRef, children, disabled, readonly, hasErrors } = props;\n\n  const onAdornmentClick = () => inputRef && inputRef.current && inputRef.current.focus();\n\n  return (\n    <div\n      class={classNames(\n        'fjs-input-group',\n        { 'fjs-disabled': disabled, 'fjs-readonly': readonly },\n        { hasErrors: hasErrors },\n      )}\n      ref={rootRef}>\n      {pre && (\n        <span class=\"fjs-input-adornment border-right border-radius-left\" onClick={onAdornmentClick}>\n          {' '}\n          {isString(pre) ? <span class=\"fjs-input-adornment-text\">{pre}</span> : pre}{' '}\n        </span>\n      )}\n      {children}\n      {post && (\n        <span class=\"fjs-input-adornment border-left border-radius-right\" onClick={onAdornmentClick}>\n          {' '}\n          {isString(post) ? <span class=\"fjs-input-adornment-text\">{post}</span> : post}{' '}\n        </span>\n      )}\n    </div>\n  );\n}\n","import flatpickr from 'flatpickr';\nimport CalendarIcon from '../icons/Calendar.svg';\n\nimport { ENTER_KEYDOWN_EVENT, focusRelevantFlatpickerDay } from '../../util/dateTimeUtil';\nimport { getLocaleReadableDateFormat, getLocaleDateFlatpickrConfig } from '../../util/localisationUtil';\nimport { useCallback, useEffect, useRef, useState } from 'preact/hooks';\nimport { useDeepCompareMemoize } from '../../../hooks';\n\nimport { InputAdorner } from './InputAdorner';\nimport { Label } from '../../Label';\n\nexport function Datepicker(props) {\n  const {\n    label,\n    domId,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateObject,\n    readonly,\n    setDate,\n  } = props;\n\n  const dateInputRef = useRef();\n  const focusScopeRef = useRef();\n\n  const [flatpickrInstance, setFlatpickrInstance] = useState(null);\n  const [isInputDirty, setIsInputDirty] = useState(false);\n  const [forceFocusCalendar, setForceFocusCalendar] = useState(false);\n\n  // ensures we render based on date value instead of reference\n  const date = useDeepCompareMemoize(dateObject);\n\n  // shorts the date value back to the source\n  useEffect(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n\n    flatpickrInstance.setDate(date, true);\n    setIsInputDirty(false);\n  }, [flatpickrInstance, date]);\n\n  useEffect(() => {\n    if (!forceFocusCalendar) return;\n\n    focusRelevantFlatpickerDay(flatpickrInstance);\n    setForceFocusCalendar(false);\n  }, [flatpickrInstance, forceFocusCalendar]);\n\n  // setup flatpickr instance\n  useEffect(() => {\n    let config = {\n      allowInput: true,\n      dateFormat: getLocaleDateFlatpickrConfig(),\n      static: true,\n      clickOpens: false,\n\n      // TODO: support dates prior to 1900 (https://github.com/bpmn-io/form-js/issues/533)\n      minDate: disallowPassedDates ? 'today' : '01/01/1900',\n      errorHandler: () => {\n        /* do nothing, we expect the values to sometimes be erronous and we don't want warnings polluting the console */\n      },\n    };\n\n    const instance = flatpickr(dateInputRef.current, config);\n\n    setFlatpickrInstance(instance);\n\n    const onCalendarFocusOut = (e) => {\n      if (!instance.calendarContainer.contains(e.relatedTarget) && e.relatedTarget != dateInputRef.current) {\n        instance.close();\n      }\n    };\n\n    // remove dirty tag to have mouse day selection prioritize input blur\n    const onCalendarMouseDown = (e) => {\n      if (e.target.classList.contains('flatpickr-day')) {\n        setIsInputDirty(false);\n      }\n    };\n\n    // when the dropdown of the datepickr opens, we register a few event handlers to re-implement some of the\n    // flatpicker logic that was lost when setting allowInput to true\n    instance.config.onOpen = [\n      () => instance.calendarContainer.addEventListener('focusout', onCalendarFocusOut),\n      () => instance.calendarContainer.addEventListener('mousedown', onCalendarMouseDown),\n    ];\n\n    instance.config.onClose = [\n      () => instance.calendarContainer.removeEventListener('focusout', onCalendarFocusOut),\n      () => instance.calendarContainer.removeEventListener('mousedown', onCalendarMouseDown),\n    ];\n  }, [disallowPassedDates]);\n\n  // onChange is updated dynamically, so not to re-render the flatpicker every time it changes\n  useEffect(() => {\n    if (!flatpickrInstance || !flatpickrInstance.config) return;\n\n    flatpickrInstance.config.onChange = [(date) => setDate(new Date(date)), () => setIsInputDirty(false)];\n  }, [flatpickrInstance, setDate]);\n\n  const onInputKeyDown = useCallback(\n    (e) => {\n      if (!flatpickrInstance) return;\n\n      if (e.code === 'Escape') {\n        flatpickrInstance.close();\n      }\n\n      if (e.code === 'ArrowDown') {\n        if (isInputDirty) {\n          // trigger an enter keypress to submit the new input, then focus calendar day on the next render cycle\n          dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n          setIsInputDirty(false);\n          setForceFocusCalendar(true);\n        } else {\n          // focus calendar day immediately\n          focusRelevantFlatpickerDay(flatpickrInstance);\n        }\n\n        e.preventDefault();\n      }\n\n      if (e.code === 'Enter') {\n        setIsInputDirty(false);\n      }\n    },\n    [flatpickrInstance, isInputDirty],\n  );\n\n  const onInputFocus = useCallback(\n    (e) => {\n      if (!flatpickrInstance || focusScopeRef.current.contains(e.relatedTarget) || readonly) return;\n      flatpickrInstance.open();\n      onDateTimeFocus(e);\n    },\n    [flatpickrInstance, readonly, onDateTimeFocus],\n  );\n\n  // simulate an enter press on blur to make sure the date value is submitted in all scenarios\n  const onInputBlur = useCallback(\n    (e) => {\n      const isFalseBlur = e.relatedTarget && e.relatedTarget.classList.contains('flatpickr-day');\n      if (isFalseBlur) return;\n      if (isInputDirty) {\n        dateInputRef.current.dispatchEvent(ENTER_KEYDOWN_EVENT);\n        setIsInputDirty(false);\n      }\n\n      onDateTimeBlur(e);\n    },\n    [isInputDirty, onDateTimeBlur],\n  );\n\n  return (\n    <div class=\"fjs-datetime-subsection\">\n      <Label htmlFor={domId} label={label} collapseOnEmpty={collapseLabelOnEmpty} required={required} />\n      <InputAdorner\n        pre={<CalendarIcon />}\n        disabled={disabled}\n        readonly={readonly}\n        rootRef={focusScopeRef}\n        inputRef={dateInputRef}>\n        <div class=\"fjs-datepicker\" style={{ width: '100%' }}>\n          <input\n            ref={dateInputRef}\n            type=\"text\"\n            id={domId}\n            class=\"fjs-input\"\n            disabled={disabled}\n            readOnly={readonly}\n            placeholder={getLocaleReadableDateFormat()}\n            autoComplete=\"off\"\n            onFocus={onInputFocus}\n            onBlur={onInputBlur}\n            onKeyDown={onInputKeyDown}\n            onMouseDown={() => !flatpickrInstance.isOpen && !readonly && flatpickrInstance.open()}\n            onInput={() => setIsInputDirty(true)}\n            data-input\n            aria-describedby={props['aria-describedby']}\n          />\n        </div>\n      </InputAdorner>\n    </div>\n  );\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\" viewBox=\"0 0 28 29\"><path fill=\"currentColor\" d=\"M13 14.41 18.59 20 20 18.59l-5-5.01V5h-2v9.41Z\"/><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M6.222 25.64A14 14 0 1 0 21.778 2.36 14 14 0 0 0 6.222 25.64ZM7.333 4.023a12 12 0 1 1 13.334 19.955A12 12 0 0 1 7.333 4.022Z\" clip-rule=\"evenodd\"/></svg>","import classNames from 'classnames';\nimport { useState, useEffect, useCallback, useRef, useMemo } from 'preact/hooks';\nimport { useKeyDownAction } from '../../../hooks/useKeyDownAction';\n\nconst DEFAULT_LABEL_GETTER = (value) => value;\nconst NOOP = () => {};\n\nexport function DropdownList(props) {\n  const {\n    listenerElement = window,\n    values = [],\n    getLabel = DEFAULT_LABEL_GETTER,\n    onValueSelected = NOOP,\n    height = 235,\n    emptyListMessage = 'No results',\n    initialFocusIndex = 0,\n  } = props;\n\n  const [mouseControl, setMouseControl] = useState(false);\n  const [focusedValueIndex, setFocusedValueIndex] = useState(initialFocusIndex);\n  const [smoothScrolling, setSmoothScrolling] = useState(false);\n  const dropdownContainer = useRef();\n  const mouseScreenPos = useRef();\n\n  const focusedItem = useMemo(() => (values.length ? values[focusedValueIndex] : null), [focusedValueIndex, values]);\n\n  const changeFocusedValueIndex = useCallback(\n    (delta) => {\n      setFocusedValueIndex((x) => Math.min(Math.max(0, x + delta), values.length - 1));\n    },\n    [values.length],\n  );\n\n  useEffect(() => {\n    if (focusedValueIndex === 0) return;\n\n    if (!focusedValueIndex || !values.length) {\n      setFocusedValueIndex(0);\n    } else if (focusedValueIndex >= values.length) {\n      setFocusedValueIndex(values.length - 1);\n    }\n  }, [focusedValueIndex, values.length]);\n\n  useKeyDownAction(\n    'ArrowUp',\n    () => {\n      if (values.length) {\n        changeFocusedValueIndex(-1);\n        setMouseControl(false);\n      }\n    },\n    listenerElement,\n  );\n\n  useKeyDownAction(\n    'ArrowDown',\n    () => {\n      if (values.length) {\n        changeFocusedValueIndex(1);\n        setMouseControl(false);\n      }\n    },\n    listenerElement,\n  );\n\n  useKeyDownAction(\n    'Enter',\n    () => {\n      if (focusedItem) {\n        onValueSelected(focusedItem);\n      }\n    },\n    listenerElement,\n  );\n\n  useEffect(() => {\n    const individualEntries = dropdownContainer.current.children;\n    if (individualEntries.length && !mouseControl) {\n      const focusedEntry = individualEntries[focusedValueIndex];\n      focusedEntry && focusedEntry.scrollIntoView({ block: 'nearest', inline: 'nearest' });\n    }\n  }, [focusedValueIndex, mouseControl]);\n\n  useEffect(() => {\n    setSmoothScrolling(true);\n  }, []);\n\n  const onMouseMovedInKeyboardMode = (event, valueIndex) => {\n    const userMovedCursor =\n      !mouseScreenPos.current ||\n      (mouseScreenPos.current.x !== event.screenX && mouseScreenPos.current.y !== event.screenY);\n\n    if (userMovedCursor) {\n      mouseScreenPos.current = { x: event.screenX, y: event.screenY };\n      setMouseControl(true);\n      setFocusedValueIndex(valueIndex);\n    }\n  };\n\n  return (\n    <div\n      ref={dropdownContainer}\n      tabIndex={-1}\n      class=\"fjs-dropdownlist\"\n      onMouseDown={(e) => e.preventDefault()}\n      style={{ maxHeight: height, scrollBehavior: smoothScrolling ? 'smooth' : 'auto' }}>\n      {values.length > 0 &&\n        values.map((v, i) => {\n          return (\n            <div\n              class={classNames('fjs-dropdownlist-item', { focused: focusedValueIndex === i })}\n              onMouseMove={mouseControl ? undefined : (e) => onMouseMovedInKeyboardMode(e, i)}\n              onMouseEnter={mouseControl ? () => setFocusedValueIndex(i) : undefined}\n              onMouseDown={(e) => onValueSelected(v)}>\n              {getLabel(v)}\n            </div>\n          );\n        })}\n      {!values.length && <div class=\"fjs-dropdownlist-empty\">{emptyListMessage}</div>}\n    </div>\n  );\n}\n","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { formatTime, parseInputTime } from '../../util/dateTimeUtil';\nimport { isNumber } from 'min-dash';\n\nimport ClockIcon from '../icons/Clock.svg';\nimport { DropdownList } from './DropdownList';\nimport { InputAdorner } from './InputAdorner';\nimport { Label } from '../../Label';\n\nexport function Timepicker(props) {\n  const {\n    label,\n    collapseLabelOnEmpty,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId,\n    required,\n    disabled,\n    readonly,\n    use24h = false,\n    timeInterval,\n    time,\n    setTime,\n  } = props;\n\n  const safeTimeInterval = useMemo(() => {\n    const allowedIntervals = [1, 5, 10, 15, 30, 60];\n\n    if (allowedIntervals.includes(timeInterval)) {\n      return timeInterval;\n    }\n\n    return 15;\n  }, [timeInterval]);\n\n  const timeInputRef = useRef();\n  const [dropdownIsOpen, setDropdownIsOpen] = useState(false);\n  const useDropdown = useMemo(() => safeTimeInterval !== 1, [safeTimeInterval]);\n\n  const [rawValue, setRawValue] = useState('');\n\n  // populates values from source\n  useEffect(() => {\n    if (time === null) {\n      setRawValue('');\n      return;\n    }\n\n    const intervalAdjustedTime = time - (time % safeTimeInterval);\n    setRawValue(formatTime(use24h, intervalAdjustedTime));\n\n    if (intervalAdjustedTime != time) {\n      setTime(intervalAdjustedTime);\n    }\n  }, [time, setTime, use24h, safeTimeInterval]);\n\n  const propagateRawToMinute = useCallback(\n    (newRawValue) => {\n      const localRawValue = newRawValue || rawValue;\n\n      // If no raw value exists, set the minute to null\n      if (!localRawValue) {\n        setTime(null);\n        return;\n      }\n\n      const minutes = parseInputTime(localRawValue);\n\n      // If raw string couldn't be parsed, clean everything up\n      if (!isNumber(minutes)) {\n        setRawValue('');\n        setTime(null);\n        return;\n      }\n\n      // Enforce the minutes to match the timeInterval\n      const correctedMinutes = minutes - (minutes % safeTimeInterval);\n\n      // Enforce the raw text to be formatted properly\n      setRawValue(formatTime(use24h, correctedMinutes));\n      setTime(correctedMinutes);\n    },\n    [rawValue, safeTimeInterval, use24h, setTime],\n  );\n\n  const timeOptions = useMemo(() => {\n    const minutesInDay = 24 * 60;\n    const intervalCount = Math.floor(minutesInDay / safeTimeInterval);\n    return [...Array(intervalCount).keys()].map((intervalIndex) =>\n      formatTime(use24h, intervalIndex * safeTimeInterval),\n    );\n  }, [safeTimeInterval, use24h]);\n\n  const initialFocusIndex = useMemo(() => {\n    // if there are no options, there will not be any focusing\n    if (!timeOptions || !safeTimeInterval) return null;\n\n    // if there is a set minute value, we focus it in the dropdown\n    if (time) return time / safeTimeInterval;\n\n    const cacheTime = parseInputTime(rawValue);\n\n    // if there is a valid value in the input cache, we try and focus close to it\n    if (cacheTime) {\n      const flooredCacheTime = cacheTime - (cacheTime % safeTimeInterval);\n      return flooredCacheTime / safeTimeInterval;\n    }\n\n    // If there is no set value, simply focus the middle of the dropdown (12:00)\n    return Math.floor(timeOptions.length / 2);\n  }, [rawValue, time, safeTimeInterval, timeOptions]);\n\n  const onInputKeyDown = (e) => {\n    switch (e.key) {\n      case 'ArrowUp':\n        e.preventDefault();\n        break;\n      case 'ArrowDown':\n        useDropdown && setDropdownIsOpen(true);\n        e.preventDefault();\n        break;\n      case 'Escape':\n        useDropdown && setDropdownIsOpen(false);\n        break;\n      case 'Enter':\n        !dropdownIsOpen && propagateRawToMinute();\n        break;\n    }\n  };\n\n  const onInputBlur = (e) => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute();\n    onDateTimeBlur(e);\n  };\n\n  const onInputFocus = (e) => {\n    onDateTimeFocus(e);\n    !readonly && useDropdown && setDropdownIsOpen(true);\n  };\n\n  const onDropdownValueSelected = (value) => {\n    setDropdownIsOpen(false);\n    propagateRawToMinute(value);\n  };\n\n  return (\n    <div class=\"fjs-datetime-subsection\">\n      <Label htmlFor={domId} label={label} collapseOnEmpty={collapseLabelOnEmpty} required={required} />\n      <InputAdorner pre={<ClockIcon />} inputRef={timeInputRef} disabled={disabled} readonly={readonly}>\n        <div class=\"fjs-timepicker fjs-timepicker-anchor\">\n          <input\n            ref={timeInputRef}\n            type=\"text\"\n            id={domId}\n            class=\"fjs-input\"\n            value={rawValue}\n            disabled={disabled}\n            readOnly={readonly}\n            placeholder={use24h ? 'hh:mm' : 'hh:mm ?m'}\n            autoComplete=\"off\"\n            onInput={(e) => {\n              // @ts-expect-error\n              setRawValue(e.target.value);\n              useDropdown && setDropdownIsOpen(false);\n            }}\n            onBlur={onInputBlur}\n            onFocus={onInputFocus}\n            onClick={() => !readonly && useDropdown && setDropdownIsOpen(true)}\n            onKeyDown={onInputKeyDown}\n            data-input\n            aria-describedby={props['aria-describedby']}\n          />\n\n          {dropdownIsOpen && (\n            <DropdownList\n              values={timeOptions}\n              height={150}\n              onValueSelected={onDropdownValueSelected}\n              listenerElement={timeInputRef.current}\n              initialFocusIndex={initialFocusIndex}\n            />\n          )}\n        </div>\n      </InputAdorner>\n    </div>\n  );\n}\n","import { useCallback, useContext, useMemo, useState, useEffect, useRef } from 'preact/hooks';\n\nimport classNames from 'classnames';\n\nimport { set } from 'min-dash';\n\nimport { FormContext } from '../../context';\n\nimport { DATETIME_SUBTYPES, DATETIME_SUBTYPE_PATH, DATE_LABEL_PATH } from '../../../util/constants/DatetimeConstants';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Datepicker } from './parts/Datepicker';\nimport { Timepicker } from './parts/Timepicker';\n\nimport { formFieldClasses, prefixId } from '../Util';\nimport { sanitizeDateTimePickerValue } from '../util/sanitizerUtil';\nimport {\n  parseIsoTime,\n  serializeDate,\n  serializeDateTime,\n  serializeTime,\n  getNullDateTime,\n  isValidDate,\n  isValidTime,\n} from '../util/dateTimeUtil';\n\nconst type = 'datetime';\n\nexport function Datetime(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, onChange, readonly, value = '' } = props;\n\n  const {\n    description,\n    id,\n    dateLabel,\n    timeLabel,\n    validate = {},\n    subtype,\n    use24h,\n    disallowPassedDates,\n    timeInterval,\n    timeSerializingFormat,\n  } = field;\n\n  const { required } = validate;\n  const { formId } = useContext(FormContext);\n  const dateTimeGroupRef = useRef();\n\n  const [dateTime, setDateTime] = useState(getNullDateTime());\n  const [dateTimeUpdateRequest, setDateTimeUpdateRequest] = useState(null);\n\n  const useDatePicker = useMemo(\n    () => subtype === DATETIME_SUBTYPES.DATE || subtype === DATETIME_SUBTYPES.DATETIME,\n    [subtype],\n  );\n  const useTimePicker = useMemo(\n    () => subtype === DATETIME_SUBTYPES.TIME || subtype === DATETIME_SUBTYPES.DATETIME,\n    [subtype],\n  );\n\n  const onDateTimeBlur = useCallback(\n    (e) => {\n      if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n        return;\n      }\n\n      onBlur && onBlur();\n    },\n    [onBlur],\n  );\n\n  const onDateTimeFocus = useCallback(\n    (e) => {\n      if (e.relatedTarget && dateTimeGroupRef.current.contains(e.relatedTarget)) {\n        return;\n      }\n\n      onFocus && onFocus();\n    },\n    [onFocus],\n  );\n\n  useEffect(() => {\n    let { date, time } = getNullDateTime();\n\n    switch (subtype) {\n      case DATETIME_SUBTYPES.DATE: {\n        date = new Date(Date.parse(value));\n        break;\n      }\n      case DATETIME_SUBTYPES.TIME: {\n        time = parseIsoTime(value);\n        break;\n      }\n      case DATETIME_SUBTYPES.DATETIME: {\n        date = new Date(Date.parse(value));\n        time = isValidDate(date) ? 60 * date.getHours() + date.getMinutes() : null;\n        break;\n      }\n    }\n\n    setDateTime({ date, time });\n  }, [subtype, value]);\n\n  const computeAndSetState = useCallback(\n    ({ date, time }) => {\n      let newDateTimeValue = null;\n\n      if (subtype === DATETIME_SUBTYPES.DATE && isValidDate(date)) {\n        newDateTimeValue = serializeDate(date);\n      } else if (subtype === DATETIME_SUBTYPES.TIME && isValidTime(time)) {\n        newDateTimeValue = serializeTime(time, new Date().getTimezoneOffset(), timeSerializingFormat);\n      } else if (subtype === DATETIME_SUBTYPES.DATETIME && isValidDate(date) && isValidTime(time)) {\n        newDateTimeValue = serializeDateTime(date, time, timeSerializingFormat);\n      }\n\n      if (value === newDateTimeValue) {\n        return;\n      }\n\n      onChange({ value: newDateTimeValue, field });\n    },\n    [value, field, onChange, subtype, timeSerializingFormat],\n  );\n\n  useEffect(() => {\n    if (dateTimeUpdateRequest) {\n      if (dateTimeUpdateRequest.refreshOnly) {\n        computeAndSetState(dateTime);\n      } else {\n        const newDateTime = { ...dateTime, ...dateTimeUpdateRequest };\n        setDateTime(newDateTime);\n        computeAndSetState(newDateTime);\n      }\n      setDateTimeUpdateRequest(null);\n    }\n  }, [computeAndSetState, dateTime, dateTimeUpdateRequest]);\n\n  useEffect(() => {\n    setDateTimeUpdateRequest({ refreshOnly: true });\n  }, [timeSerializingFormat]);\n\n  const allErrors = useMemo(() => {\n    if (required || subtype !== DATETIME_SUBTYPES.DATETIME) return errors;\n    const isOnlyOneFieldSet =\n      (isValidDate(dateTime.date) && !isValidTime(dateTime.time)) ||\n      (!isValidDate(dateTime.date) && isValidTime(dateTime.time));\n    return isOnlyOneFieldSet ? ['Date and time must both be entered.', ...errors] : errors;\n  }, [required, subtype, dateTime, errors]);\n\n  const setDate = useCallback((date) => {\n    setDateTimeUpdateRequest((prev) => (prev ? { ...prev, date } : { date }));\n  }, []);\n\n  const setTime = useCallback((time) => {\n    setDateTimeUpdateRequest((prev) => (prev ? { ...prev, time } : { time }));\n  }, []);\n\n  const errorMessageId = allErrors.length === 0 ? undefined : `${prefixId(id, formId)}-error-message`;\n  const descriptionId = `${prefixId(id, formId)}-description`;\n\n  const datePickerProps = {\n    label: dateLabel,\n    collapseLabelOnEmpty: !timeLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-date`,\n    required,\n    disabled,\n    disallowPassedDates,\n    date: dateTime.date,\n    readonly,\n    setDate,\n    'aria-describedby': [descriptionId, errorMessageId].join(' '),\n  };\n\n  const timePickerProps = {\n    label: timeLabel,\n    collapseLabelOnEmpty: !dateLabel,\n    onDateTimeBlur,\n    onDateTimeFocus,\n    domId: `${domId}-time`,\n    required,\n    disabled,\n    readonly,\n    use24h,\n    timeInterval,\n    time: dateTime.time,\n    setTime,\n    'aria-describedby': [descriptionId, errorMessageId].join(' '),\n  };\n\n  return (\n    <div class={formFieldClasses(type, { errors: allErrors, disabled, readonly })}>\n      <div class={classNames('fjs-vertical-group')} ref={dateTimeGroupRef}>\n        {useDatePicker && <Datepicker {...datePickerProps} />}\n        {useTimePicker && useDatePicker && <div class=\"fjs-datetime-separator\" />}\n        {useTimePicker && <Timepicker {...timePickerProps} />}\n      </div>\n      <Description id={descriptionId} description={description} />\n      <Errors errors={allErrors} id={errorMessageId} />\n    </div>\n  );\n}\n\nDatetime.config = {\n  type,\n  keyed: true,\n  label: 'Date time',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: sanitizeDateTimePickerValue,\n  create: (options = {}) => {\n    const defaults = {};\n    set(defaults, DATETIME_SUBTYPE_PATH, DATETIME_SUBTYPES.DATE);\n    set(defaults, DATE_LABEL_PATH, 'Date');\n\n    return { ...defaults, ...options };\n  },\n};\n","import classNames from 'classnames';\nimport { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { formFieldClasses } from '../Util';\nimport { Label } from '../Label';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function Group(props) {\n  const { field, domId } = props;\n  const { label, type, showOutline } = field;\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return (\n    <div\n      className={classNames(formFieldClasses(type), 'fjs-form-field-grouplike', { 'fjs-outlined': showOutline })}\n      role=\"group\"\n      aria-labelledby={domId}>\n      <Label id={domId} label={label} />\n      <ChildrenRenderer {...fullProps} />\n    </div>\n  );\n}\n\nGroup.config = {\n  type: 'group',\n  pathed: true,\n  label: 'Group',\n  group: 'container',\n  create: (options = {}) => ({\n    components: [],\n    showOutline: true,\n    ...options,\n  }),\n};\n","import { useEffect, useMemo, useState } from 'preact/hooks';\n\nimport { useSingleLineTemplateEvaluation, useSecurityAttributesMap } from '../../hooks';\nimport { sanitizeIFrameSource } from '../util/sanitizerUtil';\n\nimport { Label } from '../Label';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'iframe';\n\nconst DEFAULT_HEIGHT = 300;\n\nexport function IFrame(props) {\n  const { field, disabled, readonly, domId } = props;\n\n  const { height = DEFAULT_HEIGHT, label, url, security = {} } = field;\n\n  const evaluatedUrl = useSingleLineTemplateEvaluation(url, { debug: true });\n\n  const safeUrl = useMemo(() => sanitizeIFrameSource(evaluatedUrl), [evaluatedUrl]);\n\n  const evaluatedLabel = useSingleLineTemplateEvaluation(label, { debug: true });\n\n  const [sandbox, allow] = useSecurityAttributesMap(security);\n  const [iframeRefresh, setIframeRefresh] = useState(0);\n\n  // forces re-render of iframe when sandbox or allow attributes change, as browsers do not do it automatically\n  useEffect(() => {\n    setIframeRefresh((count) => count + 1);\n  }, [sandbox, allow]);\n\n  return (\n    <div class={formFieldClasses(type, { disabled, readonly })}>\n      <Label htmlFor={domId} label={evaluatedLabel} />\n      {!evaluatedUrl && <IFramePlaceholder text=\"No content to show.\" />}\n      {evaluatedUrl && safeUrl && (\n        <iframe\n          src={safeUrl}\n          title={evaluatedLabel}\n          height={height}\n          class=\"fjs-iframe\"\n          id={domId}\n          sandbox={sandbox}\n          key={'iframe-' + iframeRefresh}\n          /* @Note: JSX HTML attributes do not include <allow> */\n          {...{ allow }}\n        />\n      )}\n      {evaluatedUrl && !safeUrl && <IFramePlaceholder text=\"External content couldn't be loaded.\" />}\n    </div>\n  );\n}\n\nfunction IFramePlaceholder(props) {\n  const { text = 'iFrame' } = props;\n\n  return (\n    <div class=\"fjs-iframe-placeholder\">\n      <p class=\"fjs-iframe-placeholder-text\">{text}</p>\n    </div>\n  );\n}\n\nIFrame.config = {\n  type,\n  keyed: false,\n  label: 'iFrame',\n  group: 'container',\n  create: (options = {}) => ({\n    security: {\n      allowScripts: true,\n    },\n    ...options,\n  }),\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 17a3 3 0 0 1 3 3v14a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V20a3 3 0 0 1 3-3h36zm-9 8.889H18v2.222h18v-2.222z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M34 18H20a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V20a2 2 0 0 0-2-2zm-9 14-5-5 1.41-1.41L25 29.17l7.59-7.59L34 23l-9 9z\"/></svg>","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M14.35 24.75H19V29.4H14.35V24.75ZM12.9358 23.3358C13.3109 22.9607 13.8196 22.75 14.35 22.75H19C19.5304 22.75 20.0391 22.9607 20.4142 23.3358C20.7893 23.7109 21 24.2196 21 24.75V29.4C21 29.9304 20.7893 30.4391 20.4142 30.8142C20.0391 31.1893 19.5304 31.4 19 31.4H14.35C13.8196 31.4 13.3109 31.1893 12.9358 30.8142C12.5607 30.4391 12.35 29.9304 12.35 29.4V24.75C12.35 24.2196 12.5607 23.7109 12.9358 23.3358ZM14.35 37.05H19V41.7H14.35V37.05ZM12.9358 35.6358C13.3109 35.2607 13.8196 35.05 14.35 35.05H19C19.5304 35.05 20.0391 35.2607 20.4142 35.6358C20.7893 36.0109 21 36.5196 21 37.05V41.7C21 42.2304 20.7893 42.7391 20.4142 43.1142C20.0391 43.4893 19.5304 43.7 19 43.7H14.35C13.8196 43.7 13.3109 43.4893 12.9358 43.1142C12.5607 42.7391 12.35 42.2304 12.35 41.7V37.05C12.35 36.5196 12.5607 36.0109 12.9358 35.6358ZM14.35 12.45H19V17.1H14.35V12.45ZM12.9358 11.0358C13.3109 10.6607 13.8196 10.45 14.35 10.45H19C19.5304 10.45 20.0391 10.6607 20.4142 11.0358C20.7893 11.4109 21 11.9196 21 12.45V17.1C21 17.6304 20.7893 18.1391 20.4142 18.5142C20.0391 18.8893 19.5304 19.1 19 19.1H14.35C13.8196 19.1 13.3109 18.8893 12.9358 18.5142C12.5607 18.1391 12.35 17.6304 12.35 17.1V12.45C12.35 11.9196 12.5607 11.4109 12.9358 11.0358ZM24.9429 26.0128C24.7554 26.2004 24.65 26.4547 24.65 26.7199V27.3699C24.65 27.6352 24.7554 27.8895 24.9429 28.077C25.1304 28.2646 25.3848 28.3699 25.65 28.3699H40.65C40.9152 28.3699 41.1696 28.2646 41.3571 28.077C41.5446 27.8895 41.65 27.6352 41.65 27.3699V26.7199C41.65 26.4547 41.5446 26.2004 41.3571 26.0128C41.1696 25.8253 40.9152 25.7199 40.65 25.7199H25.65C25.3848 25.7199 25.1304 25.8253 24.9429 26.0128ZM24.9429 38.3128C24.7554 38.5004 24.65 38.7547 24.65 39.0199V39.6699C24.65 39.9352 24.7554 40.1895 24.9429 40.377C25.1304 40.5646 25.3848 40.6699 25.65 40.6699H40.65C40.9152 40.6699 41.1696 40.5646 41.3571 40.377C41.5446 40.1895 41.65 39.9352 41.65 39.6699V39.0199C41.65 38.7547 41.5446 38.5004 41.3571 38.3128C41.1696 38.1253 40.9152 38.0199 40.65 38.0199H25.65C25.3848 38.0199 25.1304 38.1253 24.9429 38.3128ZM24.9429 13.7128C24.7554 13.9004 24.65 14.1547 24.65 14.4199V15.0699C24.65 15.3352 24.7554 15.5895 24.9429 15.777C25.1304 15.9646 25.3848 16.0699 25.65 16.0699H40.65C40.9152 16.0699 41.1696 15.9646 41.3571 15.777C41.5446 15.5895 41.65 15.3352 41.65 15.0699V14.4199C41.65 14.1547 41.5446 13.9004 41.3571 13.7128C41.1696 13.5253 40.9152 13.4199 40.65 13.4199H25.65C25.3848 13.4199 25.1304 13.5253 24.9429 13.7128Z\" fill=\"currentColor\"/>\n</svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M37.908 13.418h-5.004v-2.354h-1.766v2.354H21.13v-2.354h-1.766v2.354H14.36a2.07 2.07 0 0 0-2.06 2.06v23.549a2.07 2.07 0 0 0 2.06 2.06h6.77v-1.766h-6.358a.707.707 0 0 1-.706-.706V15.89c0-.39.316-.707.706-.707h4.592v2.355h1.766v-2.355h10.008v2.355h1.766v-2.355h4.592a.71.71 0 0 1 .707.707v6.358h1.765v-6.77c0-1.133-.927-2.06-2.06-2.06z\"/><path d=\"m35.13 37.603 1.237-1.237-3.468-3.475v-5.926h-1.754v6.654l3.984 3.984Z\"/><path fill-rule=\"evenodd\" d=\"M23.08 36.962a9.678 9.678 0 1 0 17.883-7.408 9.678 9.678 0 0 0-17.882 7.408Zm4.54-10.292a7.924 7.924 0 1 1 8.805 13.177A7.924 7.924 0 0 1 27.62 26.67Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36Zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1Z\"/><path d=\"M11 22a1 1 0 0 1 1-1h19a1 1 0 0 1 1 1v10a1 1 0 0 1-1 1H12a1 1 0 0 1-1-1V22Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\"><rect width=\"24\" height=\"4\" x=\"15\" y=\"17\" rx=\"1\"/><rect width=\"24\" height=\"4\" x=\"15\" y=\"25\" rx=\"1\"/><rect width=\"13\" height=\"4\" x=\"15\" y=\"33\" rx=\"1\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"#000\" fill-rule=\"evenodd\" d=\"M4.05 42.132v1.164c0 .693.604 1.254 1.35 1.254h1.35v-2.507h-2.7v.09Zm0-2.328h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7V32.82h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656h2.7v-2.328h-2.7v2.328Zm0-4.656v.09h2.7V9.45H5.4c-.746 0-1.35.561-1.35 1.254v1.164Zm5.4-2.418v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V9.45h-2.7Zm5.4 0v2.507h2.7V10.704c0-.693-.604-1.254-1.35-1.254h-1.35Zm2.7 4.746h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656h-2.7v2.328h2.7V32.82Zm0 4.656h-2.7v2.328h2.7v-2.328Zm0 4.656v-.09h-2.7v2.508h1.35c.746 0 1.35-.561 1.35-1.254v-1.164Zm-5.4 2.418v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Zm-5.4 0v-2.507h-2.7v2.507h2.7Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zM35 28.444h7l-3.5 4-3.5-4zM35 26h7l-3.5-4-3.5 4z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M27 22c-2.76 0-5 2.24-5 5s2.24 5 5 5 5-2.24 5-5-2.24-5-5-5zm0-5c-5.52 0-10 4.48-10 10s4.48 10 10 10 10-4.48 10-10-4.48-10-10-10zm0 18a8 8 0 1 1 0-16 8 8 0 1 1 0 16z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-12 7h9l-4.5 6-4.5-6z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" d=\"M26.293 16.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 18.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM9 26h36v2H9v-2ZM22.293 33.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 35.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" d=\"M9 15v2h36v-2H9ZM9 37v2h36v-2H9ZM26.293 19.293a1 1 0 0 1 1.414 0l4 4a1 1 0 0 1-1.414 1.414L27 21.414l-3.293 3.293a1 1 0 0 1-1.414-1.414l4-4ZM22.293 30.707l4 4a1 1 0 0 0 1.414 0l4-4a1 1 0 0 0-1.414-1.414L27 32.586l-3.293-3.293a1 1 0 0 0-1.414 1.414Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M2.7 43.296v1.254c0 .746.604 1.35 1.35 1.35h1.275v-1.795c.049.14.075.29.075.445v-1.254h-.075V43.2H4.05c.177 0 .347.034.502.096H2.7Zm2.7-2.507v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.015V23.24H2.7v2.507h2.7Zm0-5.014v-2.507H2.7v2.507h2.7Zm0-5.014V13.21H2.7v2.507h2.7Zm-2.7-5.014h1.852a1.346 1.346 0 0 1-.502.096h1.275v-.096H5.4V9.45c0 .156-.026.306-.075.445V8.1H4.05A1.35 1.35 0 0 0 2.7 9.45v1.254Zm5.175.096h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1 0h2.55V8.1h-2.55v2.7Zm5.1-2.7v1.795a1.348 1.348 0 0 1-.075-.445v1.254h.075v.096h1.275c-.177 0-.347-.034-.502-.096H51.3V9.45a1.35 1.35 0 0 0-1.35-1.35h-1.275Zm-.075 5.11v2.508h2.7V13.21h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7V23.24h-2.7Zm0 5.015v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm0 5.014v2.507h2.7v-2.507h-2.7Zm2.7 5.014h-1.852c.155-.062.325-.096.502-.096h-1.275v.096H48.6v1.254c0-.156.026-.305.075-.445V45.9h1.275a1.35 1.35 0 0 0 1.35-1.35v-1.254Zm-5.175-.096h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7Zm-5.1 0h-2.55v2.7h2.55v-2.7ZM16.2 17.55a4.05 4.05 0 0 1 4.05 4.05v1.35A4.05 4.05 0 0 1 16.2 27h-1.35a4.05 4.05 0 0 1-4.05-4.05V21.6a4.05 4.05 0 0 1 4.05-4.05h1.35Zm0 2.7h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35c0 .746.604 1.35 1.35 1.35h1.35a1.35 1.35 0 0 0 1.35-1.35V21.6a1.35 1.35 0 0 0-1.35-1.35Zm27 1.35a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35A4.05 4.05 0 0 0 29.7 27h9.45a4.05 4.05 0 0 0 4.05-4.05V21.6Zm-13.5-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35a1.35 1.35 0 0 1-1.35 1.35H29.7a1.35 1.35 0 0 1-1.35-1.35V21.6c0-.746.604-1.35 1.35-1.35ZM43.2 37.8a4.05 4.05 0 0 0-4.05-4.05H29.7a4.05 4.05 0 0 0-4.05 4.05v1.35h2.7V37.8c0-.746.604-1.35 1.35-1.35h9.45c.746 0 1.35.604 1.35 1.35v1.35h2.7V37.8Zm-27-4.05a4.05 4.05 0 0 1 4.05 4.05v1.35h-2.7V37.8a1.35 1.35 0 0 0-1.35-1.35h-1.35a1.35 1.35 0 0 0-1.35 1.35v1.35h-2.7V37.8a4.05 4.05 0 0 1 4.05-4.05h1.35Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path d=\"M20.58 33.77h-3l-1.18-3.08H11l-1.1 3.08H7l5.27-13.54h2.89zm-5-5.36-1.86-5-1.83 5zM22 20.23h5.41a15.47 15.47 0 0 1 2.4.14 3.42 3.42 0 0 1 1.41.55 3.47 3.47 0 0 1 1 1.14 3 3 0 0 1 .42 1.58 3.26 3.26 0 0 1-1.91 2.94 3.63 3.63 0 0 1 1.91 1.22 3.28 3.28 0 0 1 .66 2 4 4 0 0 1-.43 1.8 3.63 3.63 0 0 1-1.09 1.4 3.89 3.89 0 0 1-1.83.65q-.69.07-3.3.09H22zm2.73 2.25v3.13h3.8a1.79 1.79 0 0 0 1.1-.49 1.41 1.41 0 0 0 .41-1 1.49 1.49 0 0 0-.35-1 1.54 1.54 0 0 0-1-.48c-.27 0-1.05-.05-2.34-.05zm0 5.39v3.62h2.57a11.52 11.52 0 0 0 1.88-.09 1.65 1.65 0 0 0 1-.54 1.6 1.6 0 0 0 .38-1.14 1.75 1.75 0 0 0-.29-1 1.69 1.69 0 0 0-.86-.62 9.28 9.28 0 0 0-2.41-.23zm19.62.92 2.65.84a5.94 5.94 0 0 1-2 3.29A5.74 5.74 0 0 1 41.38 34a5.87 5.87 0 0 1-4.44-1.84 7.09 7.09 0 0 1-1.73-5A7.43 7.43 0 0 1 37 21.87 6 6 0 0 1 41.54 20a5.64 5.64 0 0 1 4 1.47A5.33 5.33 0 0 1 47 24l-2.7.65a2.8 2.8 0 0 0-2.86-2.27A3.09 3.09 0 0 0 39 23.42a5.31 5.31 0 0 0-.93 3.5 5.62 5.62 0 0 0 .93 3.65 3 3 0 0 0 2.4 1.09 2.72 2.72 0 0 0 1.82-.66 4 4 0 0 0 1.13-2.21z\"/></svg>","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M47.0082 12.15C48.6329 12.15 49.95 13.5106 49.95 15.189V38.811C49.95 40.4894 48.6329 41.85 47.0082 41.85H6.99194C5.36718 41.85 4.05005 40.4894 4.05005 38.811V15.189C4.05005 13.5106 5.36718 12.15 6.99194 12.15H47.0082ZM47.0082 14.176H6.99194C6.45035 14.176 6.01131 14.6295 6.01131 15.189V16.2H6.00755V18.9H6.01131V38.811C6.01131 39.3705 6.45035 39.824 6.99194 39.824H47.0082C47.5498 39.824 47.9888 39.3705 47.9888 38.811V18.9H47.9925V16.2H47.9888V15.189C47.9888 14.6295 47.5498 14.176 47.0082 14.176ZM14.9344 26.055V22.275H17.1282V31.725H14.9344V27.945H11.6438V31.725H9.45005V22.275H11.6438V26.055H14.9344ZM19.3219 24.165H21.5157V31.725H23.7094V24.165H25.9032V22.275H19.3219V24.165ZM33.5813 22.275H35.775V31.725H33.5813V25.11L31.936 28.89L30.2907 25.11V31.725H28.0969V22.275H30.2907L31.936 26.055L33.5813 22.275ZM37.9688 22.275H40.1625V29.835H44.55V31.725H37.9688V22.275Z\" fill=\"currentColor\"/>\n</svg>\n","<svg width=\"54\" height=\"54\" viewBox=\"0 0 54 54\" fill=\"none\" xmlns=\"http://www.w3.org/2000/svg\">\r\n<path fill-rule=\"evenodd\" clip-rule=\"evenodd\" d=\"M12.78 16.2V22.95C12.78 24.5689 12.1447 26.0086 11.1621 27C12.1447 27.9914 12.78 29.4311 12.78 31.05V37.8H16.29V40.5H12.78C11.4912 40.5 10.44 39.2871 10.44 37.8V31.05C10.44 29.5629 9.38883 28.35 8.10001 28.35V25.65C9.38883 25.65 10.44 24.4371 10.44 22.95V16.2C10.44 14.7129 11.4912 13.5 12.78 13.5H16.29V16.2H12.78ZM43.56 16.2V22.95C43.56 24.4371 44.6112 25.65 45.9 25.65V28.35C44.6112 28.35 43.56 29.5629 43.56 31.05V37.8C43.56 39.2871 42.5088 40.5 41.22 40.5H37.71V37.8H41.22V31.05C41.22 29.4311 41.8553 27.9914 42.8379 27C41.8553 26.0086 41.22 24.5689 41.22 22.95V16.2H37.71V13.5H41.22C42.5088 13.5 43.56 14.7129 43.56 16.2ZM21.8005 34.5313C22.2674 34.1521 22.5869 33.5662 22.7589 32.7734L24.5467 24.4321H26.1317L26.5187 22.6053H24.9337L25.3392 20.7268H26.9242L27.3113 18.9H25.6894C24.8416 18.9 24.1842 19.0896 23.7173 19.4687C23.2627 19.8479 22.9494 20.4338 22.7774 21.2266L22.4825 22.6053H21.3398L20.9527 24.4321H22.0954L20.1971 33.2732H18.612L18.225 35.1H19.8469C20.6947 35.1 21.3459 34.9104 21.8005 34.5313ZM29.0479 26.8449L25.2512 31.6532H27.8499L29.9694 28.6372H30.1906L31.0752 31.6532H33.6739L31.9967 27.293L35.775 22.6053H33.1763L31.0568 25.5523H30.8356L29.951 22.6053H27.3523L29.0479 26.8449Z\" fill=\"currentcolor\"/>\r\n</svg>\r\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 16a3 3 0 0 1 3 3v16a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V19a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v16a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V19a1 1 0 0 0-1-1zm-32 4v10h-2V22h2z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M45 13a3 3 0 0 1 3 3v22a3 3 0 0 1-3 3H9a3 3 0 0 1-3-3V16a3 3 0 0 1 3-3h36zm0 2H9a1 1 0 0 0-1 1v22a1 1 0 0 0 1 1h36a1 1 0 0 0 1-1V16a1 1 0 0 0-1-1zm-1.136 15.5.849.849-6.364 6.364-.849-.849 6.364-6.364zm.264 3.5.849.849-2.828 2.828-.849-.849L44.128 34zM13 19v10h-2V19h2z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"none\"><path fill=\"currentColor\" fill-rule=\"evenodd\" d=\"M45.658 9.45c1.625 0 2.942 1.36 2.942 3.039V22.95h-1.961v-4.383H7.36V41.51c0 .56.44 1.013.98 1.013H27v2.026H8.342c-1.625 0-2.942-1.36-2.942-3.039V12.489c0-1.678 1.317-3.039 2.942-3.039h37.316Zm0 2.026H8.342c-.542 0-.98.454-.98 1.013v4.052h39.277v-4.052c0-.56-.44-1.013-.98-1.013ZM31.05 35.775A8.768 8.768 0 0 1 39.825 27a8.768 8.768 0 0 1 8.775 8.775 8.768 8.768 0 0 1-8.775 8.775 8.768 8.768 0 0 1-8.775-8.775Zm12.388-.516h3.097c-.206-2.581-1.858-4.646-4.026-5.678.62 1.548.93 3.613.93 5.678Zm-5.162 2.065c.207 3.303 1.136 4.955 1.549 5.161.413-.206 1.239-1.858 1.445-5.161h-2.994Zm1.446-8.26c-.31.207-1.342 2.272-1.446 6.195h2.994c-.103-3.923-1.135-5.988-1.548-6.194Zm-3.51 6.195c.103-2.065.31-4.13.929-5.678-2.168 1.032-3.82 3.097-4.026 5.678h3.097Zm0 2.065h-2.89c.515 2.064 1.96 3.82 3.819 4.645-.516-1.342-.826-2.994-.93-4.645Zm7.226 0c-.103 1.755-.413 3.303-.929 4.645 1.858-.826 3.304-2.58 3.923-4.645h-2.994Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"54\" height=\"54\" fill=\"currentcolor\"><path fill-rule=\"evenodd\" d=\"M34.636 21.91A3.818 3.818 0 1 1 27 21.908a3.818 3.818 0 0 1 7.636 0Zm-2 0A1.818 1.818 0 1 1 29 21.908a1.818 1.818 0 0 1 3.636 0Z\" clip-rule=\"evenodd\"/><path fill-rule=\"evenodd\" d=\"M15 13a2 2 0 0 0-2 2v24a2 2 0 0 0 2 2h24a2 2 0 0 0 2-2V15a2 2 0 0 0-2-2H15Zm24 2H15v12.45l4.71-4.709a1.91 1.91 0 0 1 2.702 0l6.695 6.695 2.656-1.77a1.91 1.91 0 0 1 2.411.239L39 32.73V15ZM15 39v-8.754c.06-.038.116-.083.168-.135l5.893-5.893 6.684 6.685a1.911 1.911 0 0 0 2.41.238l2.657-1.77 6.02 6.02c.052.051.108.097.168.135V39H15Z\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" fill=\"none\" viewBox=\"0 0 54 54\"><path fill=\"currentcolor\" fill-rule=\"evenodd\" d=\"M42.545479 12.272741C43.901087 12.272741 45 13.371687 45 14.727295v24.545443c0 1.355609-1.098913 2.454521-2.454521 2.454521H11.454554C10.098946 41.727259 9 40.628347 9 39.272738V14.727295c0-1.355608 1.098946-2.454554 2.454554-2.454554zM27.818242 40.090875h14.727237c.451869 0 .818137-.366267.818137-.818137v-4.909042H27.818242Zm-1.636385-5.727179v5.727179H11.454554c-.451869 0-.818192-.366267-.818192-.818137v-4.909042zm1.636385-1.636385h15.545374v-5.727289H27.818242Zm-1.636385-5.727289v5.727289H10.636362v-5.727289zm1.636385-1.636384h15.545374v-5.72729H27.818242Zm-1.636385-5.72729v5.72729H10.636362v-5.72729z\" clip-rule=\"evenodd\"/></svg>\n","import ButtonIcon from './Button.svg';\nimport CheckboxIcon from './Checkbox.svg';\nimport ChecklistIcon from './Checklist.svg';\nimport DatetimeIcon from './Datetime.svg';\nimport TaglistIcon from './Taglist.svg';\nimport FormIcon from './Form.svg';\nimport ColumnsIcon from './Group.svg';\nimport NumberIcon from './Number.svg';\nimport RadioIcon from './Radio.svg';\nimport SelectIcon from './Select.svg';\nimport SeparatorIcon from './Separator.svg';\nimport SpacerIcon from './Spacer.svg';\nimport DynamicListIcon from './DynamicList.svg';\nimport TextIcon from './Text.svg';\nimport HTMLIcon from './HTML.svg';\nimport ExpressionFieldIcon from './ExpressionField.svg';\nimport TextfieldIcon from './Textfield.svg';\nimport TextareaIcon from './Textarea.svg';\nimport IFrameIcon from './IFrame.svg';\nimport ImageIcon from './Image.svg';\nimport GroupIcon from './Group.svg';\nimport TableIcon from './Table.svg';\n\nexport const iconsByType = (type) => {\n  return {\n    button: ButtonIcon,\n    checkbox: CheckboxIcon,\n    checklist: ChecklistIcon,\n    columns: ColumnsIcon,\n    datetime: DatetimeIcon,\n    group: GroupIcon,\n    iframe: IFrameIcon,\n    image: ImageIcon,\n    number: NumberIcon,\n    expression: ExpressionFieldIcon,\n    radio: RadioIcon,\n    select: SelectIcon,\n    separator: SeparatorIcon,\n    spacer: SpacerIcon,\n    dynamiclist: DynamicListIcon,\n    taglist: TaglistIcon,\n    text: TextIcon,\n    html: HTMLIcon,\n    textfield: TextfieldIcon,\n    textarea: TextareaIcon,\n    table: TableIcon,\n    default: FormIcon,\n  }[type];\n};\n","import { useContext, useMemo } from 'preact/hooks';\n\nimport { FormContext } from '../../context';\n\nimport { iconsByType } from '../icons';\n\nimport { useSingleLineTemplateEvaluation } from '../../hooks';\nimport { sanitizeImageSource } from '../util/sanitizerUtil';\n\nimport { formFieldClasses, prefixId } from '../Util';\n\nconst type = 'image';\n\nexport function Image(props) {\n  const { field } = props;\n\n  const { alt, id, source } = field;\n\n  const Icon = iconsByType(field.type);\n\n  const evaluatedImageSource = useSingleLineTemplateEvaluation(source, { debug: true });\n\n  const safeSource = useMemo(() => sanitizeImageSource(evaluatedImageSource), [evaluatedImageSource]);\n\n  const altText = useSingleLineTemplateEvaluation(alt, { debug: true });\n\n  const { formId } = useContext(FormContext);\n\n  return (\n    <div class={formFieldClasses(type)}>\n      {safeSource && (\n        <div class=\"fjs-image-container\">\n          <img alt={altText} src={safeSource} class=\"fjs-image\" id={prefixId(id, formId)} />\n        </div>\n      )}\n      {!safeSource && (\n        <div class=\"fjs-image-placeholder\">\n          <span class=\"fjs-image-placeholder-inner\">\n            <Icon alt=\"This is an image placeholder\" width=\"32\" height=\"32\" viewBox=\"0 0 56 56\" />\n          </span>\n        </div>\n      )}\n    </div>\n  );\n}\n\nImage.config = {\n  type,\n  keyed: false,\n  label: 'Image view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options,\n  }),\n};\n","import { InputAdorner } from './InputAdorner';\n\nimport { useSingleLineTemplateEvaluation } from '../../../hooks';\n\nexport function TemplatedInputAdorner(props) {\n  const { pre, post } = props;\n\n  const evaluatedPre = useSingleLineTemplateEvaluation(pre, { debug: true });\n  const evaluatedPost = useSingleLineTemplateEvaluation(post, { debug: true });\n\n  return <InputAdorner {...props} pre={evaluatedPre} post={evaluatedPost} />;\n}\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M7.75 1.336 4 6.125.258 1.335 0 1.54l4 5.125L8 1.54Zm0 0\" clip-rule=\"evenodd\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M7.75 6.664 4 1.875.258 6.665 0 6.46l4-5.125L8 6.46Zm0 0\" clip-rule=\"evenodd\"/></svg>","import Big from 'big.js';\n\nexport function countDecimals(number) {\n  const num = Big(number);\n  if (num.toString() === num.toFixed(0)) return 0;\n  return num.toFixed().split('.')[1].length || 0;\n}\n\nexport function isValidNumber(value) {\n  return (typeof value === 'number' || typeof value === 'string') && value !== '' && !isNaN(Number(value));\n}\n\nexport function willKeyProduceValidNumber(key, previousValue, caretIndex, selectionWidth, decimalDigits) {\n  if (previousValue === 'NaN') {\n    return false;\n  }\n\n  // Dot and comma are both treated as dot\n  previousValue = previousValue.replace(',', '.');\n  const isFirstDot = !previousValue.includes('.') && (key === '.' || key === ',');\n  const isFirstMinus = !previousValue.includes('-') && key === '-' && caretIndex === 0;\n\n  const keypressIsNumeric = /^[0-9]$/i.test(key);\n  const dotIndex = previousValue === undefined ? -1 : previousValue.indexOf('.');\n\n  // If the caret is positioned after a dot, and the current decimal digits count is equal or greater to the maximum, disallow the key press\n  const overflowsDecimalSpace =\n    typeof decimalDigits === 'number' &&\n    selectionWidth === 0 &&\n    dotIndex !== -1 &&\n    previousValue.includes('.') &&\n    previousValue.split('.')[1].length >= decimalDigits &&\n    caretIndex > dotIndex;\n\n  const keypressIsAllowedChar = keypressIsNumeric || (decimalDigits !== 0 && isFirstDot) || isFirstMinus;\n\n  return keypressIsAllowedChar && !overflowsDecimalSpace;\n}\n\nexport function isNullEquivalentValue(value) {\n  return value === undefined || value === null || value === '';\n}\n","import Big from 'big.js';\nimport classNames from 'classnames';\nimport { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport { useFlushDebounce, usePrevious } from '../../hooks';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { TemplatedInputAdorner } from './parts/TemplatedInputAdorner';\n\nimport AngelDownIcon from './icons/AngelDown.svg';\nimport AngelUpIcon from './icons/AngelUp.svg';\n\nimport { formFieldClasses } from '../Util';\n\nimport { isNullEquivalentValue, isValidNumber, willKeyProduceValidNumber } from '../util/numberFieldUtil';\n\nconst type = 'number';\n\nexport function Numberfield(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, value, readonly } = props;\n\n  const { description, label, appearance = {}, validate = {}, decimalDigits, increment: incrementValue } = field;\n\n  const { prefixAdorner, suffixAdorner } = appearance;\n\n  const { required } = validate;\n\n  const inputRef = useRef();\n\n  const [cachedValue, setCachedValue] = useState(value);\n  const [displayValue, setDisplayValue] = useState(value);\n\n  const sanitize = useCallback((value) => Numberfield.config.sanitizeValue({ value, formField: field }), [field]);\n\n  const [debouncedOnChange, flushOnChange] = useFlushDebounce(props.onChange);\n\n  const previousCachedValue = usePrevious(value);\n\n  if (previousCachedValue !== cachedValue) {\n    debouncedOnChange({ field, value: cachedValue });\n  }\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  // all value changes must go through this function\n  const setValue = useCallback(\n    (stringValue) => {\n      if (isNullEquivalentValue(stringValue)) {\n        setDisplayValue('');\n        setCachedValue(null);\n        return;\n      }\n\n      // converts automatically for countries where the comma is used as a decimal separator\n      stringValue = stringValue.replaceAll(',', '.');\n\n      if (stringValue === '-') {\n        setDisplayValue('-');\n        return;\n      }\n\n      // provides feedback for invalid numbers entered via pasting as opposed to just ignoring the paste\n      if (isNaN(Number(stringValue))) {\n        setDisplayValue('NaN');\n        setCachedValue(null);\n        return;\n      }\n\n      setDisplayValue(stringValue);\n      setCachedValue(sanitize(stringValue));\n    },\n    [sanitize],\n  );\n\n  // when external changes occur independently of the input, we update the display and cache values of the component\n  const previousValue = usePrevious(value);\n  const outerValueChanged = previousValue != value;\n  const outerValueEqualsCache = sanitize(value) === sanitize(cachedValue);\n\n  if (outerValueChanged && !outerValueEqualsCache) {\n    setValue((value && value.toString()) || '');\n  }\n\n  // caches the value an increment/decrement operation will be based on\n  const incrementAmount = useMemo(() => {\n    if (incrementValue) return Big(incrementValue);\n    if (decimalDigits) return Big(`1e-${decimalDigits}`);\n    return Big('1');\n  }, [decimalDigits, incrementValue]);\n\n  const increment = () => {\n    if (readonly) {\n      return;\n    }\n\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const stepFlooredValue = base.minus(base.mod(incrementAmount));\n\n    // note: toFixed() behaves differently in big.js\n    setValue(stepFlooredValue.plus(incrementAmount).toFixed());\n  };\n\n  const decrement = () => {\n    if (readonly) {\n      return;\n    }\n\n    const base = isValidNumber(cachedValue) ? Big(cachedValue) : Big(0);\n    const offset = base.mod(incrementAmount);\n\n    if (offset.cmp(0) === 0) {\n      // if we're already on a valid step, decrement\n      setValue(base.minus(incrementAmount).toFixed());\n    } else {\n      // otherwise floor to the step\n      const stepFlooredValue = base.minus(base.mod(incrementAmount));\n      setValue(stepFlooredValue.toFixed());\n    }\n  };\n\n  const onKeyDown = (e) => {\n    // delete the NaN state all at once on backspace or delete\n    if (displayValue === 'NaN' && (e.code === 'Backspace' || e.code === 'Delete')) {\n      setValue('');\n      e.preventDefault();\n      return;\n    }\n\n    if (e.code === 'ArrowUp') {\n      increment();\n      e.preventDefault();\n      return;\n    }\n\n    if (e.code === 'ArrowDown') {\n      decrement();\n      e.preventDefault();\n      return;\n    }\n  };\n\n  // intercept key presses which would lead to an invalid number\n  const onKeyPress = (e) => {\n    const caretIndex = inputRef.current.selectionStart;\n    const selectionWidth = inputRef.current.selectionStart - inputRef.current.selectionEnd;\n    const previousValue = inputRef.current.value;\n\n    if (!willKeyProduceValidNumber(e.key, previousValue, caretIndex, selectionWidth, decimalDigits)) {\n      e.preventDefault();\n    }\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={required} />\n      <TemplatedInputAdorner disabled={disabled} readonly={readonly} pre={prefixAdorner} post={suffixAdorner}>\n        <div\n          class={classNames(\n            'fjs-vertical-group',\n            { 'fjs-disabled': disabled, 'fjs-readonly': readonly },\n            { hasErrors: errors.length },\n          )}>\n          <input\n            ref={inputRef}\n            class=\"fjs-input\"\n            disabled={disabled}\n            readOnly={readonly}\n            id={domId}\n            onKeyDown={onKeyDown}\n            onKeyPress={onKeyPress}\n            onBlur={onInputBlur}\n            onFocus={onInputFocus}\n            // @ts-ignore\n            onInput={(e) => setValue(e.target.value, true)}\n            onPaste={(e) => displayValue === 'NaN' && e.preventDefault()}\n            type=\"text\"\n            autoComplete=\"off\"\n            step={incrementAmount}\n            value={displayValue}\n            aria-describedby={[descriptionId, errorMessageId].join(' ')}\n            required={required}\n            aria-invalid={errors.length > 0}\n          />\n          <div class={classNames('fjs-number-arrow-container', { 'fjs-disabled': disabled, 'fjs-readonly': readonly })}>\n            {/* we're disabling tab navigation on both buttons to imitate the native browser behavior of input[type='number'] increment arrows */}\n            <button\n              type=\"button\"\n              class=\"fjs-number-arrow-up\"\n              aria-label=\"Increment\"\n              onClick={() => increment()}\n              tabIndex={-1}>\n              <AngelUpIcon />\n            </button>\n            <div class=\"fjs-number-arrow-separator\" />\n            <button\n              type=\"button\"\n              class=\"fjs-number-arrow-down\"\n              aria-label=\"Decrement\"\n              onClick={() => decrement()}\n              tabIndex={-1}>\n              <AngelDownIcon />\n            </button>\n          </div>\n        </div>\n      </TemplatedInputAdorner>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nNumberfield.config = {\n  type,\n  keyed: true,\n  label: 'Number',\n  group: 'basic-input',\n  emptyValue: null,\n  sanitizeValue: ({ value, formField }) => {\n    // invalid value types are sanitized to null\n    if (isNullEquivalentValue(value) || !isValidNumber(value)) return null;\n\n    // otherwise, we return a string or a number depending on the form field configuration\n    return formField.serializeToString ? value.toString() : Number(value);\n  },\n  create: (options = {}) => ({\n    ...options,\n  }),\n};\n","import { useRef } from 'preact/hooks';\nimport isEqual from 'lodash/isEqual';\nimport { useOptionsAsync, LOAD_STATES } from '../../hooks/useOptionsAsync';\nimport { useCleanupSingleSelectValue } from '../../hooks/useCleanupSingleSelectValue';\nimport classNames from 'classnames';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nimport { sanitizeSingleSelectValue } from '../util/sanitizerUtil';\n\nimport { createEmptyOptions } from '../util/optionsUtil';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'radio';\n\nexport function Radio(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const outerDivRef = useRef();\n\n  const { required } = validate;\n\n  const onChange = (v) => {\n    props.onChange({\n      value: v,\n    });\n  };\n\n  const onRadioBlur = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onBlur && onBlur();\n  };\n\n  const onRadioFocus = (e) => {\n    if (outerDivRef.current.contains(e.relatedTarget)) {\n      return;\n    }\n\n    onFocus && onFocus();\n  };\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange,\n  });\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })} ref={outerDivRef}>\n      <Label label={label} required={required} />\n      {loadState == LOAD_STATES.LOADED &&\n        options.map((option, index) => {\n          const itemDomId = `${domId}-${index}`;\n          const isChecked = isEqual(option.value, value);\n\n          return (\n            <Label\n              htmlFor={itemDomId}\n              key={index}\n              label={option.label}\n              class={classNames({ 'fjs-checked': isChecked })}\n              required={false}>\n              <input\n                checked={isChecked}\n                class=\"fjs-input\"\n                disabled={disabled}\n                readOnly={readonly}\n                id={itemDomId}\n                type=\"radio\"\n                onClick={() => onChange(option.value)}\n                onBlur={onRadioBlur}\n                onFocus={onRadioFocus}\n                aria-describedby={[descriptionId, errorMessageId].join(' ')}\n                required={required}\n                aria-invalid={errors.length > 0}\n              />\n            </Label>\n          );\n        })}\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nRadio.config = {\n  type,\n  keyed: true,\n  label: 'Radio group',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: createEmptyOptions,\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"8\" height=\"8\"><path fill=\"currentColor\" fill-rule=\"evenodd\" stroke=\"currentColor\" stroke-width=\".5\" d=\"M4 3.766 7.43.336l.234.234L4.234 4l3.43 3.43-.234.234L4 4.234.57 7.664.336 7.43 3.766 4 .336.57.57.336Zm0 0\" clip-rule=\"evenodd\"/></svg>","import { useCallback, useEffect, useMemo, useRef, useState } from 'preact/hooks';\nimport { useOptionsAsync, LOAD_STATES } from '../../../hooks/useOptionsAsync';\nimport { useGetLabelCorrelation } from '../../../hooks/useGetLabelCorrelation';\nimport { useService, useCleanupSingleSelectValue } from '../../../hooks';\n\nimport classNames from 'classnames';\n\nimport XMarkIcon from '../icons/XMark.svg';\nimport AngelDownIcon from '../icons/AngelDown.svg';\nimport AngelUpIcon from '../icons/AngelUp.svg';\nimport { DropdownList } from './DropdownList';\n\nexport function SearchableSelect(props) {\n  const { domId, disabled, errors, onBlur, onFocus, field, readonly, value } = props;\n\n  const [filter, setFilter] = useState('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const [isFilterActive, setIsFilterActive] = useState(true);\n  const [isEscapeClosed, setIsEscapeClose] = useState(false);\n  const searchbarRef = useRef();\n  const eventBus = useService('eventBus');\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange,\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const label = useMemo(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n\n  // whenever we change the underlying value, set the label to it\n  useEffect(() => {\n    setFilter(label || '');\n  }, [label]);\n\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n\n    if (!filter || !isFilterActive) {\n      return options;\n    }\n\n    return options.filter((o) => o.label && o.value && o.label.toLowerCase().includes(filter.toLowerCase()));\n  }, [filter, loadState, options, isFilterActive]);\n\n  const setValue = useCallback(\n    (option) => {\n      setFilter((option && option.label) || '');\n      props.onChange({ value: (option && option.value) || null });\n    },\n    [props],\n  );\n\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded && !isEscapeClosed;\n    return ds;\n  }, [disabled, isDropdownExpanded, isEscapeClosed, loadState, readonly, value]);\n\n  const onAngelMouseDown = useCallback(\n    (e) => {\n      setIsEscapeClose(false);\n      setIsDropdownExpanded(!isDropdownExpanded);\n\n      const searchbar = searchbarRef.current;\n      isDropdownExpanded ? searchbar.blur() : searchbar.focus();\n\n      e.preventDefault();\n    },\n    [isDropdownExpanded],\n  );\n\n  const onInputChange = ({ target }) => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(true);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', { formField: field, value: target.value || '' });\n  };\n\n  const onInputKeyDown = useCallback(\n    (keyDownEvent) => {\n      switch (keyDownEvent.key) {\n        case 'ArrowUp':\n          keyDownEvent.preventDefault();\n          break;\n        case 'ArrowDown': {\n          if (!isDropdownExpanded) {\n            setIsDropdownExpanded(true);\n            setIsFilterActive(false);\n          }\n\n          keyDownEvent.preventDefault();\n          break;\n        }\n        case 'Escape':\n          setIsEscapeClose(true);\n          break;\n        case 'Enter':\n          if (isEscapeClosed) {\n            setIsEscapeClose(false);\n          }\n          break;\n      }\n    },\n    [isDropdownExpanded, isEscapeClosed],\n  );\n\n  const onInputMouseDown = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    setIsFilterActive(false);\n  }, []);\n\n  const onInputFocus = useCallback(() => {\n    setIsEscapeClose(false);\n    setIsDropdownExpanded(true);\n    onFocus && onFocus();\n  }, [onFocus]);\n\n  const onInputBlur = useCallback(() => {\n    setIsDropdownExpanded(false);\n    setFilter(label || '');\n    onBlur && onBlur();\n  }, [onBlur, label]);\n\n  return (\n    <>\n      <div\n        class={classNames('fjs-input-group', { disabled: disabled, readonly: readonly }, { hasErrors: errors.length })}>\n        <input\n          disabled={disabled}\n          readOnly={readonly}\n          class=\"fjs-input\"\n          ref={searchbarRef}\n          id={domId}\n          onChange={onInputChange}\n          type=\"text\"\n          value={filter}\n          placeholder={'Search'}\n          autoComplete=\"off\"\n          onKeyDown={onInputKeyDown}\n          onMouseDown={onInputMouseDown}\n          onFocus={onInputFocus}\n          onBlur={onInputBlur}\n          aria-describedby={props['aria-describedby']}\n        />\n        {displayState.displayCross && (\n          <span\n            class=\"fjs-select-cross\"\n            onMouseDown={(e) => {\n              setValue(null);\n              e.preventDefault();\n            }}>\n            <XMarkIcon />{' '}\n          </span>\n        )}\n        <span class=\"fjs-select-arrow\" onMouseDown={(e) => onAngelMouseDown(e)}>\n          {displayState.displayDropdown ? <AngelUpIcon /> : <AngelDownIcon />}\n        </span>\n      </div>\n      <div class=\"fjs-select-anchor\">\n        {displayState.displayDropdown && (\n          <DropdownList\n            values={filteredOptions}\n            getLabel={(o) => o.label}\n            onValueSelected={(o) => {\n              setValue(o);\n              setIsDropdownExpanded(false);\n            }}\n            listenerElement={searchbarRef.current}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n","import { useCallback, useMemo, useRef, useState } from 'preact/hooks';\nimport classNames from 'classnames';\nimport { findIndex } from 'min-dash';\nimport { useOptionsAsync, LOAD_STATES } from '../../../hooks/useOptionsAsync';\nimport { useCleanupSingleSelectValue } from '../../../hooks/useCleanupSingleSelectValue';\nimport { useGetLabelCorrelation } from '../../../hooks/useGetLabelCorrelation';\n\nimport XMarkIcon from '../icons/XMark.svg';\nimport AngelDownIcon from '../icons/AngelDown.svg';\nimport AngelUpIcon from '../icons/AngelUp.svg';\nimport { DropdownList } from './DropdownList';\n\nexport function SimpleSelect(props) {\n  const { domId, disabled, errors, onBlur, onFocus, field, readonly, value } = props;\n\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const selectRef = useRef();\n  const inputRef = useRef();\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  useCleanupSingleSelectValue({\n    field,\n    loadState,\n    options,\n    value,\n    onChange: props.onChange,\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const valueLabel = useMemo(() => value && getLabelCorrelation(value), [value, getLabelCorrelation]);\n\n  const setValue = useCallback(\n    (option) => {\n      props.onChange({ value: (option && option.value) || null });\n    },\n    [props],\n  );\n\n  const displayState = useMemo(() => {\n    const ds = {};\n    ds.componentReady = !disabled && !readonly && loadState === LOAD_STATES.LOADED;\n    ds.displayCross = ds.componentReady && value !== null && value !== undefined;\n    ds.displayDropdown = !disabled && !readonly && isDropdownExpanded;\n    return ds;\n  }, [disabled, isDropdownExpanded, loadState, readonly, value]);\n\n  const onMouseDown = useCallback(\n    (e) => {\n      const input = inputRef.current;\n\n      if (disabled || !input) {\n        return;\n      }\n\n      setIsDropdownExpanded(!isDropdownExpanded);\n\n      if (isDropdownExpanded) {\n        input.blur();\n      } else {\n        input.focus();\n      }\n\n      e.preventDefault();\n    },\n    [disabled, isDropdownExpanded],\n  );\n\n  const initialFocusIndex = useMemo(\n    () => (value && findIndex(options, (o) => o.value === value)) || 0,\n    [options, value],\n  );\n\n  const onInputFocus = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n      onFocus && onFocus();\n    }\n  }, [onFocus, readonly]);\n\n  const onInputBlur = useCallback(() => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      onBlur && onBlur();\n    }\n  }, [onBlur, readonly]);\n\n  return (\n    <>\n      <div\n        ref={selectRef}\n        class={classNames('fjs-input-group', { disabled, readonly }, { hasErrors: errors.length })}\n        onFocus={onInputFocus}\n        onBlur={onInputBlur}\n        onMouseDown={onMouseDown}>\n        <div class={classNames('fjs-select-display', { 'fjs-select-placeholder': !value })} id={`${domId}-display`}>\n          {valueLabel || 'Select'}\n        </div>\n        {!disabled && (\n          <input\n            ref={inputRef}\n            id={domId}\n            class=\"fjs-select-hidden-input\"\n            value={valueLabel}\n            onFocus={onInputFocus}\n            onBlur={onInputBlur}\n            aria-describedby={props['aria-describedby']}\n          />\n        )}\n        {displayState.displayCross && (\n          <span\n            class=\"fjs-select-cross\"\n            onMouseDown={(e) => {\n              setValue(null);\n              e.stopPropagation();\n            }}>\n            <XMarkIcon />\n          </span>\n        )}\n        <span class=\"fjs-select-arrow\">{displayState.displayDropdown ? <AngelUpIcon /> : <AngelDownIcon />}</span>\n      </div>\n      <div class=\"fjs-select-anchor\">\n        {displayState.displayDropdown && (\n          <DropdownList\n            values={options}\n            getLabel={(o) => o.label}\n            initialFocusIndex={initialFocusIndex}\n            onValueSelected={(o) => {\n              setValue(o);\n              setIsDropdownExpanded(false);\n            }}\n            listenerElement={selectRef.current}\n          />\n        )}\n      </div>\n    </>\n  );\n}\n","import { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { SearchableSelect } from './parts/SearchableSelect';\nimport { SimpleSelect } from './parts/SimpleSelect';\n\nimport { sanitizeSingleSelectValue } from '../util/sanitizerUtil';\nimport { createEmptyOptions } from '../util/optionsUtil';\nimport { formFieldClasses } from '../Util';\n\nconst type = 'select';\n\nexport function Select(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, onChange, readonly, value } = props;\n\n  const { description, label, searchable = false, validate = {} } = field;\n\n  const { required } = validate;\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  const selectProps = {\n    domId,\n    disabled,\n    errors,\n    onBlur,\n    onFocus,\n    field,\n    value,\n    onChange,\n    readonly,\n    required,\n    'aria-invalid': errors.length > 0,\n    'aria-describedby': [descriptionId, errorMessageId].join(' '),\n  };\n\n  return (\n    <div\n      class={formFieldClasses(type, { errors, disabled, readonly })}\n      onKeyDown={(event) => {\n        if (event.key === 'Enter') {\n          event.preventDefault();\n          event.stopPropagation();\n        }\n      }}>\n      <Label htmlFor={domId} label={label} required={required} />\n      {searchable ? <SearchableSelect {...selectProps} /> : <SimpleSelect {...selectProps} />}\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nSelect.config = {\n  type,\n  keyed: true,\n  label: 'Select',\n  group: 'selection',\n  emptyValue: null,\n  sanitizeValue: sanitizeSingleSelectValue,\n  create: createEmptyOptions,\n};\n","import { formFieldClasses } from '../Util';\n\nconst type = 'separator';\n\nexport function Separator() {\n  return (\n    <div class={formFieldClasses(type)}>\n      <hr />\n    </div>\n  );\n}\n\nSeparator.config = {\n  type,\n  keyed: false,\n  label: 'Separator',\n  group: 'presentation',\n  create: (options = {}) => ({\n    ...options,\n  }),\n};\n","import { formFieldClasses } from '../Util';\n\nconst type = 'spacer';\n\nexport function Spacer(props) {\n  const { field } = props;\n  const { height = 60 } = field;\n\n  return <div class={formFieldClasses(type)} style={{ height: height }} />;\n}\n\nSpacer.config = {\n  type,\n  keyed: false,\n  label: 'Spacer',\n  group: 'presentation',\n  create: (options = {}) => ({\n    height: 60,\n    ...options,\n  }),\n};\n","import { useContext } from 'preact/hooks';\nimport { FormRenderContext } from '../../context';\nimport { formFieldClasses } from '../Util';\nimport classNames from 'classnames';\n\nimport { Label } from '../Label';\nimport { ChildrenRenderer } from './parts/ChildrenRenderer';\n\nexport function DynamicList(props) {\n  const { field, domId, readonly } = props;\n  const { label, type, showOutline } = field;\n\n  const { Empty } = useContext(FormRenderContext);\n\n  const fullProps = { ...props, Empty };\n\n  return (\n    <div\n      className={classNames(formFieldClasses(type, { readonly }), 'fjs-form-field-grouplike', {\n        'fjs-outlined': showOutline,\n      })}\n      role=\"group\"\n      aria-labelledby={domId}>\n      <Label id={domId} label={label} />\n      <ChildrenRenderer {...fullProps} />\n    </div>\n  );\n}\n\nDynamicList.config = {\n  type: 'dynamiclist',\n  pathed: true,\n  repeatable: true,\n  label: 'Dynamic list',\n  group: 'container',\n  create: (options = {}) => ({\n    components: [],\n    showOutline: true,\n    isRepeating: true,\n    allowAddRemove: true,\n    defaultRepetitions: 1,\n    ...options,\n  }),\n};\n","import classNames from 'classnames';\n\nimport { useCallback } from 'preact/hooks';\n\nexport function SkipLink(props) {\n  const { className, label, onSkip } = props;\n\n  const onKeyDown = useCallback(\n    (event) => {\n      if (event.key === 'Enter') {\n        event.preventDefault();\n        event.stopPropagation();\n        onSkip();\n      }\n    },\n    [onSkip],\n  );\n\n  return (\n    <a href=\"#\" class={classNames('fjs-skip-link', className)} onKeyDown={onKeyDown}>\n      {label}\n    </a>\n  );\n}\n","import { useMemo, useRef, useState } from 'preact/hooks';\n\nimport {\n  useDeepCompareMemoize,\n  useService,\n  useOptionsAsync,\n  useCleanupMultiSelectValue,\n  useGetLabelCorrelation,\n  LOAD_STATES,\n} from '../../hooks';\n\nimport XMarkIcon from './icons/XMark.svg';\nimport { DropdownList } from './parts/DropdownList';\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { SkipLink } from './parts/SkipLink';\n\nimport classNames from 'classnames';\nimport isEqual from 'lodash/isEqual';\nimport { sanitizeMultiSelectValue, hasEqualValue } from '../util/sanitizerUtil';\nimport { createEmptyOptions } from '../util/optionsUtil';\nimport { formFieldClasses } from '../Util';\n\nconst type = 'taglist';\n\nexport function Taglist(props) {\n  const { disabled, errors = [], onFocus, domId, onBlur, field, readonly, value } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const { required } = validate;\n\n  const [filter, setFilter] = useState('');\n  const [isDropdownExpanded, setIsDropdownExpanded] = useState(false);\n  const [isEscapeClosed, setIsEscapeClose] = useState(false);\n  const focusScopeRef = useRef();\n  const inputRef = useRef();\n  const eventBus = useService('eventBus');\n\n  const { loadState, options } = useOptionsAsync(field);\n\n  // ensures we render based on array content instead of reference\n  const values = useDeepCompareMemoize(value || []);\n\n  useCleanupMultiSelectValue({\n    field,\n    loadState,\n    options,\n    values,\n    onChange: props.onChange,\n  });\n\n  const getLabelCorrelation = useGetLabelCorrelation(options);\n\n  const hasOptionsLeft = useMemo(() => options.length > values.length, [options.length, values.length]);\n\n  const filteredOptions = useMemo(() => {\n    if (loadState !== LOAD_STATES.LOADED) {\n      return [];\n    }\n\n    const isValidFilteredOption = (option) => {\n      const filterMatches = option.label.toLowerCase().includes(filter.toLowerCase());\n      return filterMatches && !hasEqualValue(option.value, values);\n    };\n\n    return options.filter(isValidFilteredOption);\n  }, [filter, options, values, loadState]);\n\n  const selectValue = (value) => {\n    setFilter('');\n\n    // Ensure values cannot be double selected due to latency\n    if (values.at(-1) === value) {\n      return;\n    }\n\n    props.onChange({ value: [...values, value] });\n  };\n\n  const deselectValue = (value) => {\n    const newValues = values.filter((v) => !isEqual(v, value));\n    props.onChange({ value: newValues });\n  };\n\n  const onInputChange = ({ target }) => {\n    setIsEscapeClose(false);\n    setFilter(target.value || '');\n    eventBus.fire('formField.search', { formField: field, value: target.value || '' });\n  };\n\n  const onInputKeyDown = (e) => {\n    switch (e.key) {\n      case 'ArrowUp':\n      case 'ArrowDown':\n        // We do not want the cursor to seek in the search field when we press up and down\n        e.preventDefault();\n        break;\n      case 'Backspace':\n        if (!filter && values.length) {\n          deselectValue(values[values.length - 1]);\n        }\n        break;\n      case 'Escape':\n        setIsEscapeClose(true);\n        break;\n      case 'Enter':\n        if (isEscapeClosed) {\n          setIsEscapeClose(false);\n        }\n        break;\n    }\n  };\n\n  const onElementBlur = (e) => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onBlur && onBlur();\n  };\n\n  const onElementFocus = (e) => {\n    if (focusScopeRef.current.contains(e.relatedTarget)) return;\n    onFocus && onFocus();\n  };\n\n  const onInputBlur = (e) => {\n    if (!readonly) {\n      setIsDropdownExpanded(false);\n      setFilter('');\n    }\n    onElementBlur(e);\n  };\n\n  const onInputFocus = (e) => {\n    if (!readonly) {\n      setIsDropdownExpanded(true);\n    }\n    onElementFocus(e);\n  };\n\n  const onTagRemoveClick = (event, value) => {\n    const { target } = event;\n\n    deselectValue(value);\n\n    // restore focus if there is no next sibling to focus\n    const nextTag = target.closest('.fjs-taglist-tag').nextSibling;\n    if (!nextTag) {\n      inputRef.current.focus();\n    }\n  };\n\n  const onSkipToSearch = () => {\n    inputRef.current.focus();\n  };\n\n  const shouldDisplayDropdown = useMemo(\n    () => !disabled && loadState === LOAD_STATES.LOADED && isDropdownExpanded && !isEscapeClosed,\n    [disabled, isDropdownExpanded, isEscapeClosed, loadState],\n  );\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div\n      ref={focusScopeRef}\n      class={formFieldClasses(type, { errors, disabled, readonly })}\n      onKeyDown={(event) => {\n        if (event.key === 'Enter') {\n          event.stopPropagation();\n          event.preventDefault();\n        }\n      }}>\n      <Label label={label} required={required} htmlFor={domId} />\n      {!disabled && !readonly && !!values.length && (\n        <SkipLink className=\"fjs-taglist-skip-link\" label=\"Skip to search\" onSkip={onSkipToSearch} />\n      )}\n      <div class={classNames('fjs-taglist', { 'fjs-disabled': disabled, 'fjs-readonly': readonly })}>\n        {loadState === LOAD_STATES.LOADED && (\n          <div class=\"fjs-taglist-tags\">\n            {values.map((v) => {\n              return (\n                <div\n                  class={classNames('fjs-taglist-tag', { 'fjs-disabled': disabled, 'fjs-readonly': readonly })}\n                  onMouseDown={(e) => e.preventDefault()}>\n                  <span class=\"fjs-taglist-tag-label\">{getLabelCorrelation(v)}</span>\n                  {!disabled && !readonly && (\n                    <button\n                      type=\"button\"\n                      title=\"Remove tag\"\n                      class=\"fjs-taglist-tag-remove\"\n                      onFocus={onElementFocus}\n                      onBlur={onElementBlur}\n                      onClick={(event) => onTagRemoveClick(event, v)}>\n                      <XMarkIcon />\n                    </button>\n                  )}\n                </div>\n              );\n            })}\n          </div>\n        )}\n        <input\n          disabled={disabled}\n          readOnly={readonly}\n          class=\"fjs-taglist-input\"\n          ref={inputRef}\n          id={domId}\n          onChange={onInputChange}\n          type=\"text\"\n          value={filter}\n          placeholder={disabled || readonly ? undefined : 'Search'}\n          autoComplete=\"off\"\n          onKeyDown={onInputKeyDown}\n          onMouseDown={() => setIsEscapeClose(false)}\n          onFocus={onInputFocus}\n          onBlur={onInputBlur}\n          aria-describedby={[descriptionId, errorMessageId].join(' ')}\n          required={required}\n          aria-invalid={errors.length > 0}\n        />\n      </div>\n      <div class=\"fjs-taglist-anchor\">\n        {shouldDisplayDropdown && (\n          <DropdownList\n            values={filteredOptions}\n            getLabel={(o) => o.label}\n            onValueSelected={(o) => selectValue(o.value)}\n            emptyListMessage={hasOptionsLeft ? 'No results' : 'All values selected'}\n            listenerElement={inputRef.current}\n          />\n        )}\n      </div>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nTaglist.config = {\n  type,\n  keyed: true,\n  label: 'Tag list',\n  group: 'selection',\n  emptyValue: [],\n  sanitizeValue: sanitizeMultiSelectValue,\n  create: createEmptyOptions,\n};\n","const NODE_TYPE_TEXT = 3,\n  NODE_TYPE_ELEMENT = 1;\n\nconst ALLOWED_NODES = [\n  'h1',\n  'h2',\n  'h3',\n  'h4',\n  'h5',\n  'h6',\n  'span',\n  'em',\n  'a',\n  'p',\n  'div',\n  'ul',\n  'ol',\n  'li',\n  'hr',\n  'blockquote',\n  'img',\n  'pre',\n  'code',\n  'br',\n  'strong',\n  'table',\n  'thead',\n  'tbody',\n  'tr',\n  'th',\n  'td',\n];\n\nconst ALLOWED_ATTRIBUTES = ['align', 'alt', 'class', 'href', 'id', 'name', 'rel', 'target', 'src'];\n\nconst ALLOWED_URI_PATTERN = /^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\\-]+(?:[^a-z+.\\-:]|$))/i; // eslint-disable-line no-useless-escape\nconst ATTR_WHITESPACE_PATTERN = /[\\u0000-\\u0020\\u00A0\\u1680\\u180E\\u2000-\\u2029\\u205F\\u3000]/g; // eslint-disable-line no-control-regex\n\nconst FORM_ELEMENT = document.createElement('form');\n\n/**\n * Sanitize a HTML string and return the cleaned, safe version.\n *\n * @param {string} html\n * @return {string}\n */\n\n// see https://github.com/developit/snarkdown/issues/70\nexport function sanitizeHTML(html) {\n  const doc = new DOMParser().parseFromString(`<!DOCTYPE html>\\n<html><body><div>${html}`, 'text/html');\n\n  doc.normalize();\n\n  const element = doc.body.firstChild;\n\n  if (element) {\n    sanitizeNode(/** @type Element */ (element));\n    return /** @type Element */ (element).innerHTML;\n  } else {\n    // handle the case that document parsing\n    // does not work at all, due to HTML gibberish\n    return '';\n  }\n}\n\n/**\n * Recursively sanitize a HTML node, potentially\n * removing it, its children or attributes.\n *\n * Inspired by https://github.com/developit/snarkdown/issues/70\n * and https://github.com/cure53/DOMPurify. Simplified\n * for our use-case.\n *\n * @param {Element} node\n */\nfunction sanitizeNode(node) {\n  // allow text nodes\n  if (node.nodeType === NODE_TYPE_TEXT) {\n    return;\n  }\n\n  // disallow all other nodes but Element\n  if (node.nodeType !== NODE_TYPE_ELEMENT) {\n    return node.remove();\n  }\n\n  const lcTag = node.tagName.toLowerCase();\n\n  // disallow non-whitelisted tags\n  if (!ALLOWED_NODES.includes(lcTag)) {\n    return node.remove();\n  }\n\n  const attributes = node.attributes;\n\n  // clean attributes\n  for (let i = attributes.length; i--; ) {\n    const attribute = attributes[i];\n\n    const name = attribute.name;\n    const lcName = name.toLowerCase();\n\n    // normalize node value\n    const value = attribute.value.trim();\n\n    node.removeAttribute(name);\n\n    const valid = isValidAttribute(lcTag, lcName, value);\n\n    if (valid) {\n      node.setAttribute(name, value);\n    }\n  }\n\n  // force noopener on target=\"_blank\" links\n  if (lcTag === 'a' && node.getAttribute('target') === '_blank' && node.getAttribute('rel') !== 'noopener') {\n    node.setAttribute('rel', 'noopener');\n  }\n\n  for (let i = node.childNodes.length; i--; ) {\n    sanitizeNode(/** @type Element */ (node.childNodes[i]));\n  }\n}\n\n/**\n * Validates attributes for validity.\n *\n * @param {string} lcTag\n * @param {string} lcName\n * @param {string} value\n * @return {boolean}\n */\nfunction isValidAttribute(lcTag, lcName, value) {\n  // disallow most attributes based on whitelist\n  if (!ALLOWED_ATTRIBUTES.includes(lcName)) {\n    return false;\n  }\n\n  // disallow \"DOM clobbering\" / polution of document and wrapping form elements\n  if ((lcName === 'id' || lcName === 'name') && (value in document || value in FORM_ELEMENT)) {\n    return false;\n  }\n\n  if (lcName === 'target' && value !== '_blank') {\n    return false;\n  }\n\n  // allow valid url links only\n  if (lcName === 'href' && !ALLOWED_URI_PATTERN.test(value.replace(ATTR_WHITESPACE_PATTERN, ''))) {\n    return false;\n  }\n\n  return true;\n}\n","import { useCallback, useMemo } from 'preact/hooks';\nimport { useDangerousHTMLWrapper, useService, useTemplateEvaluation } from '../../hooks';\nimport { sanitizeHTML } from '../Sanitizer';\n\nimport { formFieldClasses } from '../Util';\n\nconst type = 'text';\n\nexport function Text(props) {\n  const form = useService('form');\n  const { textLinkTarget } = form._getState().properties;\n\n  const { field, disableLinks } = props;\n\n  const { text = '', strict = false } = field;\n\n  const markdownRenderer = useService('markdownRenderer');\n\n  // feelers => pure markdown\n  const markdown = useTemplateEvaluation(text, { debug: true, strict });\n\n  // markdown => html\n  const html = useMemo(() => markdownRenderer.render(markdown), [markdownRenderer, markdown]);\n\n  const sanitizeAndTransformLinks = useCallback(\n    (unsafeHtml) => {\n      const html = sanitizeHTML(unsafeHtml);\n\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n\n      const links = tempDiv.querySelectorAll('a');\n\n      links.forEach((link) => {\n        if (disableLinks) {\n          link.setAttribute('class', 'fjs-disabled-link');\n          link.setAttribute('tabIndex', '-1');\n        }\n\n        if (textLinkTarget) {\n          link.setAttribute('target', textLinkTarget);\n        }\n      });\n\n      return tempDiv.innerHTML;\n    },\n    [disableLinks, textLinkTarget],\n  );\n\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform: sanitizeAndTransformLinks,\n    sanitize: false,\n    sanitizeStyleTags: false,\n  });\n\n  return <div class={formFieldClasses(type)} dangerouslySetInnerHTML={dangerouslySetInnerHTML}></div>;\n}\n\nText.config = {\n  type,\n  keyed: false,\n  label: 'Text view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    text: '# Text',\n    ...options,\n  }),\n};\n","import { useCallback } from 'preact/hooks';\nimport { useService, useTemplateEvaluation, useDangerousHTMLWrapper } from '../../hooks';\nimport { escapeHTML } from '../util/sanitizerUtil';\nimport { wrapCSSStyles } from '../util/domUtil';\n\nimport { formFieldClasses } from '../Util';\nimport classNames from 'classnames';\n\nconst type = 'html';\n\nexport function Html(props) {\n  const form = useService('form');\n  const { textLinkTarget } = form._getState().properties;\n\n  const { field, disableLinks, domId } = props;\n\n  const { content = '', strict = false } = field;\n\n  const styleScope = `${domId}-style-scope`;\n\n  // we escape HTML within the template evaluation to prevent clickjacking attacks\n  const html = useTemplateEvaluation(content, { debug: true, strict, sanitizer: escapeHTML });\n\n  const transform = useCallback(\n    (html) => {\n      const tempDiv = document.createElement('div');\n      tempDiv.innerHTML = html;\n\n      // (1) apply modifications to links\n\n      const links = tempDiv.querySelectorAll('a');\n\n      links.forEach((link) => {\n        if (disableLinks) {\n          link.setAttribute('class', 'fjs-disabled-link');\n          link.setAttribute('tabIndex', '-1');\n        }\n\n        if (textLinkTarget) {\n          link.setAttribute('target', textLinkTarget);\n        }\n      });\n\n      // (2) scope styles to the root div\n      wrapCSSStyles(tempDiv, `.${styleScope}`);\n\n      return tempDiv.innerHTML;\n    },\n    [disableLinks, styleScope, textLinkTarget],\n  );\n\n  const dangerouslySetInnerHTML = useDangerousHTMLWrapper({\n    html,\n    transform,\n    sanitize: true,\n    sanitizeStyleTags: false,\n  });\n\n  return (\n    <div class={classNames(formFieldClasses(type), styleScope)} dangerouslySetInnerHTML={dangerouslySetInnerHTML}></div>\n  );\n}\n\nHtml.config = {\n  type,\n  keyed: false,\n  label: 'HTML view',\n  group: 'presentation',\n  create: (options = {}) => ({\n    content: '',\n    ...options,\n  }),\n};\n","import { useCallback, useEffect } from 'preact/hooks';\nimport { useExpressionEvaluation, useDeepCompareMemoize, useService } from '../../hooks';\n\nimport { isEqual } from 'lodash';\n\nconst type = 'expression';\n\nexport function ExpressionField(props) {\n  const { field, onChange, value } = props;\n\n  const { computeOn, expression } = field;\n\n  const evaluation = useExpressionEvaluation(expression);\n  const evaluationMemo = useDeepCompareMemoize(evaluation);\n  const eventBus = useService('eventBus');\n  const expressionLoopPreventer = useService('expressionLoopPreventer');\n\n  const sendValue = useCallback(() => {\n    onChange && onChange({ field, value: evaluationMemo, shouldNotRecompute: true });\n  }, [field, evaluationMemo, onChange]);\n\n  useEffect(() => {\n    if (\n      computeOn !== 'change' ||\n      isEqual(evaluationMemo, value) ||\n      !expressionLoopPreventer.registerExpressionExecution(this)\n    ) {\n      return;\n    }\n    sendValue();\n  });\n\n  useEffect(() => {\n    if (computeOn === 'presubmit') {\n      eventBus.on('presubmit', sendValue);\n      return () => eventBus.off('presubmit', sendValue);\n    }\n  }, [computeOn, sendValue, eventBus]);\n\n  return null;\n}\n\nExpressionField.config = {\n  type,\n  label: 'Expression',\n  group: 'basic-input',\n  keyed: true,\n  emptyValue: null,\n  escapeGridRender: true,\n  create: (options = {}) => ({\n    computeOn: 'change',\n    ...options,\n  }),\n};\n","import { isArray, isObject, isNil } from 'min-dash';\nimport { formFieldClasses } from '../Util';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\nimport { TemplatedInputAdorner } from './parts/TemplatedInputAdorner';\n\nimport { useFlushDebounce } from '../../hooks/useFlushDebounce';\n\nconst type = 'textfield';\n\nexport function Textfield(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value = '' } = props;\n\n  const { description, label, appearance = {}, validate = {} } = field;\n\n  const { prefixAdorner, suffixAdorner } = appearance;\n\n  const { required } = validate;\n\n  const [onInputChange, flushOnChange] = useFlushDebounce(({ target }) => {\n    props.onChange({\n      value: target.value,\n    });\n  });\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={required} />\n      <TemplatedInputAdorner disabled={disabled} readonly={readonly} pre={prefixAdorner} post={suffixAdorner}>\n        <input\n          class=\"fjs-input\"\n          disabled={disabled}\n          readOnly={readonly}\n          id={domId}\n          onInput={onInputChange}\n          onBlur={onInputBlur}\n          onFocus={onInputFocus}\n          type=\"text\"\n          value={value}\n          aria-describedby={[descriptionId, errorMessageId].join(' ')}\n          required={required}\n          aria-invalid={errors.length > 0}\n        />\n      </TemplatedInputAdorner>\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nTextfield.config = {\n  type,\n  keyed: true,\n  label: 'Text field',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({ value }) => {\n    if (isArray(value) || isObject(value) || isNil(value)) {\n      return '';\n    }\n\n    // sanitize newlines to spaces\n    if (typeof value === 'string') {\n      return value.replace(/[\\r\\n\\t]/g, ' ');\n    }\n\n    return String(value);\n  },\n  create: (options = {}) => ({ ...options }),\n};\n","import { isArray, isObject, isNil } from 'min-dash';\n\nimport { useEffect, useLayoutEffect, useRef } from 'preact/hooks';\nimport { useFlushDebounce } from '../../hooks/useFlushDebounce';\n\nimport { formFieldClasses } from '../Util';\n\nimport { Description } from '../Description';\nimport { Errors } from '../Errors';\nimport { Label } from '../Label';\n\nconst type = 'textarea';\n\nexport function Textarea(props) {\n  const { disabled, errors = [], domId, onBlur, onFocus, field, readonly, value = '' } = props;\n\n  const { description, label, validate = {} } = field;\n\n  const { required } = validate;\n  const textareaRef = useRef();\n\n  const [onChange, flushOnChange] = useFlushDebounce(({ target }) => {\n    props.onChange({\n      value: target.value,\n    });\n  });\n\n  const onInputBlur = () => {\n    flushOnChange && flushOnChange();\n    onBlur && onBlur();\n  };\n\n  const onInputFocus = () => {\n    onFocus && onFocus();\n  };\n\n  const onInputChange = (event) => {\n    onChange({ target: event.target });\n    autoSizeTextarea(textareaRef.current);\n  };\n\n  useLayoutEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, [value]);\n\n  useEffect(() => {\n    autoSizeTextarea(textareaRef.current);\n  }, []);\n\n  const descriptionId = `${domId}-description`;\n  const errorMessageId = `${domId}-error-message`;\n\n  return (\n    <div class={formFieldClasses(type, { errors, disabled, readonly })}>\n      <Label htmlFor={domId} label={label} required={required} />\n      <textarea\n        class=\"fjs-textarea\"\n        disabled={disabled}\n        readonly={readonly}\n        id={domId}\n        onInput={onInputChange}\n        onBlur={onInputBlur}\n        onFocus={onInputFocus}\n        value={value}\n        ref={textareaRef}\n        aria-describedby={[descriptionId, errorMessageId].join(' ')}\n        required={required}\n        aria-invalid={errors.length > 0}\n      />\n      <Description id={descriptionId} description={description} />\n      <Errors id={errorMessageId} errors={errors} />\n    </div>\n  );\n}\n\nTextarea.config = {\n  type,\n  keyed: true,\n  label: 'Text area',\n  group: 'basic-input',\n  emptyValue: '',\n  sanitizeValue: ({ value }) => (isArray(value) || isObject(value) || isNil(value) ? '' : String(value)),\n  create: (options = {}) => ({ ...options }),\n};\n\nconst autoSizeTextarea = (textarea) => {\n  // Ensures the textarea shrinks back, and improves resizing behavior consistency\n  textarea.style.height = '0px';\n\n  const computed = window.getComputedStyle(textarea);\n\n  const heightFromLines = () => {\n    const lineHeight = parseInt(computed.getPropertyValue('line-height').replace('px', '')) || 0;\n    const lines = textarea.value ? textarea.value.toString().split('\\n').length : 0;\n    return lines * lineHeight;\n  };\n\n  const calculatedHeight =\n    parseInt(computed.getPropertyValue('border-top-width')) +\n    parseInt(computed.getPropertyValue('padding-top')) +\n    (textarea.scrollHeight || heightFromLines()) +\n    parseInt(computed.getPropertyValue('padding-bottom')) +\n    parseInt(computed.getPropertyValue('border-bottom-width'));\n\n  const minHeight = 75;\n  const maxHeight = 350;\n  const displayHeight = Math.max(Math.min(calculatedHeight || 0, maxHeight), minHeight);\n\n  textarea.style.height = `${displayHeight}px`;\n\n  // Overflow is hidden by default to hide scrollbar flickering\n  textarea.style.overflow = calculatedHeight > maxHeight ? 'visible' : 'hidden';\n};\n","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"M24.59 16.59 17 24.17V4h-2v20.17l-7.59-7.58L6 18l10 10 10-10-1.41-1.41z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"M16 4 6 14l1.41 1.41L15 7.83V28h2V7.83l7.59 7.58L26 14 16 4z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"m20 24-10-8 10-8z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" xml:space=\"preserve\" viewBox=\"0 0 32 32\"><path fill=\"currentcolor\" d=\"m12 8 10 8-10 8z\"/></svg>","import { isDefined, isNumber, isObject, isString } from 'min-dash';\nimport { useExpressionEvaluation } from '../../hooks';\nimport { useEffect, useState } from 'preact/hooks';\nimport { formFieldClasses, prefixId } from '../Util';\nimport classNames from 'classnames';\n\nimport { Label } from '../Label';\nimport ArrowDownIcon from './icons/ArrowDown.svg';\nimport ArrowUpIcon from './icons/ArrowUp.svg';\nimport CaretLeftIcon from './icons/CaretLeft.svg';\nimport CaretRightIcon from './icons/CaretRight.svg';\n\nconst type = 'table';\n\n/**\n * @typedef {('asc'|'desc')} Direction\n *\n * @typedef Sorting\n * @property {string} key\n * @property {Direction} direction\n *\n * @typedef Column\n * @property {string} label\n * @property {string} key\n *\n * @typedef Field\n * @property {string} id\n * @property {Array<Column>} [columns]\n * @property {string} [columnsExpression]\n * @property {string} [label]\n * @property {number} [rowCount]\n * @property {string} [dataSource]\n *\n * @typedef Props\n * @property {Field} field\n *\n * @param {Props} props\n * @returns {import(\"preact\").JSX.Element}\n */\nexport function Table(props) {\n  const { field } = props;\n  const { columns = [], columnsExpression, dataSource = '', rowCount, id, label } = field;\n\n  /** @type {[(null|Sorting), import(\"preact/hooks\").StateUpdater<null|Sorting>]} */\n  const [sortBy, setSortBy] = useState(null);\n  const evaluatedColumns = useEvaluatedColumns(columnsExpression || '', columns);\n  const columnKeys = evaluatedColumns.map(({ key }) => key);\n  const evaluatedDataSource = useExpressionEvaluation(dataSource);\n  const data = Array.isArray(evaluatedDataSource) ? evaluatedDataSource.filter((i) => i !== undefined) : [];\n  const sortedData = sortBy === null ? data : sortByColumn(data, sortBy.key, sortBy.direction);\n\n  /** @type {unknown[][]} */\n  const chunkedData = isNumber(rowCount) ? chunk(sortedData, rowCount) : [sortedData];\n  const [currentPage, setCurrentPage] = useState(0);\n  const currentChunk = chunkedData[currentPage] || [];\n\n  useEffect(() => {\n    setCurrentPage(0);\n  }, [rowCount, sortBy]);\n\n  /** @param {string} key */\n  function toggleSortBy(key) {\n    setSortBy((current) => {\n      if (current === null || current.key !== key) {\n        return {\n          key,\n          direction: 'asc',\n        };\n      }\n\n      if (current.direction === 'desc') {\n        return null;\n      }\n\n      return {\n        key,\n        direction: 'desc',\n      };\n    });\n  }\n\n  return (\n    <div class={formFieldClasses(type)}>\n      <Label htmlFor={prefixId(id)} label={label} />\n      <div\n        class={classNames('fjs-table-middle-container', {\n          'fjs-table-empty': evaluatedColumns.length === 0,\n        })}>\n        {evaluatedColumns.length === 0 ? (\n          'Nothing to show.'\n        ) : (\n          <div class=\"fjs-table-inner-container\">\n            <table class=\"fjs-table\" id={prefixId(id)}>\n              <thead class=\"fjs-table-head\">\n                <tr class=\"fjs-table-tr\">\n                  {evaluatedColumns.map(({ key, label }) => {\n                    const displayLabel = label || key;\n\n                    return (\n                      <th\n                        key={key}\n                        tabIndex={0}\n                        class=\"fjs-table-th\"\n                        onClick={() => {\n                          toggleSortBy(key);\n                        }}\n                        onKeyDown={(event) => {\n                          if (['Enter', 'Space'].includes(event.code)) {\n                            toggleSortBy(key);\n                          }\n                        }}\n                        aria-label={getHeaderAriaLabel(sortBy, key, displayLabel)}>\n                        <span class=\"fjs-table-th-label\">\n                          {displayLabel}\n                          {sortBy !== null && sortBy.key === key ? (\n                            <>\n                              {sortBy.direction === 'asc' ? (\n                                <ArrowUpIcon class=\"fjs-table-sort-icon-asc\" />\n                              ) : (\n                                <ArrowDownIcon class=\"fjs-table-sort-icon-desc\" />\n                              )}\n                            </>\n                          ) : null}\n                        </span>\n                      </th>\n                    );\n                  })}\n                </tr>\n              </thead>\n              {currentChunk.length === 0 ? (\n                <tbody class=\"fjs-table-body\">\n                  <tr class=\"fjs-table-tr\">\n                    <td class=\"fjs-table-td\" colSpan={evaluatedColumns.length}>\n                      Nothing to show.\n                    </td>\n                  </tr>\n                </tbody>\n              ) : (\n                <tbody class=\"fjs-table-body\">\n                  {currentChunk.map((row, index) => (\n                    <tr key={index} class=\"fjs-table-tr\">\n                      {columnKeys.map((key) => (\n                        <td key={key} class=\"fjs-table-td\">\n                          {row[key]}\n                        </td>\n                      ))}\n                    </tr>\n                  ))}\n                </tbody>\n              )}\n            </table>\n          </div>\n        )}\n\n        {isNumber(rowCount) && chunkedData.length > 1 && evaluatedColumns.length > 0 ? (\n          <nav class=\"fjs-table-nav\">\n            <span class=\"fjs-table-nav-label\">\n              {currentPage + 1} of {chunkedData.length}\n            </span>\n            <button\n              type=\"button\"\n              class=\"fjs-table-nav-button\"\n              onClick={() => {\n                setCurrentPage((page) => Math.max(page - 1, 0));\n              }}\n              disabled={currentPage === 0}\n              aria-label=\"Previous page\">\n              <CaretLeftIcon />\n            </button>\n            <button\n              type=\"button\"\n              class=\"fjs-table-nav-button\"\n              onClick={() => {\n                setCurrentPage((page) => Math.min(page + 1, chunkedData.length - 1));\n              }}\n              disabled={currentPage >= chunkedData.length - 1}\n              aria-label=\"Next page\">\n              <CaretRightIcon />\n            </button>\n          </nav>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n\nTable.config = {\n  type,\n  keyed: false,\n  label: 'Table',\n  group: 'presentation',\n  create: (options = {}) => {\n    const { id, columnsExpression, columns, rowCount, ...remainingOptions } = options;\n\n    if (isDefined(id) && isNumber(rowCount)) {\n      remainingOptions['rowCount'] = rowCount;\n    }\n\n    if (isString(columnsExpression)) {\n      return {\n        ...remainingOptions,\n        id,\n        columnsExpression,\n      };\n    }\n\n    if (Array.isArray(columns) && columns.every(isColumn)) {\n      return {\n        ...remainingOptions,\n        id,\n        columns,\n      };\n    }\n\n    return {\n      ...remainingOptions,\n      rowCount: 10,\n      columns: [\n        {\n          label: 'ID',\n          key: 'id',\n        },\n        {\n          label: 'Name',\n          key: 'name',\n        },\n        {\n          label: 'Date',\n          key: 'date',\n        },\n      ],\n    };\n  },\n\n  /**\n   * @experimental\n   *\n   * A function that generates demo data for a new field on the form playground.\n   * @param {Field} field\n   */\n  generateInitialDemoData: (field) => {\n    const demoData = [\n      { id: 1, name: 'John Doe', date: '31.01.2023' },\n      { id: 2, name: 'Erika Muller', date: '20.02.2023' },\n      { id: 3, name: 'Dominic Leaf', date: '11.03.2023' },\n    ];\n    const demoDataKeys = Object.keys(demoData[0]);\n    const { columns, id, dataSource } = field;\n\n    if (!Array.isArray(columns) || columns.length === 0 || dataSource !== `=${id}`) {\n      return;\n    }\n\n    if (!columns.map(({ key }) => key).every((key) => demoDataKeys.includes(key))) {\n      return;\n    }\n\n    return demoData;\n  },\n};\n\n// helpers /////////////////////////////\n\n/**\n * @param {string|void} columnsExpression\n * @param {Column[]} fallbackColumns\n * @returns {Column[]}\n */\nfunction useEvaluatedColumns(columnsExpression, fallbackColumns) {\n  /** @type {Column[]|null} */\n  const evaluation = useExpressionEvaluation(columnsExpression || '');\n\n  return Array.isArray(evaluation) && evaluation.every(isColumn) ? evaluation : fallbackColumns;\n}\n\n/**\n * @param {any} column\n * @returns {column is Column}\n */\nfunction isColumn(column) {\n  return isObject(column) && isString(column['label']) && isString(column['key']);\n}\n\n/**\n * @param {Array} array\n * @param {number} size\n * @returns {Array}\n */\nfunction chunk(array, size) {\n  return array.reduce((chunks, item, index) => {\n    if (index % size === 0) {\n      chunks.push([item]);\n    } else {\n      chunks[chunks.length - 1].push(item);\n    }\n\n    return chunks;\n  }, []);\n}\n\n/**\n * @param {unknown[]} array\n * @param {string} key\n * @param {Direction} direction\n * @returns {unknown[]}\n */\nfunction sortByColumn(array, key, direction) {\n  return [...array].sort((a, b) => {\n    if (!isObject(a) || !isObject(b)) {\n      return 0;\n    }\n\n    if (direction === 'asc') {\n      return a[key] > b[key] ? 1 : -1;\n    }\n\n    return a[key] < b[key] ? 1 : -1;\n  });\n}\n\n/**\n * @param {null|Sorting} sortBy\n * @param {string} key\n * @param {string} label\n */\nfunction getHeaderAriaLabel(sortBy, key, label) {\n  if (sortBy === null || sortBy.key !== key) {\n    return `Click to sort by ${label} descending`;\n  }\n\n  if (sortBy.direction === 'asc') {\n    return 'Click to remove sorting';\n  }\n\n  return `Click to sort by ${label} ascending`;\n}\n","/**\n * This file must not be changed or exchanged.\n *\n * @see http://bpmn.io/license for more information.\n */\nimport { Fragment } from 'preact';\nimport { useState } from 'preact/hooks';\nimport { createPortal } from 'preact/compat';\n\nfunction Logo() {\n  return (\n    <svg\n      xmlns=\"http://www.w3.org/2000/svg\"\n      viewBox=\"0 0 14.02 5.57\"\n      width=\"53\"\n      height=\"21\"\n      style=\"vertical-align:middle\">\n      <path\n        fill=\"currentColor\"\n        d=\"M1.88.92v.14c0 .41-.13.68-.4.8.33.14.46.44.46.86v.33c0 .61-.33.95-.95.95H0V0h.95c.65 0 .93.3.93.92zM.63.57v1.06h.24c.24 0 .38-.1.38-.43V.98c0-.28-.1-.4-.32-.4zm0 1.63v1.22h.36c.2 0 .32-.1.32-.39v-.35c0-.37-.12-.48-.4-.48H.63zM4.18.99v.52c0 .64-.31.98-.94.98h-.3V4h-.62V0h.92c.63 0 .94.35.94.99zM2.94.57v1.35h.3c.2 0 .3-.09.3-.37v-.6c0-.29-.1-.38-.3-.38h-.3zm2.89 2.27L6.25 0h.88v4h-.6V1.12L6.1 3.99h-.6l-.46-2.82v2.82h-.55V0h.87zM8.14 1.1V4h-.56V0h.79L9 2.4V0h.56v4h-.64zm2.49 2.29v.6h-.6v-.6zM12.12 1c0-.63.33-1 .95-1 .61 0 .95.37.95 1v2.04c0 .64-.34 1-.95 1-.62 0-.95-.37-.95-1zm.62 2.08c0 .28.13.39.33.39s.32-.1.32-.4V.98c0-.29-.12-.4-.32-.4s-.33.11-.33.4z\"\n      />\n      <path fill=\"currentColor\" d=\"M0 4.53h14.02v1.04H0zM11.08 0h.63v.62h-.63zm.63 4V1h-.63v2.98z\" />\n    </svg>\n  );\n}\n\nfunction Lightbox(props) {\n  const { open } = props;\n\n  if (!open) {\n    return null;\n  }\n\n  return (\n    <div class=\"fjs-powered-by-lightbox\" style=\"z-index: 100; position: fixed; top: 0; left: 0;right: 0; bottom: 0\">\n      <div\n        class=\"backdrop\"\n        style=\"width: 100%; height: 100%; background: rgba(40 40 40 / 20%)\"\n        onClick={props.onBackdropClick}></div>\n      <div\n        class=\"notice\"\n        style=\"position: absolute; left: 50%; top: 40%; transform: translate(-50%); width: 260px; padding: 10px; background: white; box-shadow: 0  1px 4px rgba(0 0 0 / 30%); font-family: Helvetica, Arial, sans-serif; font-size: 14px; display: flex; line-height: 1.3\">\n        <a\n          href=\"https://bpmn.io\"\n          target=\"_blank\"\n          rel=\"noopener\"\n          style=\"margin: 15px 20px 15px 10px; align-self: center; color: var(--cds-icon-primary, #404040)\">\n          <Logo />\n        </a>\n        <span>\n          Web-based tooling for BPMN, DMN, and forms powered by{' '}\n          <a href=\"https://bpmn.io\" target=\"_blank\" rel=\"noopener\">\n            bpmn.io\n          </a>\n          .\n        </span>\n      </div>\n    </div>\n  );\n}\n\nfunction Link(props) {\n  return (\n    <div class=\"fjs-powered-by fjs-form-field\" style=\"text-align: right\">\n      <a\n        href=\"https://bpmn.io\"\n        target=\"_blank\"\n        rel=\"noopener\"\n        class=\"fjs-powered-by-link\"\n        title=\"Powered by bpmn.io\"\n        style=\"color: var(--cds-text-primary, #404040)\"\n        onClick={props.onClick}>\n        <Logo />\n      </a>\n    </div>\n  );\n}\n\nexport function PoweredBy(props) {\n  const [open, setOpen] = useState(false);\n\n  function toggleOpen(open) {\n    return (event) => {\n      event.preventDefault();\n\n      setOpen(open);\n    };\n  }\n\n  return (\n    <Fragment>\n      {createPortal(<Lightbox open={open} onBackdropClick={toggleOpen(false)} />, document.body)}\n      <Link onClick={toggleOpen(true)} />\n    </Fragment>\n  );\n}\n","import { FormField } from './FormField';\nimport { PoweredBy } from './PoweredBy';\nimport { LocalExpressionContext } from '../context/LocalExpressionContext';\n\nimport { useMemo } from 'preact/hooks';\nimport { useFilteredFormData, useService } from '../hooks';\n\nconst noop = () => {};\n\nexport function FormComponent(props) {\n  const form = useService('form');\n\n  const { schema, properties } = form._getState();\n\n  const { ariaLabel } = properties;\n\n  const { onSubmit = noop, onReset = noop, onChange = noop } = props;\n\n  const handleSubmit = (event) => {\n    event.preventDefault();\n\n    onSubmit();\n  };\n\n  const handleReset = (event) => {\n    event.preventDefault();\n\n    onReset();\n  };\n\n  const filteredFormData = useFilteredFormData();\n\n  const localExpressionContext = useMemo(\n    () => ({\n      data: filteredFormData,\n      parent: null,\n      this: filteredFormData,\n      i: [],\n    }),\n    [filteredFormData],\n  );\n\n  return (\n    <form class=\"fjs-form\" onSubmit={handleSubmit} onReset={handleReset} aria-label={ariaLabel} noValidate>\n      <LocalExpressionContext.Provider value={localExpressionContext}>\n        <FormField field={schema} onChange={onChange} />\n      </LocalExpressionContext.Provider>\n      <PoweredBy />\n    </form>\n  );\n}\n","import { Button } from './form-fields/Button';\nimport { Checkbox } from './form-fields/Checkbox';\nimport { Checklist } from './form-fields/Checklist';\nimport { Default } from './form-fields/Default';\nimport { Datetime } from './form-fields/Datetime';\nimport { Group } from './form-fields/Group';\nimport { IFrame } from './form-fields/IFrame';\nimport { Image } from './form-fields/Image';\nimport { Numberfield } from './form-fields/Number';\nimport { Radio } from './form-fields/Radio';\nimport { Select } from './form-fields/Select';\nimport { Separator } from './form-fields/Separator';\nimport { Spacer } from './form-fields/Spacer';\nimport { DynamicList } from './form-fields/DynamicList';\nimport { Taglist } from './form-fields/Taglist';\nimport { Text } from './form-fields/Text';\nimport { Html } from './form-fields/Html';\nimport { ExpressionField } from './form-fields/ExpressionField';\nimport { Textfield } from './form-fields/Textfield';\nimport { Textarea } from './form-fields/Textarea';\nimport { Table } from './form-fields/Table';\n\nimport { Label } from './Label';\nimport { Description } from './Description';\nimport { Errors } from './Errors';\nimport { FormComponent } from './FormComponent';\nimport { FormField } from './FormField';\n\nexport { Label, Description, Errors };\n\nexport {\n  Button,\n  Checkbox,\n  Checklist,\n  Default,\n  Datetime,\n  FormComponent,\n  FormField,\n  Group,\n  IFrame,\n  DynamicList,\n  Image,\n  Numberfield,\n  ExpressionField,\n  Radio,\n  Select,\n  Separator,\n  Spacer,\n  Taglist,\n  Text,\n  Html,\n  Textfield,\n  Textarea,\n  Table,\n};\n\nexport const formFields = [\n  /* Input */\n  Textfield,\n  Textarea,\n  Numberfield,\n  Datetime,\n  ExpressionField,\n\n  /* Selection */\n  Checkbox,\n  Checklist,\n  Radio,\n  Select,\n  Taglist,\n\n  /* Presentation */\n  Text,\n  Image,\n  Table,\n  Html,\n  Spacer,\n  Separator,\n\n  /* Containers */\n  Group,\n  DynamicList,\n  IFrame,\n\n  /* Other */\n  Button,\n  Default,\n];\n\nexport * from './icons';\nexport * from './Sanitizer';\nexport * from './util/domUtil';\nexport * from './util/sanitizerUtil';\n","import { formFields } from './components';\n\nexport class FormFields {\n  constructor() {\n    this._formFields = {};\n\n    formFields.forEach((formField) => {\n      this.register(formField.config.type, formField);\n    });\n  }\n\n  register(type, formField) {\n    this._formFields[type] = formField;\n  }\n\n  get(type) {\n    return this._formFields[type];\n  }\n}\n","import { FeelExpressionLanguage } from '../features/expressionLanguage/FeelExpressionLanguage.js';\nimport { FeelersTemplating } from '../features/expressionLanguage/FeelersTemplating.js';\nimport { FormFields } from '../render/FormFields.js';\n\nimport { get } from 'min-dash';\n\nconst EXPRESSION_PROPERTIES = [\n  'alt',\n  'appearance.prefixAdorner',\n  'appearance.suffixAdorner',\n  'conditional.hide',\n  'description',\n  'label',\n  'source',\n  'readonly',\n  'text',\n  'validate.min',\n  'validate.max',\n  'validate.minLength',\n  'validate.maxLength',\n  'valuesExpression',\n  'url',\n  'dataSource',\n  'columnsExpression',\n];\n\nconst TEMPLATE_PROPERTIES = [\n  'alt',\n  'appearance.prefixAdorner',\n  'appearance.suffixAdorner',\n  'description',\n  'label',\n  'source',\n  'text',\n  'content',\n  'url',\n];\n\n/**\n * @typedef { import('../types').Schema } Schema\n */\n\n/**\n * Parse the schema for variables a form might make use of.\n *\n * @example\n *\n * // retrieve variables from schema\n * const variables = getSchemaVariables(schema);\n *\n * @example\n *\n * // retrieve input variables from schema\n * const inputVariables = getSchemaVariables(schema, { outputs: false });\n *\n * @example\n *\n * // retrieve output variables from schema\n * const outputVariables = getSchemaVariables(schema, { inputs: false });\n *\n * @param {Schema} schema\n * @param {object} [options]\n * @param {any} [options.expressionLanguage]\n * @param {any} [options.templating]\n * @param {any} [options.formFields]\n * @param {boolean} [options.inputs=true]\n * @param {boolean} [options.outputs=true]\n *\n * @return {string[]}\n */\nexport function getSchemaVariables(schema, options = {}) {\n  const {\n    formFields = new FormFields(),\n    expressionLanguage = new FeelExpressionLanguage(null),\n    templating = new FeelersTemplating(),\n    inputs = true,\n    outputs = true,\n  } = options;\n\n  if (!schema.components) {\n    return [];\n  }\n\n  const getAllComponents = (node) => {\n    const components = [];\n\n    if (node.components) {\n      node.components.forEach((component) => {\n        components.push(component);\n        components.push(...getAllComponents(component));\n      });\n    }\n\n    return components;\n  };\n\n  const variables = getAllComponents(schema).reduce((variables, component) => {\n    const { valuesKey } = component;\n\n    // collect input-only variables\n    if (inputs) {\n      if (valuesKey) {\n        variables = [...variables, valuesKey];\n      }\n\n      EXPRESSION_PROPERTIES.forEach((prop) => {\n        const property = get(component, prop.split('.'));\n\n        if (property && expressionLanguage.isExpression(property)) {\n          const expressionVariables = expressionLanguage.getVariableNames(property, { type: 'expression' });\n\n          variables = [...variables, ...expressionVariables];\n        }\n      });\n\n      TEMPLATE_PROPERTIES.forEach((prop) => {\n        const property = get(component, prop.split('.'));\n\n        if (property && !expressionLanguage.isExpression(property) && templating.isTemplate(property)) {\n          const templateVariables = templating.getVariableNames(property);\n          variables = [...variables, ...templateVariables];\n        }\n      });\n    }\n\n    return variables.filter((variable) => typeof variable === 'string');\n  }, []);\n\n  const getBindingVariables = (node) => {\n    const bindingVariable = [];\n    const formField = formFields.get(node.type);\n\n    if (formField && formField.config.keyed && node.key) {\n      return [node.key.split('.')[0]];\n    } else if (formField && formField.config.pathed && node.path) {\n      return [node.path.split('.')[0]];\n    } else if (node.components) {\n      node.components.forEach((component) => {\n        bindingVariable.push(...getBindingVariables(component));\n      });\n    }\n\n    return bindingVariable;\n  };\n\n  // collect binding variables\n  if (inputs || outputs) {\n    variables.push(...getBindingVariables(schema));\n  }\n\n  // remove duplicates\n  return Array.from(new Set(variables));\n}\n","/**\n * Get the ancestry list of a form field.\n *\n * @param {string} formFieldId\n * @param {import('../core/FormFieldRegistry').FormFieldRegistry} formFieldRegistry\n *\n * @return {Array<string>} ancestry list\n */\nexport const getAncestryList = (formFieldId, formFieldRegistry) => {\n  const ids = [];\n\n  let currentFormField = formFieldRegistry.get(formFieldId);\n\n  while (currentFormField) {\n    ids.push(currentFormField.id);\n\n    currentFormField = formFieldRegistry.get(currentFormField._parent);\n  }\n\n  return ids;\n};\n","import { unaryTest } from 'feelin';\nimport { get, isString, set, values, isObject } from 'min-dash';\nimport { buildExpressionContext, clone } from '../../util';\n\n/**\n * @typedef {object} Condition\n * @property {string} [hide]\n */\n\nexport class ConditionChecker {\n  constructor(formFieldRegistry, pathRegistry, eventBus) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * For given data, remove properties based on condition.\n   *\n   * @param {Object<string, any>} data\n   * @param {Object<string, any>} contextData\n   * @param {Object} [options]\n   * @param {Function} [options.getFilterPath]\n   * @param {boolean} [options.leafNodeDeletionOnly]\n   */\n  applyConditions(data, contextData = {}, options = {}) {\n    const workingData = clone(data);\n\n    const { getFilterPath = (field, indexes) => this._pathRegistry.getValuePath(field, { indexes }) } = options;\n\n    const _applyConditionsWithinScope = (rootField, scopeContext, startHidden = false) => {\n      const { indexes = {}, expressionIndexes = [], scopeData = contextData, parentScopeData = null } = scopeContext;\n\n      this._pathRegistry.executeRecursivelyOnFields(rootField, ({ field, isClosed, isRepeatable, context }) => {\n        const { conditional, components, id } = field;\n\n        // build the expression context in the right format\n        const localExpressionContext = buildExpressionContext({\n          this: scopeData,\n          data: contextData,\n          i: expressionIndexes,\n          parent: parentScopeData,\n        });\n\n        context.isHidden =\n          startHidden ||\n          context.isHidden ||\n          (conditional && this._checkHideCondition(conditional, localExpressionContext));\n\n        // if a field is repeatable and visible, we need to implement custom recursion on its children\n        if (isRepeatable && !context.isHidden) {\n          // prevent the regular recursion behavior of executeRecursivelyOnFields\n          context.preventRecursion = true;\n\n          const repeaterValuePath = this._pathRegistry.getValuePath(field, { indexes });\n          const repeaterValue = get(contextData, repeaterValuePath);\n\n          // quit early if there are no children or data associated with the repeater\n          if (\n            !Array.isArray(repeaterValue) ||\n            !repeaterValue.length ||\n            !Array.isArray(components) ||\n            !components.length\n          ) {\n            return;\n          }\n\n          for (let i = 0; i < repeaterValue.length; i++) {\n            // create a new scope context for each index\n            const newScopeContext = {\n              indexes: { ...indexes, [id]: i },\n              expressionIndexes: [...expressionIndexes, i + 1],\n              scopeData: repeaterValue[i],\n              parentScopeData: scopeData,\n            };\n\n            // for each child component, apply conditions within the new repetition scope\n            components.forEach((component) => {\n              _applyConditionsWithinScope(component, newScopeContext, context.isHidden);\n            });\n          }\n        }\n\n        // if we have a hidden repeatable field, and the data structure allows, we clear it directly at the root and stop recursion\n        if (context.isHidden && isRepeatable) {\n          context.preventRecursion = true;\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n\n        // for simple leaf fields, we always clear\n        if (context.isHidden && isClosed) {\n          this._cleanlyClearDataAtPath(getFilterPath(field, indexes), workingData);\n        }\n      });\n    };\n\n    // apply conditions starting with the root of the form\n    const form = this._formFieldRegistry.getForm();\n\n    if (!form) {\n      throw new Error('form field registry has no form');\n    }\n\n    _applyConditionsWithinScope(form, {\n      scopeData: contextData,\n    });\n\n    return workingData;\n  }\n\n  /**\n   * Check if given condition is met. Returns null for invalid/missing conditions.\n   *\n   * @param {string} condition\n   * @param {import('../../types').Data} [data]\n   *\n   * @returns {boolean|null}\n   */\n  check(condition, data = {}) {\n    if (!condition) {\n      return null;\n    }\n\n    if (!isString(condition) || !condition.startsWith('=')) {\n      return null;\n    }\n\n    try {\n      // cut off initial '='\n      const result = unaryTest(condition.slice(1), data);\n\n      return result;\n    } catch (error) {\n      this._eventBus.fire('error', { error });\n      return null;\n    }\n  }\n\n  /**\n   * Check if hide condition is met.\n   *\n   * @param {Condition} condition\n   * @param {Object<string, any>} data\n   * @returns {boolean}\n   */\n  _checkHideCondition(condition, data) {\n    if (!condition.hide) {\n      return false;\n    }\n\n    const result = this.check(condition.hide, data);\n\n    return result === true;\n  }\n\n  _cleanlyClearDataAtPath(valuePath, obj) {\n    const workingValuePath = [...valuePath];\n    let recurse = false;\n\n    do {\n      set(obj, workingValuePath, undefined);\n      workingValuePath.pop();\n      const parentObject = get(obj, workingValuePath);\n      recurse = !!workingValuePath.length && (this._isEmptyObject(parentObject) || this._isEmptyArray(parentObject));\n    } while (recurse);\n  }\n\n  _isEmptyObject(parentObject) {\n    return isObject(parentObject) && !values(parentObject).length;\n  }\n\n  _isEmptyArray(parentObject) {\n    return Array.isArray(parentObject) && (!parentObject.length || parentObject.every((item) => item === undefined));\n  }\n}\n\nConditionChecker.$inject = ['formFieldRegistry', 'pathRegistry', 'eventBus'];\n","import { FeelExpressionLanguage } from './FeelExpressionLanguage';\nimport { FeelersTemplating } from './FeelersTemplating';\nimport { ConditionChecker } from './ConditionChecker';\n\nexport const ExpressionLanguageModule = {\n  __init__: ['expressionLanguage', 'templating', 'conditionChecker'],\n  expressionLanguage: ['type', FeelExpressionLanguage],\n  templating: ['type', FeelersTemplating],\n  conditionChecker: ['type', ConditionChecker],\n};\n\nexport { FeelExpressionLanguage, FeelersTemplating, ConditionChecker };\n","export class ExpressionLoopPreventer {\n  constructor(eventBus) {\n    this._computedExpressions = [];\n\n    eventBus.on('field.updated', ({ shouldNotRecompute }) => {\n      if (shouldNotRecompute) {\n        return;\n      }\n\n      this.reset();\n    });\n\n    eventBus.on('import.done', this.reset.bind(this));\n    eventBus.on('reset', this.reset.bind(this));\n  }\n\n  /**\n   * Checks if the expression field has already been computed, and registers it if not.\n   *\n   * @param {any} expressionField\n   * @returns {boolean} - whether the expression field has already been computed within the current cycle\n   */\n  registerExpressionExecution(expressionField) {\n    if (this._computedExpressions.includes(expressionField)) {\n      return false;\n    }\n\n    this._computedExpressions.push(expressionField);\n\n    return true;\n  }\n\n  /**\n   * Resets the list of computed expressions.\n   */\n  reset() {\n    this._computedExpressions = [];\n  }\n}\n\nExpressionLoopPreventer.$inject = ['eventBus'];\n","import { ExpressionLoopPreventer } from './ExpressionLoopPreventer';\n\nexport const ExpressionFieldModule = {\n  __init__: ['expressionLoopPreventer'],\n  expressionLoopPreventer: ['type', ExpressionLoopPreventer],\n};\n\nexport { ExpressionLoopPreventer };\n","import { marked } from 'marked';\n\nexport class MarkdownRenderer {\n  /**\n   * Render markdown to HTML.\n   *\n   * @param {string} markdown - The markdown to render\n   *\n   * @returns {string} HTML\n   */\n  render(markdown) {\n    // @ts-expect-error\n    return marked.parse(markdown, {\n      gfm: true,\n      breaks: true,\n    });\n  }\n}\n\nMarkdownRenderer.$inject = [];\n","import { MarkdownRenderer } from './MarkdownRenderer';\n\nexport const MarkdownRendererModule = {\n  __init__: ['markdownRenderer'],\n  markdownRenderer: ['type', MarkdownRenderer],\n};\n\nexport { MarkdownRenderer };\n","import {\n  uniqueBy,\n  isArray\n} from 'min-dash';\n\n/**\n * @typedef {import('didi').Injector} Injector\n *\n * @typedef {import('../core/Types').ElementLike} ElementLike\n *\n * @typedef {import('../core/EventBus').default} EventBus\n * @typedef {import('./CommandHandler').default} CommandHandler\n *\n * @typedef { any } CommandContext\n * @typedef { {\n *   new (...args: any[]) : CommandHandler\n * } } CommandHandlerConstructor\n * @typedef { {\n *   [key: string]: CommandHandler;\n * } } CommandHandlerMap\n * @typedef { {\n *   command: string;\n *   context: any;\n *   id?: any;\n * } } CommandStackAction\n * @typedef { {\n *   actions: CommandStackAction[];\n *   dirty: ElementLike[];\n *   trigger: 'execute' | 'undo' | 'redo' | 'clear' | null;\n *   atomic?: boolean;\n * } } CurrentExecution\n */\n\n/**\n * A service that offers un- and redoable execution of commands.\n *\n * The command stack is responsible for executing modeling actions\n * in a un- and redoable manner. To do this it delegates the actual\n * command execution to {@link CommandHandler}s.\n *\n * Command handlers provide {@link CommandHandler#execute(ctx)} and\n * {@link CommandHandler#revert(ctx)} methods to un- and redo a command\n * identified by a command context.\n *\n *\n * ## Life-Cycle events\n *\n * In the process the command stack fires a number of life-cycle events\n * that other components to participate in the command execution.\n *\n *    * preExecute\n *    * preExecuted\n *    * execute\n *    * executed\n *    * postExecute\n *    * postExecuted\n *    * revert\n *    * reverted\n *\n * A special event is used for validating, whether a command can be\n * performed prior to its execution.\n *\n *    * canExecute\n *\n * Each of the events is fired as `commandStack.{eventName}` and\n * `commandStack.{commandName}.{eventName}`, respectively. This gives\n * components fine grained control on where to hook into.\n *\n * The event object fired transports `command`, the name of the\n * command and `context`, the command context.\n *\n *\n * ## Creating Command Handlers\n *\n * Command handlers should provide the {@link CommandHandler#execute(ctx)}\n * and {@link CommandHandler#revert(ctx)} methods to implement\n * redoing and undoing of a command.\n *\n * A command handler _must_ ensure undo is performed properly in order\n * not to break the undo chain. It must also return the shapes that\n * got changed during the `execute` and `revert` operations.\n *\n * Command handlers may execute other modeling operations (and thus\n * commands) in their `preExecute(d)` and `postExecute(d)` phases. The command\n * stack will properly group all commands together into a logical unit\n * that may be re- and undone atomically.\n *\n * Command handlers must not execute other commands from within their\n * core implementation (`execute`, `revert`).\n *\n *\n * ## Change Tracking\n *\n * During the execution of the CommandStack it will keep track of all\n * elements that have been touched during the command's execution.\n *\n * At the end of the CommandStack execution it will notify interested\n * components via an 'elements.changed' event with all the dirty\n * elements.\n *\n * The event can be picked up by components that are interested in the fact\n * that elements have been changed. One use case for this is updating\n * their graphical representation after moving / resizing or deletion.\n *\n * @see CommandHandler\n *\n * @param {EventBus} eventBus\n * @param {Injector} injector\n */\nexport default function CommandStack(eventBus, injector) {\n\n  /**\n   * A map of all registered command handlers.\n   *\n   * @type {CommandHandlerMap}\n   */\n  this._handlerMap = {};\n\n  /**\n   * A stack containing all re/undoable actions on the diagram\n   *\n   * @type {CommandStackAction[]}\n   */\n  this._stack = [];\n\n  /**\n   * The current index on the stack\n   *\n   * @type {number}\n   */\n  this._stackIdx = -1;\n\n  /**\n   * Current active commandStack execution\n   *\n   * @type {CurrentExecution}\n   */\n  this._currentExecution = {\n    actions: [],\n    dirty: [],\n    trigger: null\n  };\n\n  /**\n   * @type {Injector}\n   */\n  this._injector = injector;\n\n  /**\n   * @type EventBus\n   */\n  this._eventBus = eventBus;\n\n  /**\n   * @type { number }\n   */\n  this._uid = 1;\n\n  eventBus.on([\n    'diagram.destroy',\n    'diagram.clear'\n  ], function() {\n    this.clear(false);\n  }, this);\n}\n\nCommandStack.$inject = [ 'eventBus', 'injector' ];\n\n\n/**\n * Execute a command.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n */\nCommandStack.prototype.execute = function(command, context) {\n  if (!command) {\n    throw new Error('command required');\n  }\n\n  this._currentExecution.trigger = 'execute';\n\n  const action = { command: command, context: context };\n\n  this._pushAction(action);\n  this._internalExecute(action);\n  this._popAction();\n};\n\n\n/**\n * Check whether a command can be executed.\n *\n * Implementors may hook into the mechanism on two ways:\n *\n *   * in event listeners:\n *\n *     Users may prevent the execution via an event listener.\n *     It must prevent the default action for `commandStack.(<command>.)canExecute` events.\n *\n *   * in command handlers:\n *\n *     If the method {@link CommandHandler#canExecute} is implemented in a handler\n *     it will be called to figure out whether the execution is allowed.\n *\n * @param {string} command The command to execute.\n * @param {CommandContext} context The context with which to execute the command.\n *\n * @return {boolean} Whether the command can be executed with the given context.\n */\nCommandStack.prototype.canExecute = function(command, context) {\n\n  const action = { command: command, context: context };\n\n  const handler = this._getHandler(command);\n\n  let result = this._fire(command, 'canExecute', action);\n\n  // handler#canExecute will only be called if no listener\n  // decided on a result already\n  if (result === undefined) {\n    if (!handler) {\n      return false;\n    }\n\n    if (handler.canExecute) {\n      result = handler.canExecute(context);\n    }\n  }\n\n  return result;\n};\n\n\n/**\n * Clear the command stack, erasing all undo / redo history.\n *\n * @param {boolean} [emit=true] Whether to fire an event. Defaults to `true`.\n */\nCommandStack.prototype.clear = function(emit) {\n  this._stack.length = 0;\n  this._stackIdx = -1;\n\n  if (emit !== false) {\n    this._fire('changed', { trigger: 'clear' });\n  }\n};\n\n\n/**\n * Undo last command(s)\n */\nCommandStack.prototype.undo = function() {\n  let action = this._getUndoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'undo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalUndo(action);\n      next = this._getUndoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Redo last command(s)\n */\nCommandStack.prototype.redo = function() {\n  let action = this._getRedoAction(),\n      next;\n\n  if (action) {\n    this._currentExecution.trigger = 'redo';\n\n    this._pushAction(action);\n\n    while (action) {\n      this._internalExecute(action, true);\n      next = this._getRedoAction();\n\n      if (!next || next.id !== action.id) {\n        break;\n      }\n\n      action = next;\n    }\n\n    this._popAction();\n  }\n};\n\n\n/**\n * Register a handler instance with the command stack.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandler} handler Handler to execute the command.\n */\nCommandStack.prototype.register = function(command, handler) {\n  this._setHandler(command, handler);\n};\n\n\n/**\n * Register a handler type with the command stack  by instantiating it and\n * injecting its dependencies.\n *\n * @param {string} command Command to be executed.\n * @param {CommandHandlerConstructor} handlerCls Constructor to instantiate a {@link CommandHandler}.\n */\nCommandStack.prototype.registerHandler = function(command, handlerCls) {\n\n  if (!command || !handlerCls) {\n    throw new Error('command and handlerCls must be defined');\n  }\n\n  const handler = this._injector.instantiate(handlerCls);\n  this.register(command, handler);\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canUndo = function() {\n  return !!this._getUndoAction();\n};\n\n/**\n * @return {boolean}\n */\nCommandStack.prototype.canRedo = function() {\n  return !!this._getRedoAction();\n};\n\n// stack access  //////////////////////\n\nCommandStack.prototype._getRedoAction = function() {\n  return this._stack[this._stackIdx + 1];\n};\n\n\nCommandStack.prototype._getUndoAction = function() {\n  return this._stack[this._stackIdx];\n};\n\n\n// internal functionality //////////////////////\n\nCommandStack.prototype._internalUndo = function(action) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n    this._fire(command, 'revert', action);\n\n    if (handler.revert) {\n      this._markDirty(handler.revert(context));\n    }\n\n    this._revertedAction(action);\n\n    this._fire(command, 'reverted', action);\n  });\n};\n\n\nCommandStack.prototype._fire = function(command, qualifier, event) {\n  if (arguments.length < 3) {\n    event = qualifier;\n    qualifier = null;\n  }\n\n  const names = qualifier ? [ command + '.' + qualifier, qualifier ] : [ command ];\n  let result;\n\n  event = this._eventBus.createEvent(event);\n\n  for (const name of names) {\n    result = this._eventBus.fire('commandStack.' + name, event);\n\n    if (event.cancelBubble) {\n      break;\n    }\n  }\n\n  return result;\n};\n\nCommandStack.prototype._createId = function() {\n  return this._uid++;\n};\n\nCommandStack.prototype._atomicDo = function(fn) {\n\n  const execution = this._currentExecution;\n\n  execution.atomic = true;\n\n  try {\n    fn();\n  } finally {\n    execution.atomic = false;\n  }\n};\n\nCommandStack.prototype._internalExecute = function(action, redo) {\n  const command = action.command,\n        context = action.context;\n\n  const handler = this._getHandler(command);\n\n  if (!handler) {\n    throw new Error('no command handler registered for <' + command + '>');\n  }\n\n  this._pushAction(action);\n\n  if (!redo) {\n    this._fire(command, 'preExecute', action);\n\n    if (handler.preExecute) {\n      handler.preExecute(context);\n    }\n\n    this._fire(command, 'preExecuted', action);\n  }\n\n  // guard against illegal nested command stack invocations\n  this._atomicDo(() => {\n\n    this._fire(command, 'execute', action);\n\n    if (handler.execute) {\n\n      // actual execute + mark return results as dirty\n      this._markDirty(handler.execute(context));\n    }\n\n    // log to stack\n    this._executedAction(action, redo);\n\n    this._fire(command, 'executed', action);\n  });\n\n  if (!redo) {\n    this._fire(command, 'postExecute', action);\n\n    if (handler.postExecute) {\n      handler.postExecute(context);\n    }\n\n    this._fire(command, 'postExecuted', action);\n  }\n\n  this._popAction();\n};\n\n\nCommandStack.prototype._pushAction = function(action) {\n\n  const execution = this._currentExecution,\n        actions = execution.actions;\n\n  const baseAction = actions[0];\n\n  if (execution.atomic) {\n    throw new Error('illegal invocation in <execute> or <revert> phase (action: ' + action.command + ')');\n  }\n\n  if (!action.id) {\n    action.id = (baseAction && baseAction.id) || this._createId();\n  }\n\n  actions.push(action);\n};\n\n\nCommandStack.prototype._popAction = function() {\n  const execution = this._currentExecution,\n        trigger = execution.trigger,\n        actions = execution.actions,\n        dirty = execution.dirty;\n\n  actions.pop();\n\n  if (!actions.length) {\n    this._eventBus.fire('elements.changed', { elements: uniqueBy('id', dirty.reverse()) });\n\n    dirty.length = 0;\n\n    this._fire('changed', { trigger: trigger });\n\n    execution.trigger = null;\n  }\n};\n\n\nCommandStack.prototype._markDirty = function(elements) {\n  const execution = this._currentExecution;\n\n  if (!elements) {\n    return;\n  }\n\n  elements = isArray(elements) ? elements : [ elements ];\n\n  execution.dirty = execution.dirty.concat(elements);\n};\n\n\nCommandStack.prototype._executedAction = function(action, redo) {\n  const stackIdx = ++this._stackIdx;\n\n  if (!redo) {\n    this._stack.splice(stackIdx, this._stack.length, action);\n  }\n};\n\n\nCommandStack.prototype._revertedAction = function(action) {\n  this._stackIdx--;\n};\n\n\nCommandStack.prototype._getHandler = function(command) {\n  return this._handlerMap[command];\n};\n\nCommandStack.prototype._setHandler = function(command, handler) {\n  if (!command || !handler) {\n    throw new Error('command and handler required');\n  }\n\n  if (this._handlerMap[command]) {\n    throw new Error('overriding handler for command <' + command + '>');\n  }\n\n  this._handlerMap[command] = handler;\n};\n","import CommandStack from './CommandStack';\n\n/**\n * @type { import('didi').ModuleDeclaration }\n */\nexport default {\n  commandStack: [ 'type', CommandStack ]\n};\n","import { set } from 'min-dash';\nimport { clone } from '../../../util';\n\n/**\n * @deprecated\n */\nexport class UpdateFieldValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n\n  execute(context) {\n    const { field, value, indexes } = context;\n    const { errors } = this._form._getState();\n\n    context.oldErrors = clone(errors);\n\n    const fieldErrors = this._validator.validateField(field, value);\n    const updatedErrors = set(\n      errors,\n      [field.id, ...Object.values(indexes || {})],\n      fieldErrors.length ? fieldErrors : undefined,\n    );\n    this._form._setState({ errors: updatedErrors });\n  }\n\n  revert(context) {\n    this._form._setState({ errors: context.oldErrors });\n  }\n}\n\nUpdateFieldValidationHandler.$inject = ['form', 'validator'];\n","import { set } from 'min-dash';\nimport { clone } from '../../../util';\n\nexport class UpdateFieldInstanceValidationHandler {\n  constructor(form, validator) {\n    this._form = form;\n    this._validator = validator;\n  }\n\n  execute(context) {\n    const { fieldInstance, value } = context;\n    const { id, indexes } = fieldInstance;\n    const { errors } = this._form._getState();\n\n    context.oldErrors = clone(errors);\n\n    const fieldErrors = this._validator.validateFieldInstance(fieldInstance, value);\n    const updatedErrors = set(\n      errors,\n      [id, ...Object.values(indexes || {})],\n      fieldErrors.length ? fieldErrors : undefined,\n    );\n    this._form._setState({ errors: updatedErrors });\n  }\n\n  revert(context) {\n    this._form._setState({ errors: context.oldErrors });\n  }\n}\n\nUpdateFieldInstanceValidationHandler.$inject = ['form', 'validator'];\n","import { UpdateFieldValidationHandler } from './cmd/UpdateFieldValidationHandler';\nimport { UpdateFieldInstanceValidationHandler } from './cmd/UpdateFieldInstanceValidationHandler';\n\nexport class ViewerCommands {\n  constructor(commandStack, eventBus) {\n    this._commandStack = commandStack;\n\n    eventBus.on('form.init', () => {\n      this.registerHandlers();\n    });\n  }\n\n  registerHandlers() {\n    Object.entries(this.getHandlers()).forEach(([id, handler]) => {\n      this._commandStack.registerHandler(id, handler);\n    });\n  }\n\n  getHandlers() {\n    return {\n      'formField.validation.update': UpdateFieldValidationHandler,\n      'formFieldInstance.validation.update': UpdateFieldInstanceValidationHandler,\n    };\n  }\n\n  /**\n   * @deprecated\n   */\n  updateFieldValidation(field, value, indexes) {\n    const context = {\n      field,\n      value,\n      indexes,\n    };\n\n    this._commandStack.execute('formField.validation.update', context);\n  }\n\n  updateFieldInstanceValidation(fieldInstance, value) {\n    const context = {\n      fieldInstance,\n      value,\n    };\n\n    this._commandStack.execute('formFieldInstance.validation.update', context);\n  }\n}\n\nViewerCommands.$inject = ['commandStack', 'eventBus'];\n","import commandModule from 'diagram-js/lib/command';\n\nimport { ViewerCommands } from './ViewerCommands';\n\nexport const ViewerCommandsModule = {\n  __depends__: [commandModule],\n  __init__: ['viewerCommands'],\n  viewerCommands: ['type', ViewerCommands],\n};\n\nexport { ViewerCommands };\n","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M2 9h5.5v3.086l-1.293-1.293-.707.707L8 14l2.5-2.5-.707-.707L8.5 12.086V9H14V8H2v1ZM13 2H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1V3a1 1 0 0 0-1-1Zm0 3H3V3h10v2Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M13 10H3a1 1 0 0 0-1 1v2a1 1 0 0 0 1 1h10a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1Zm0 3H3v-2h10v2ZM8.5 3.914l1.293 1.293.707-.707L8 2 5.5 4.5l.707.707L7.5 3.914V7H2v1h12V7H8.5V3.914Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"M8 2c3.3 0 6 2.7 6 6s-2.7 6-6 6-6-2.7-6-6 2.7-6 6-6Zm0-1C4.15 1 1 4.15 1 8s3.15 7 7 7 7-3.15 7-7-3.15-7-7-7Z\"/><path fill=\"currentColor\" d=\"M12 7.5H8.5V4h-1v3.5H4v1h3.5V12h1V8.5H12v-1Z\"/></svg>","<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"16\" height=\"16\" fill=\"none\"><path fill=\"currentColor\" d=\"m12 4.7-.7-.7L8 7.3 4.7 4l-.7.7L7.3 8 4 11.3l.7.7L8 8.7l3.3 3.3.7-.7L8.7 8 12 4.7Z\"/></svg>","// disable react hook rules as the linter is confusing the functional components within a class as class components\n/* eslint-disable react-hooks/rules-of-hooks */\n\nimport { get } from 'min-dash';\nimport { useContext, useMemo, useRef } from 'preact/hooks';\nimport { LocalExpressionContext } from '../../render/context/LocalExpressionContext';\n\nimport ExpandSvg from '../../render/components/form-fields/icons/Expand.svg';\nimport CollapseSvg from '../../render/components/form-fields/icons/Collapse.svg';\nimport AddSvg from '../../render/components/form-fields/icons/Add.svg';\nimport DeleteSvg from '../../render/components/form-fields/icons/Delete.svg';\n\nimport { buildExpressionContext } from '../../util';\nimport { useScrollIntoView } from '../../render/hooks';\nimport classNames from 'classnames';\n\nexport class RepeatRenderManager {\n  constructor(form, formFields, formFieldRegistry, pathRegistry) {\n    this._form = form;\n    this._formFields = formFields;\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this.Repeater = this.Repeater.bind(this);\n    this.RepeatFooter = this.RepeatFooter.bind(this);\n  }\n\n  /**\n   * Checks whether a field is currently repeating its children.\n   *\n   * @param {string} id - The id of the field to check\n   * @returns {boolean} - True if repeatable, false otherwise\n   */\n  isFieldRepeating(id) {\n    if (!id) {\n      return false;\n    }\n\n    const formField = this._formFieldRegistry.get(id);\n    const formFieldDefinition = this._formFields.get(formField.type);\n    return formFieldDefinition.config.repeatable && formField.isRepeating;\n  }\n\n  Repeater(props) {\n    const { RowsRenderer, indexes, useSharedState, ...restProps } = props;\n\n    const [sharedRepeatState] = useSharedState;\n\n    const { data } = this._form._getState();\n\n    const repeaterField = props.field;\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, { indexes });\n    const values = get(data, dataPath) || [];\n\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showRemove = repeaterField.allowAddRemove && hasChildren;\n\n    const displayValues = isCollapsed ? values.slice(0, nonCollapsedItems) : values;\n\n    const onDeleteItem = (index) => {\n      const updatedValues = values.slice();\n      updatedValues.splice(index, 1);\n\n      props.onChange({\n        field: repeaterField,\n        value: updatedValues,\n        indexes,\n      });\n    };\n\n    const parentExpressionContextInfo = useContext(LocalExpressionContext);\n\n    return (\n      <>\n        {displayValues.map((itemValue, itemIndex) => (\n          <RepetitionScaffold\n            key={itemIndex}\n            itemIndex={itemIndex}\n            itemValue={itemValue}\n            parentExpressionContextInfo={parentExpressionContextInfo}\n            repeaterField={repeaterField}\n            RowsRenderer={RowsRenderer}\n            indexes={indexes}\n            onDeleteItem={onDeleteItem}\n            showRemove={showRemove}\n            {...restProps}\n          />\n        ))}\n      </>\n    );\n  }\n\n  RepeatFooter(props) {\n    const addButtonRef = useRef(null);\n    const { useSharedState, indexes, field: repeaterField, readonly, disabled } = props;\n    const [sharedRepeatState, setSharedRepeatState] = useSharedState;\n\n    const { data } = this._form._getState();\n\n    const dataPath = this._pathRegistry.getValuePath(repeaterField, { indexes });\n    const values = get(data, dataPath) || [];\n\n    const nonCollapsedItems = this._getNonCollapsedItems(repeaterField);\n    const collapseEnabled = !repeaterField.disableCollapse && values.length > nonCollapsedItems;\n    const isCollapsed = collapseEnabled && sharedRepeatState.isCollapsed;\n\n    const hasChildren = repeaterField.components && repeaterField.components.length > 0;\n    const showAdd = repeaterField.allowAddRemove && hasChildren;\n\n    const toggle = () => {\n      setSharedRepeatState((state) => ({ ...state, isCollapsed: !isCollapsed }));\n    };\n\n    const shouldScroll = useRef(false);\n\n    const onAddItem = () => {\n      const updatedValues = values.slice();\n      const newItem = this._form._getInitializedFieldData(this._form._getState().data, {\n        container: repeaterField,\n        indexes: { ...indexes, [repeaterField.id]: updatedValues.length },\n      });\n\n      updatedValues.push(newItem);\n\n      shouldScroll.current = true;\n\n      props.onChange({\n        value: updatedValues,\n      });\n\n      setSharedRepeatState((state) => ({ ...state, isCollapsed: false }));\n    };\n\n    useScrollIntoView(\n      addButtonRef,\n      [values.length],\n      {\n        align: 'bottom',\n        behavior: 'auto',\n        offset: 20,\n      },\n      [shouldScroll],\n    );\n\n    return (\n      <div\n        className={classNames('fjs-repeat-render-footer', {\n          'fjs-remove-allowed': repeaterField.allowAddRemove,\n        })}>\n        {showAdd ? (\n          <button\n            type=\"button\"\n            readOnly={readonly}\n            disabled={disabled || readonly}\n            class=\"fjs-repeat-render-add\"\n            ref={addButtonRef}\n            onClick={onAddItem}>\n            <>\n              <AddSvg /> {'Add new'}\n            </>\n          </button>\n        ) : null}\n        {collapseEnabled ? (\n          <button type=\"button\" class=\"fjs-repeat-render-collapse\" onClick={toggle}>\n            {isCollapsed ? (\n              <>\n                <ExpandSvg /> {`Expand all (${values.length})`}\n              </>\n            ) : (\n              <>\n                <CollapseSvg /> {'Collapse'}\n              </>\n            )}\n          </button>\n        ) : null}\n      </div>\n    );\n  }\n\n  _getNonCollapsedItems(field) {\n    const DEFAULT_NON_COLLAPSED_ITEMS = 5;\n\n    const { nonCollapsedItems } = field;\n\n    return nonCollapsedItems ? nonCollapsedItems : DEFAULT_NON_COLLAPSED_ITEMS;\n  }\n}\n\n/**\n * Individual repetition of a repeated field and context scaffolding.\n *\n * @param {Object} props\n * @param {number} props.itemIndex\n * @param {Object} props.itemValue\n * @param {Object} props.parentExpressionContextInfo\n * @param {Object} props.repeaterField\n * @param {Function} props.RowsRenderer\n * @param {Object} props.indexes\n * @param {Function} props.onDeleteItem\n * @param {boolean} props.showRemove\n */\n\nconst RepetitionScaffold = (props) => {\n  const {\n    itemIndex,\n    itemValue,\n    parentExpressionContextInfo,\n    repeaterField,\n    RowsRenderer,\n    indexes,\n    onDeleteItem,\n    showRemove,\n    ...restProps\n  } = props;\n\n  const elementProps = useMemo(\n    () => ({\n      ...restProps,\n      indexes: { ...(indexes || {}), [repeaterField.id]: itemIndex },\n    }),\n    [itemIndex, indexes, repeaterField.id, restProps],\n  );\n\n  const localExpressionContextInfo = useMemo(\n    () => ({\n      data: parentExpressionContextInfo.data,\n      this: itemValue,\n      parent: buildExpressionContext(parentExpressionContextInfo),\n      i: [...parentExpressionContextInfo.i, itemIndex + 1],\n    }),\n    [itemIndex, parentExpressionContextInfo, itemValue],\n  );\n\n  return !showRemove ? (\n    <LocalExpressionContext.Provider value={localExpressionContextInfo}>\n      <RowsRenderer {...elementProps} />\n    </LocalExpressionContext.Provider>\n  ) : (\n    <div class=\"fjs-repeat-row-container\">\n      <div class=\"fjs-repeat-row-rows\">\n        <LocalExpressionContext.Provider value={localExpressionContextInfo}>\n          <RowsRenderer {...elementProps} />\n        </LocalExpressionContext.Provider>\n      </div>\n      <button\n        type=\"button\"\n        class=\"fjs-repeat-row-remove\"\n        aria-label={`Remove list item ${itemIndex + 1}`}\n        onClick={() => onDeleteItem(itemIndex)}>\n        <div class=\"fjs-repeat-row-remove-icon-container\">\n          <DeleteSvg />\n        </div>\n      </button>\n    </div>\n  );\n};\n\nRepeatRenderManager.$inject = ['form', 'formFields', 'formFieldRegistry', 'pathRegistry'];\n","import { RepeatRenderManager } from './RepeatRenderManager';\n\nexport const RepeatRenderModule = {\n  __init__: ['repeatRenderManager'],\n  repeatRenderManager: ['type', RepeatRenderManager],\n};\n\nexport { RepeatRenderManager };\n","import {\n  isFunction,\n  isArray,\n  isNumber,\n  bind,\n  assign\n} from 'min-dash';\n\nvar FN_REF = '__fn';\n\nvar DEFAULT_PRIORITY = 1000;\n\nvar slice = Array.prototype.slice;\n\n/**\n * @typedef { {\n *   stopPropagation(): void;\n *   preventDefault(): void;\n *   cancelBubble: boolean;\n *   defaultPrevented: boolean;\n *   returnValue: any;\n * } } Event\n */\n\n/**\n * @template E\n *\n * @typedef { (event: E & Event, ...any) => any } EventBusEventCallback\n */\n\n/**\n * @typedef { {\n *  priority: number;\n *  next: EventBusListener | null;\n *  callback: EventBusEventCallback<any>;\n * } } EventBusListener\n */\n\n/**\n * A general purpose event bus.\n *\n * This component is used to communicate across a diagram instance.\n * Other parts of a diagram can use it to listen to and broadcast events.\n *\n *\n * ## Registering for Events\n *\n * The event bus provides the {@link EventBus#on} and {@link EventBus#once}\n * methods to register for events. {@link EventBus#off} can be used to\n * remove event registrations. Listeners receive an instance of {@link Event}\n * as the first argument. It allows them to hook into the event execution.\n *\n * ```javascript\n *\n * // listen for event\n * eventBus.on('foo', function(event) {\n *\n *   // access event type\n *   event.type; // 'foo'\n *\n *   // stop propagation to other listeners\n *   event.stopPropagation();\n *\n *   // prevent event default\n *   event.preventDefault();\n * });\n *\n * // listen for event with custom payload\n * eventBus.on('bar', function(event, payload) {\n *   console.log(payload);\n * });\n *\n * // listen for event returning value\n * eventBus.on('foobar', function(event) {\n *\n *   // stop event propagation + prevent default\n *   return false;\n *\n *   // stop event propagation + return custom result\n *   return {\n *     complex: 'listening result'\n *   };\n * });\n *\n *\n * // listen with custom priority (default=1000, higher is better)\n * eventBus.on('priorityfoo', 1500, function(event) {\n *   console.log('invoked first!');\n * });\n *\n *\n * // listen for event and pass the context (`this`)\n * eventBus.on('foobar', function(event) {\n *   this.foo();\n * }, this);\n * ```\n *\n *\n * ## Emitting Events\n *\n * Events can be emitted via the event bus using {@link EventBus#fire}.\n *\n * ```javascript\n *\n * // false indicates that the default action\n * // was prevented by listeners\n * if (eventBus.fire('foo') === false) {\n *   console.log('default has been prevented!');\n * };\n *\n *\n * // custom args + return value listener\n * eventBus.on('sum', function(event, a, b) {\n *   return a + b;\n * });\n *\n * // you can pass custom arguments + retrieve result values.\n * var sum = eventBus.fire('sum', 1, 2);\n * console.log(sum); // 3\n * ```\n *\n * @template [EventMap=null]\n */\nexport default function EventBus() {\n\n  /**\n   * @type { Record<string, EventBusListener> }\n   */\n  this._listeners = {};\n\n  // cleanup on destroy on lowest priority to allow\n  // message passing until the bitter end\n  this.on('diagram.destroy', 1, this._destroy, this);\n}\n\n/**\n * @overlord\n *\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener for events with the given name.\n *\n * The callback will be invoked with `event, ...additionalArguments`\n * that have been passed to {@link EventBus#fire}.\n *\n * Returning false from a listener will prevent the events default action\n * (if any is specified). To stop an event from being processed further in\n * other listeners execute {@link Event#stopPropagation}.\n *\n * Returning anything but `undefined` from a listener will stop the listener propagation.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.on = function(events, priority, callback, that) {\n\n  events = isArray(events) ? events : [ events ];\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  var actualCallback = callback;\n\n  if (that) {\n    actualCallback = bind(callback, that);\n\n    // make sure we remember and are able to remove\n    // bound callbacks via {@link #off} using the original\n    // callback\n    actualCallback[FN_REF] = callback[FN_REF] || callback;\n  }\n\n  var self = this;\n\n  events.forEach(function(e) {\n    self._addListener(e, {\n      priority: priority,\n      callback: actualCallback,\n      next: null\n    });\n  });\n};\n\n/**\n * @overlord\n *\n * Register an event listener that is called only once.\n *\n * @template T\n *\n * @param {string|string[]} events to subscribe to\n * @param {number} [priority=1000] the listen priority\n * @param {EventBusEventCallback<T>} callback\n * @param {any} [that] callback context\n */\n/**\n * Register an event listener that is called only once.\n *\n * @template {keyof EventMap} EventName\n *\n * @param {EventName} events to subscribe to\n * @param {number} [priority=1000] listen priority\n * @param {EventBusEventCallback<EventMap[EventName]>} callback\n * @param {any} [that] callback context\n */\nEventBus.prototype.once = function(events, priority, callback, that) {\n  var self = this;\n\n  if (isFunction(priority)) {\n    that = callback;\n    callback = priority;\n    priority = DEFAULT_PRIORITY;\n  }\n\n  if (!isNumber(priority)) {\n    throw new Error('priority must be a number');\n  }\n\n  function wrappedCallback() {\n    wrappedCallback.__isTomb = true;\n\n    var result = callback.apply(that, arguments);\n\n    self.off(events, wrappedCallback);\n\n    return result;\n  }\n\n  // make sure we remember and are able to remove\n  // bound callbacks via {@link #off} using the original\n  // callback\n  wrappedCallback[FN_REF] = callback;\n\n  this.on(events, priority, wrappedCallback);\n};\n\n\n/**\n * Removes event listeners by event and callback.\n *\n * If no callback is given, all listeners for a given event name are being removed.\n *\n * @param {string|string[]} events\n * @param {EventBusEventCallback} [callback]\n */\nEventBus.prototype.off = function(events, callback) {\n\n  events = isArray(events) ? events : [ events ];\n\n  var self = this;\n\n  events.forEach(function(event) {\n    self._removeListener(event, callback);\n  });\n\n};\n\n\n/**\n * Create an event recognized be the event bus.\n *\n * @param {Object} data Event data.\n *\n * @return {Event} An event that will be recognized by the event bus.\n */\nEventBus.prototype.createEvent = function(data) {\n  var event = new InternalEvent();\n\n  event.init(data);\n\n  return event;\n};\n\n\n/**\n * Fires an event.\n *\n * @example\n *\n * ```javascript\n * // fire event by name\n * events.fire('foo');\n *\n * // fire event object with nested type\n * var event = { type: 'foo' };\n * events.fire(event);\n *\n * // fire event with explicit type\n * var event = { x: 10, y: 20 };\n * events.fire('element.moved', event);\n *\n * // pass additional arguments to the event\n * events.on('foo', function(event, bar) {\n *   alert(bar);\n * });\n *\n * events.fire({ type: 'foo' }, 'I am bar!');\n * ```\n *\n * @param {string} [type] event type\n * @param {Object} [data] event or event data\n * @param {...any} [args] additional arguments the callback will be called with.\n *\n * @return {any} The return value. Will be set to `false` if the default was prevented.\n */\nEventBus.prototype.fire = function(type, data) {\n  var event,\n      firstListener,\n      returnValue,\n      args;\n\n  args = slice.call(arguments);\n\n  if (typeof type === 'object') {\n    data = type;\n    type = data.type;\n  }\n\n  if (!type) {\n    throw new Error('no event type specified');\n  }\n\n  firstListener = this._listeners[type];\n\n  if (!firstListener) {\n    return;\n  }\n\n  // we make sure we fire instances of our home made\n  // events here. We wrap them only once, though\n  if (data instanceof InternalEvent) {\n\n    // we are fine, we alread have an event\n    event = data;\n  } else {\n    event = this.createEvent(data);\n  }\n\n  // ensure we pass the event as the first parameter\n  args[0] = event;\n\n  // original event type (in case we delegate)\n  var originalType = event.type;\n\n  // update event type before delegation\n  if (type !== originalType) {\n    event.type = type;\n  }\n\n  try {\n    returnValue = this._invokeListeners(event, args, firstListener);\n  } finally {\n\n    // reset event type after delegation\n    if (type !== originalType) {\n      event.type = originalType;\n    }\n  }\n\n  // set the return value to false if the event default\n  // got prevented and no other return value exists\n  if (returnValue === undefined && event.defaultPrevented) {\n    returnValue = false;\n  }\n\n  return returnValue;\n};\n\n/**\n * Handle an error by firing an event.\n *\n * @param {Error} error The error to be handled.\n *\n * @return {boolean} Whether the error was handled.\n */\nEventBus.prototype.handleError = function(error) {\n  return this.fire('error', { error: error }) === false;\n};\n\n\nEventBus.prototype._destroy = function() {\n  this._listeners = {};\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListeners = function(event, args, listener) {\n\n  var returnValue;\n\n  while (listener) {\n\n    // handle stopped propagation\n    if (event.cancelBubble) {\n      break;\n    }\n\n    returnValue = this._invokeListener(event, args, listener);\n\n    listener = listener.next;\n  }\n\n  return returnValue;\n};\n\n/**\n * @param {Event} event\n * @param {any[]} args\n * @param {EventBusListener} listener\n *\n * @return {any}\n */\nEventBus.prototype._invokeListener = function(event, args, listener) {\n\n  var returnValue;\n\n  if (listener.callback.__isTomb) {\n    return returnValue;\n  }\n\n  try {\n\n    // returning false prevents the default action\n    returnValue = invokeFunction(listener.callback, args);\n\n    // stop propagation on return value\n    if (returnValue !== undefined) {\n      event.returnValue = returnValue;\n      event.stopPropagation();\n    }\n\n    // prevent default on return false\n    if (returnValue === false) {\n      event.preventDefault();\n    }\n  } catch (error) {\n    if (!this.handleError(error)) {\n      console.error('unhandled error in event listener', error);\n\n      throw error;\n    }\n  }\n\n  return returnValue;\n};\n\n/**\n * Add new listener with a certain priority to the list\n * of listeners (for the given event).\n *\n * The semantics of listener registration / listener execution are\n * first register, first serve: New listeners will always be inserted\n * after existing listeners with the same priority.\n *\n * Example: Inserting two listeners with priority 1000 and 1300\n *\n *    * before: [ 1500, 1500, 1000, 1000 ]\n *    * after: [ 1500, 1500, (new=1300), 1000, 1000, (new=1000) ]\n *\n * @param {string} event\n * @param {EventBusListener} newListener\n */\nEventBus.prototype._addListener = function(event, newListener) {\n\n  var listener = this._getListeners(event),\n      previousListener;\n\n  // no prior listeners\n  if (!listener) {\n    this._setListeners(event, newListener);\n\n    return;\n  }\n\n  // ensure we order listeners by priority from\n  // 0 (high) to n > 0 (low)\n  while (listener) {\n\n    if (listener.priority < newListener.priority) {\n\n      newListener.next = listener;\n\n      if (previousListener) {\n        previousListener.next = newListener;\n      } else {\n        this._setListeners(event, newListener);\n      }\n\n      return;\n    }\n\n    previousListener = listener;\n    listener = listener.next;\n  }\n\n  // add new listener to back\n  previousListener.next = newListener;\n};\n\n\n/**\n * @param {string} name\n *\n * @return {EventBusListener}\n */\nEventBus.prototype._getListeners = function(name) {\n  return this._listeners[name];\n};\n\n/**\n * @param {string} name\n * @param {EventBusListener} listener\n */\nEventBus.prototype._setListeners = function(name, listener) {\n  this._listeners[name] = listener;\n};\n\nEventBus.prototype._removeListener = function(event, callback) {\n\n  var listener = this._getListeners(event),\n      nextListener,\n      previousListener,\n      listenerCallback;\n\n  if (!callback) {\n\n    // clear listeners\n    this._setListeners(event, null);\n\n    return;\n  }\n\n  while (listener) {\n\n    nextListener = listener.next;\n\n    listenerCallback = listener.callback;\n\n    if (listenerCallback === callback || listenerCallback[FN_REF] === callback) {\n      if (previousListener) {\n        previousListener.next = nextListener;\n      } else {\n\n        // new first listener\n        this._setListeners(event, nextListener);\n      }\n    }\n\n    previousListener = listener;\n    listener = nextListener;\n  }\n};\n\n/**\n * A event that is emitted via the event bus.\n */\nfunction InternalEvent() { }\n\nInternalEvent.prototype.stopPropagation = function() {\n  this.cancelBubble = true;\n};\n\nInternalEvent.prototype.preventDefault = function() {\n  this.defaultPrevented = true;\n};\n\nInternalEvent.prototype.init = function(data) {\n  assign(this, data || {});\n};\n\n\n/**\n * Invoke function. Be fast...\n *\n * @param {Function} fn\n * @param {any[]} args\n *\n * @return {any}\n */\nfunction invokeFunction(fn, args) {\n  return fn.apply(null, args);\n}\n","import { isNil, get, set } from 'min-dash';\nimport { countDecimals } from '../render/components/util/numberFieldUtil';\nimport { runExpressionEvaluation } from '../util/expressions';\nimport Big from 'big.js';\n\nconst EMAIL_PATTERN =\n  /^[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;\nconst PHONE_PATTERN =\n  /(\\+|00)(297|93|244|1264|358|355|376|971|54|374|1684|1268|61|43|994|257|32|229|226|880|359|973|1242|387|590|375|501|1441|591|55|1246|673|975|267|236|1|61|41|56|86|225|237|243|242|682|57|269|238|506|53|5999|61|1345|357|420|49|253|1767|45|1809|1829|1849|213|593|20|291|212|34|372|251|358|679|500|33|298|691|241|44|995|44|233|350|224|590|220|245|240|30|1473|299|502|594|1671|592|852|504|385|509|36|62|44|91|246|353|98|964|354|972|39|1876|44|962|81|76|77|254|996|855|686|1869|82|383|965|856|961|231|218|1758|423|94|266|370|352|371|853|590|212|377|373|261|960|52|692|389|223|356|95|382|976|1670|258|222|1664|596|230|265|60|262|264|687|227|672|234|505|683|31|47|977|674|64|968|92|507|64|51|63|680|675|48|1787|1939|850|351|595|970|689|974|262|40|7|250|966|249|221|65|500|4779|677|232|503|378|252|508|381|211|239|597|421|386|46|268|1721|248|963|1649|235|228|66|992|690|993|670|676|1868|216|90|688|886|255|256|380|598|1|998|3906698|379|1784|58|1284|1340|84|678|681|685|967|27|260|263)(9[976]\\d|8[987530]\\d|6[987]\\d|5[90]\\d|42\\d|3[875]\\d|2[98654321]\\d|9[8543210]|8[6421]|6[6543210]|5[87654321]|4[987654310]|3[9643210]|2[70]|7|1)\\d{4,20}$/;\n\nconst VALIDATE_FEEL_PROPERTIES = ['min', 'max', 'minLength', 'maxLength'];\n\nexport class Validator {\n  constructor(expressionLanguage, conditionChecker, form, formFieldRegistry) {\n    this._expressionLanguage = expressionLanguage;\n    this._conditionChecker = conditionChecker;\n    this._form = form;\n    this._formFieldRegistry = formFieldRegistry;\n  }\n\n  /**\n   * Validate against a field definition, does not support proper expression evaluation.\n   *\n   * @deprecated use validateFieldInstance instead\n   */\n  validateField(field, value) {\n    const { type, validate } = field;\n\n    let errors = [];\n\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n\n    if (!validate) {\n      return errors;\n    }\n\n    const evaluatedValidation = oldEvaluateFEELValues(\n      validate,\n      this._expressionLanguage,\n      this._conditionChecker,\n      this._form,\n    );\n\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n\n    return errors;\n  }\n\n  /**\n   * Validate a field instance.\n   *\n   * @param {Object} fieldInstance\n   * @param {string} value\n   *\n   * @returns {Array<string>}\n   */\n  validateFieldInstance(fieldInstance, value) {\n    const { id, expressionContextInfo } = fieldInstance;\n\n    const field = this._formFieldRegistry.get(id);\n\n    if (!field) {\n      return [];\n    }\n\n    const { type, validate } = field;\n\n    let errors = [];\n\n    if (type === 'number') {\n      errors = [...errors, ...runNumberValidation(field, value)];\n    }\n\n    if (!validate) {\n      return errors;\n    }\n\n    const evaluatedValidation = evaluateFEELValues(validate, this._expressionLanguage, expressionContextInfo);\n\n    errors = [...errors, ...runPresetValidation(field, evaluatedValidation, value)];\n\n    return errors;\n  }\n}\n\nValidator.$inject = ['expressionLanguage', 'conditionChecker', 'form', 'formFieldRegistry'];\n\n// helpers //////////\n\nfunction runNumberValidation(field, value) {\n  const { decimalDigits, increment } = field;\n  const errors = [];\n\n  if (value === 'NaN') {\n    errors.push('Value is not a number.');\n  } else if (value) {\n    if (decimalDigits >= 0 && countDecimals(value) > decimalDigits) {\n      errors.push(\n        'Value is expected to ' +\n          (decimalDigits === 0\n            ? 'be an integer'\n            : `have at most ${decimalDigits} decimal digit${decimalDigits > 1 ? 's' : ''}`) +\n          '.',\n      );\n    }\n\n    if (increment) {\n      const bigValue = Big(value);\n      const bigIncrement = Big(increment);\n\n      const offset = bigValue.mod(bigIncrement);\n\n      if (offset.cmp(0) !== 0) {\n        const previousValue = bigValue.minus(offset);\n        const nextValue = previousValue.plus(bigIncrement);\n\n        errors.push(`Please select a valid value, the two nearest valid values are ${previousValue} and ${nextValue}.`);\n      }\n    }\n  }\n\n  return errors;\n}\n\nfunction runPresetValidation(field, validation, value) {\n  const errors = [];\n\n  if (validation.pattern && value && !new RegExp(validation.pattern).test(value)) {\n    errors.push(`Field must match pattern ${validation.pattern}.`);\n  }\n\n  if (validation.required) {\n    const isUncheckedCheckbox = field.type === 'checkbox' && value === false;\n    const isUnsetValue = isNil(value) || value === '';\n    const isEmptyMultiselect = Array.isArray(value) && value.length === 0;\n\n    if (isUncheckedCheckbox || isUnsetValue || isEmptyMultiselect) {\n      errors.push('Field is required.');\n    }\n  }\n\n  if ('min' in validation && (value || value === 0) && value < validation.min) {\n    errors.push(`Field must have minimum value of ${validation.min}.`);\n  }\n\n  if ('max' in validation && (value || value === 0) && value > validation.max) {\n    errors.push(`Field must have maximum value of ${validation.max}.`);\n  }\n\n  if ('minLength' in validation && value && value.trim().length < validation.minLength) {\n    errors.push(`Field must have minimum length of ${validation.minLength}.`);\n  }\n\n  if ('maxLength' in validation && value && value.trim().length > validation.maxLength) {\n    errors.push(`Field must have maximum length of ${validation.maxLength}.`);\n  }\n\n  if ('validationType' in validation && value && validation.validationType === 'phone' && !PHONE_PATTERN.test(value)) {\n    errors.push('Field must be a valid  international phone number. (e.g. +4930664040900)');\n  }\n\n  if ('validationType' in validation && value && validation.validationType === 'email' && !EMAIL_PATTERN.test(value)) {\n    errors.push('Field must be a valid email.');\n  }\n\n  return errors;\n}\n\nfunction evaluateFEELValues(validate, expressionLanguage, expressionContextInfo) {\n  const evaluatedValidate = { ...validate };\n\n  VALIDATE_FEEL_PROPERTIES.forEach((property) => {\n    const path = property.split('.');\n    const value = get(evaluatedValidate, path);\n    const evaluatedValue = runExpressionEvaluation(expressionLanguage, value, expressionContextInfo);\n    set(evaluatedValidate, path, evaluatedValue === null ? undefined : evaluatedValue);\n  });\n\n  return evaluatedValidate;\n}\n\nfunction oldEvaluateFEELValues(validate, expressionLanguage, conditionChecker, form) {\n  const evaluatedValidate = { ...validate };\n\n  VALIDATE_FEEL_PROPERTIES.forEach((property) => {\n    const path = property.split('.');\n\n    const value = get(evaluatedValidate, path);\n\n    // mirroring FEEL evaluation of our hooks\n    if (!expressionLanguage || !expressionLanguage.isExpression(value)) {\n      return value;\n    }\n\n    const { initialData, data } = form._getState();\n\n    const newData = conditionChecker ? conditionChecker.applyConditions(data, data) : data;\n    const filteredData = { ...initialData, ...newData };\n\n    const evaluatedValue = expressionLanguage.evaluate(value, filteredData);\n\n    // replace validate property with evaluated value\n    if (evaluatedValue) {\n      set(evaluatedValidate, path, evaluatedValue);\n    }\n  });\n\n  return evaluatedValidate;\n}\n","import { clone } from '../util';\n\nexport class Importer {\n  /**\n   * @constructor\n   * @param { import('./FormFieldRegistry').FormFieldRegistry } formFieldRegistry\n   * @param { import('./PathRegistry').PathRegistry } pathRegistry\n   * @param { import('./FieldFactory').FieldFactory } fieldFactory\n   * @param { import('./FormLayouter').FormLayouter } formLayouter\n   */\n  constructor(formFieldRegistry, pathRegistry, fieldFactory, formLayouter) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._fieldFactory = fieldFactory;\n    this._formLayouter = formLayouter;\n  }\n\n  /**\n   * Import schema creating rows, fields, attaching additional\n   * information to each field and adding fields to the\n   * field registry.\n   *\n   * Additional information attached:\n   *\n   *   * `id` (unless present)\n   *   * `_parent`\n   *   * `_path`\n   *\n   * @param {any} schema\n   *\n   * @typedef {{ warnings: Error[], schema: any }} ImportResult\n   * @returns {ImportResult}\n   */\n  importSchema(schema) {\n    // TODO: Add warnings\n    const warnings = [];\n\n    try {\n      this._cleanup();\n      const importedSchema = this.importFormField(clone(schema));\n      this._formLayouter.calculateLayout(clone(importedSchema));\n\n      return {\n        schema: importedSchema,\n        warnings,\n      };\n    } catch (err) {\n      this._cleanup();\n      err.warnings = warnings;\n      throw err;\n    }\n  }\n\n  _cleanup() {\n    this._formLayouter.clear();\n    this._formFieldRegistry.clear();\n    this._pathRegistry.clear();\n  }\n\n  /**\n   * @param {{[x: string]: any}} fieldAttrs\n   * @param {String} [parentId]\n   * @param {number} [index]\n   *\n   * @return {any} field\n   */\n  importFormField(fieldAttrs, parentId, index) {\n    const { components } = fieldAttrs;\n\n    let parent, path;\n\n    if (parentId) {\n      parent = this._formFieldRegistry.get(parentId);\n    }\n\n    // set form field path\n    path = parent ? [...parent._path, 'components', index] : [];\n\n    const field = this._fieldFactory.create(\n      {\n        ...fieldAttrs,\n        _path: path,\n        _parent: parentId,\n      },\n      false,\n    );\n\n    this._formFieldRegistry.add(field);\n\n    if (components) {\n      field.components = this.importFormFields(components, field.id);\n    }\n\n    return field;\n  }\n\n  /**\n   * @param {Array<any>} components\n   * @param {string} parentId\n   *\n   * @return {Array<any>} imported components\n   */\n  importFormFields(components, parentId) {\n    return components.map((component, index) => {\n      return this.importFormField(component, parentId, index);\n    });\n  }\n}\n\nImporter.$inject = ['formFieldRegistry', 'pathRegistry', 'fieldFactory', 'formLayouter'];\n","import { getAncestryList } from '../util';\n\nexport class FieldFactory {\n  /**\n   * @constructor\n   *\n   * @param  formFieldRegistry\n   * @param  formFields\n   */\n  constructor(formFieldRegistry, pathRegistry, formFields) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._pathRegistry = pathRegistry;\n    this._formFields = formFields;\n  }\n\n  create(attrs, applyDefaults = true) {\n    const { id, type, key, path, _parent } = attrs;\n\n    const fieldDefinition = this._formFields.get(type);\n\n    if (!fieldDefinition) {\n      throw new Error(`form field of type <${type}> not supported`);\n    }\n\n    const { config } = fieldDefinition;\n\n    if (!config) {\n      throw new Error(`form field of type <${type}> has no config`);\n    }\n\n    if (id && this._formFieldRegistry._ids.assigned(id)) {\n      throw new Error(`form field with id <${id}> already exists`);\n    }\n\n    // ensure that we can claim the path\n\n    const parent = _parent && this._formFieldRegistry.get(_parent);\n    const parentPath = (parent && this._pathRegistry.getValuePath(parent)) || [];\n    const knownAncestorIds = getAncestryList(_parent, this._formFieldRegistry);\n\n    if (\n      config.keyed &&\n      key &&\n      !this._pathRegistry.canClaimPath([...parentPath, ...key.split('.')], {\n        isClosed: true,\n        knownAncestorIds,\n      })\n    ) {\n      throw new Error(`binding path '${[...parentPath, key].join('.')}' is already claimed`);\n    }\n\n    if (\n      config.pathed &&\n      path &&\n      !this._pathRegistry.canClaimPath([...parentPath, ...path.split('.')], {\n        isRepeatable: config.repeatable,\n        knownAncestorIds,\n      })\n    ) {\n      throw new Error(`binding path '${[...parentPath, ...path.split('.')].join('.')}' is already claimed`);\n    }\n\n    const labelAttrs =\n      applyDefaults && config.label\n        ? {\n            label: config.label,\n          }\n        : {};\n\n    const field = config.create({\n      ...labelAttrs,\n      ...attrs,\n    });\n\n    this._ensureId(field);\n\n    if (config.keyed) {\n      this._ensureKey(field);\n      this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n        isClosed: true,\n        claimerId: field.id,\n        knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry),\n      });\n    }\n\n    if (config.pathed) {\n      if (config.repeatable) {\n        this._enforceDefaultPath(field);\n      }\n\n      if (field.path) {\n        this._pathRegistry.claimPath(this._pathRegistry.getValuePath(field), {\n          isRepeatable: config.repeatable,\n          claimerId: field.id,\n          knownAncestorIds: getAncestryList(_parent, this._formFieldRegistry),\n        });\n      }\n    }\n\n    return field;\n  }\n\n  _ensureId(field) {\n    if (field.id) {\n      this._formFieldRegistry._ids.claim(field.id, field);\n\n      return;\n    }\n\n    let prefix = 'Field';\n\n    if (field.type === 'default') {\n      prefix = 'Form';\n    }\n\n    field.id = this._formFieldRegistry._ids.nextPrefixed(`${prefix}_`, field);\n  }\n\n  _ensureKey(field) {\n    if (!field.key) {\n      field.key = this._getUniqueKeyPath(field);\n    }\n  }\n\n  _enforceDefaultPath(field) {\n    if (!field.path) {\n      field.path = this._getUniqueKeyPath(field);\n    }\n  }\n\n  _getUniqueKeyPath(field) {\n    let random;\n    const parent = this._formFieldRegistry.get(field._parent);\n\n    // ensure key uniqueness at level\n    do {\n      random = Math.random().toString(36).substring(7);\n    } while (parent && parent.components.some((child) => child.key === random));\n\n    return `${field.type}_${random}`;\n  }\n}\n\nFieldFactory.$inject = ['formFieldRegistry', 'pathRegistry', 'formFields'];\n","import { isArray } from 'min-dash';\nimport { clone, getAncestryList } from '../util';\n\n/**\n * The PathRegistry class manages a hierarchical structure of paths associated with form fields.\n * It enables claiming, unclaiming, and validating paths within this structure.\n *\n * Example Tree Structure:\n *\n *   [\n *     {\n *       segment: 'root',\n *       claimCount: 1,\n *       children: [\n *         {\n *           segment: 'child1',\n *           claimCount: 2,\n *           children: null  // A leaf node (closed path)\n *         },\n *         {\n *           segment: 'child2',\n *           claimCount: 1,\n *           children: [\n *             {\n *               segment: 'subChild1',\n *               claimCount: 1,\n *               children: []  // An open node (open path)\n *             }\n *           ]\n *         }\n *       ]\n *     }\n *   ]\n */\nexport class PathRegistry {\n  constructor(formFieldRegistry, formFields, injector) {\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n    this._injector = injector;\n    this._dataPaths = [];\n  }\n\n  canClaimPath(path, options = {}) {\n    const {\n      isClosed = false,\n      isRepeatable = false,\n      skipAncestryCheck = false,\n      claimerId = null,\n      knownAncestorIds = [],\n    } = options;\n\n    let node = { children: this._dataPaths };\n\n    // (1) if we reach a leaf node, we cannot claim it, if we reach an open node, we can\n    // if we reach a repeatable node, we need to ensure that the claimer is (or will be) an ancestor of the repeater\n    for (const segment of path) {\n      node = _getNextSegment(node, segment);\n\n      if (!node) {\n        return true;\n      }\n\n      if (node.isRepeatable && !skipAncestryCheck) {\n        if (!(claimerId || knownAncestorIds.length)) {\n          throw new Error(\n            'cannot claim a path that contains a repeater without specifying a claimerId or knownAncestorIds',\n          );\n        }\n\n        const isValidRepeatClaim =\n          knownAncestorIds.includes(node.repeaterId) ||\n          (claimerId && getAncestryList(claimerId, this._formFieldRegistry).includes(node.repeaterId));\n\n        if (!isValidRepeatClaim) {\n          return false;\n        }\n      }\n\n      if (node.children === null) {\n        return false;\n      }\n    }\n\n    // (2) if the path lands in the middle of the tree, we can only claim an open, non-repeatable path\n    return !(isClosed || isRepeatable);\n  }\n\n  claimPath(path, options = {}) {\n    const { isClosed = false, isRepeatable = false, claimerId = null, knownAncestorIds = [] } = options;\n\n    if (!this.canClaimPath(path, { isClosed, isRepeatable, claimerId, knownAncestorIds })) {\n      throw new Error(`cannot claim path '${path.join('.')}'`);\n    }\n\n    let node = { children: this._dataPaths };\n\n    for (const segment of path) {\n      let child = _getNextSegment(node, segment);\n\n      if (!child) {\n        child = { segment, claimCount: 1, children: [] };\n        node.children.push(child);\n      } else {\n        child.claimCount++;\n      }\n\n      node = child;\n    }\n\n    if (isClosed) {\n      node.children = null;\n    }\n\n    // add some additional info when we make a repeatable path claim\n    if (isRepeatable) {\n      node.isRepeatable = true;\n      node.repeaterId = claimerId;\n    }\n  }\n\n  unclaimPath(path) {\n    // verification Pass\n    let node = { children: this._dataPaths };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n      if (!child) {\n        throw new Error(`no open path found for '${path.join('.')}'`);\n      }\n      node = child;\n    }\n\n    // mutation Pass\n    node = { children: this._dataPaths };\n    for (const segment of path) {\n      const child = _getNextSegment(node, segment);\n\n      child.claimCount--;\n\n      if (child.claimCount === 0) {\n        node.children.splice(node.children.indexOf(child), 1);\n        break; // Abort early if claimCount reaches zero\n      }\n\n      node = child;\n    }\n  }\n\n  /**\n   * Applies a function (fn) recursively on a given field and its children.\n   *\n   * - `field`: Starting field object.\n   * - `fn`: Function to apply.\n   * - `context`: Optional object for passing data between calls.\n   *\n   * Stops early if `fn` returns `false`. Useful for traversing the form field tree.\n   *\n   * @returns {boolean} Success status based on function execution.\n   */\n  executeRecursivelyOnFields(field, fn, context = {}) {\n    let result = true;\n\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    if (formFieldConfig.keyed) {\n      const callResult = fn({ field, isClosed: true, isRepeatable: false, context });\n      return result && callResult;\n    } else if (formFieldConfig.pathed) {\n      const callResult = fn({ field, isClosed: false, isRepeatable: formFieldConfig.repeatable, context });\n      result = result && callResult;\n    }\n\n    // stop executing if false is specifically returned or if preventing recursion\n    if (result === false || context.preventRecursion) {\n      return result;\n    }\n\n    if (Array.isArray(field.components)) {\n      for (const child of field.components) {\n        const callResult = this.executeRecursivelyOnFields(child, fn, clone(context));\n        result = result && callResult;\n\n        // stop executing if false is specifically returned\n        if (result === false) {\n          return result;\n        }\n      }\n    }\n\n    return result;\n  }\n\n  /**\n   * Generates an array representing the binding path to an underlying data object for a form field.\n   *\n   * @param {Object} field - The field object with properties: `key`, `path`, `id`, and optionally `_parent`.\n   * @param {Object} [options={}] - Configuration options.\n   * @param {Object} [options.replacements={}] - A map of field IDs to alternative path arrays.\n   * @param {Object} [options.indexes=null] - A map of parent IDs to the index of the field within said parent, leave null to get an unindexed path.\n   * @param {Object} [options.cutoffNode] - The ID of the parent field at which to stop generating the path.\n   *\n   * @returns {(Array<string>|undefined)} An array of strings representing the binding path, or undefined if not determinable.\n   */\n  getValuePath(field, options = {}) {\n    const { replacements = {}, indexes = null, cutoffNode = null } = options;\n\n    let localValuePath = [];\n\n    const hasReplacement = Object.prototype.hasOwnProperty.call(replacements, field.id);\n    const formFieldConfig = this._formFields.get(field.type).config;\n\n    // uses path overrides instead of true path to calculate a potential value path\n    if (hasReplacement) {\n      const replacement = replacements[field.id];\n\n      if (replacement === null || replacement === undefined || replacement === '') {\n        localValuePath = [];\n      } else if (typeof replacement === 'string') {\n        localValuePath = replacement.split('.');\n      } else if (Array.isArray(replacement)) {\n        localValuePath = replacement;\n      } else {\n        throw new Error(`replacements for field ${field.id} must be a string, array or null/undefined`);\n      }\n    } else if (formFieldConfig.keyed) {\n      localValuePath = field.key.split('.');\n    } else if (formFieldConfig.pathed && field.path) {\n      localValuePath = field.path.split('.');\n    }\n\n    // add potential indexes of repeated fields\n    if (indexes) {\n      localValuePath = this._addIndexes(localValuePath, field, indexes);\n    }\n\n    // if parent exists and isn't cutoff node, add parent's value path\n    if (field._parent && field._parent !== cutoffNode) {\n      const parent = this._formFieldRegistry.get(field._parent);\n      return [...(this.getValuePath(parent, options) || []), ...localValuePath];\n    }\n\n    return localValuePath;\n  }\n\n  clear() {\n    this._dataPaths = [];\n  }\n\n  _addIndexes(localValuePath, field, indexes) {\n    const repeatRenderManager = this._injector.get('repeatRenderManager', false);\n\n    if (repeatRenderManager && repeatRenderManager.isFieldRepeating(field._parent)) {\n      return [indexes[field._parent], ...localValuePath];\n    }\n\n    return localValuePath;\n  }\n}\n\nconst _getNextSegment = (node, segment) => {\n  if (isArray(node.children)) {\n    return node.children.find((node) => node.segment === segment) || null;\n  }\n  return null;\n};\n\nPathRegistry.$inject = ['formFieldRegistry', 'formFields', 'injector'];\n","import Ids from 'ids';\n\nimport { groupBy } from 'min-dash';\n\n/**\n * @typedef { { id: String, components: Array<String> } } FormRow\n * @typedef { { formFieldId: String, rows: Array<FormRow> } } FormRows\n */\n\n/**\n * Maintains the Form layout in a given structure, for example\n *\n *  [\n *    {\n *      formFieldId: 'FormField_1',\n *      rows: [\n *        { id: 'Row_1', components: [ 'Text_1', 'Textdield_1', ... ]  }\n *      ]\n *    }\n *  ]\n *\n */\nexport class FormLayouter {\n  constructor(eventBus) {\n    /** @type Array<FormRows>  */\n    this._rows = [];\n    this._ids = new Ids([32, 36, 1]);\n\n    this._eventBus = eventBus;\n  }\n\n  /**\n   * @param {FormRow} row\n   */\n  addRow(formFieldId, row) {\n    let rowsPerComponent = this._rows.find((r) => r.formFieldId === formFieldId);\n\n    if (!rowsPerComponent) {\n      rowsPerComponent = {\n        formFieldId,\n        rows: [],\n      };\n\n      this._rows.push(rowsPerComponent);\n    }\n\n    rowsPerComponent.rows.push(row);\n  }\n\n  /**\n   * @param {String} id\n   * @returns {FormRow}\n   */\n  getRow(id) {\n    const rows = allRows(this._rows);\n    return rows.find((r) => r.id === id);\n  }\n\n  /**\n   * @param {any} formField\n   * @returns {FormRow}\n   */\n  getRowForField(formField) {\n    return allRows(this._rows).find((r) => {\n      const { components } = r;\n\n      return components.includes(formField.id);\n    });\n  }\n\n  /**\n   * @param {String} formFieldId\n   * @returns { Array<FormRow> }\n   */\n  getRows(formFieldId) {\n    const rowsForField = this._rows.find((r) => formFieldId === r.formFieldId);\n\n    if (!rowsForField) {\n      return [];\n    }\n\n    return rowsForField.rows;\n  }\n\n  /**\n   * @returns {string}\n   */\n  nextRowId() {\n    return this._ids.nextPrefixed('Row_');\n  }\n\n  /**\n   * @param {any} formField\n   */\n  calculateLayout(formField) {\n    const { type, components } = formField;\n\n    if (!['default', 'group', 'dynamiclist'].includes(type) || !components) {\n      return;\n    }\n\n    // (1) calculate rows order (by component order)\n    const rowsInOrder = groupByRow(components, this._ids);\n\n    Object.entries(rowsInOrder).forEach(([id, components]) => {\n      // (2) add fields to rows\n      this.addRow(formField.id, {\n        id: id,\n        components: components.map((c) => c.id),\n      });\n    });\n\n    // (3) traverse through nested components\n    components.forEach((field) => this.calculateLayout(field));\n\n    // (4) fire event to notify interested parties\n    this._eventBus.fire('form.layoutCalculated', { rows: this._rows });\n  }\n\n  clear() {\n    this._rows = [];\n    this._ids.clear();\n\n    // fire event to notify interested parties\n    this._eventBus.fire('form.layoutCleared');\n  }\n}\n\nFormLayouter.$inject = ['eventBus'];\n\n// helpers //////\n\nfunction groupByRow(components, ids) {\n  return groupBy(components, (c) => {\n    // mitigate missing row by creating new (handle legacy)\n    const { layout } = c;\n\n    if (!layout || !layout.row) {\n      return ids.nextPrefixed('Row_');\n    }\n\n    return layout.row;\n  });\n}\n\n/**\n * @param {Array<FormRows>} formRows\n * @returns {Array<FormRow>}\n */\nfunction allRows(formRows) {\n  return formRows.map((r) => r.rows).flat();\n}\n","import Ids from 'ids';\n\nexport class FormFieldRegistry {\n  constructor(eventBus) {\n    this._eventBus = eventBus;\n\n    this._formFields = {};\n\n    eventBus.on('form.clear', () => this.clear());\n\n    this._ids = new Ids([32, 36, 1]);\n  }\n\n  add(formField) {\n    const { id } = formField;\n\n    if (this._formFields[id]) {\n      throw new Error(`form field with ID ${id} already exists`);\n    }\n\n    this._eventBus.fire('formField.add', { formField });\n\n    this._formFields[id] = formField;\n  }\n\n  remove(formField) {\n    const { id } = formField;\n\n    if (!this._formFields[id]) {\n      return;\n    }\n\n    this._eventBus.fire('formField.remove', { formField });\n\n    delete this._formFields[id];\n  }\n\n  get(id) {\n    return this._formFields[id];\n  }\n\n  getAll() {\n    return Object.values(this._formFields);\n  }\n\n  getForm() {\n    return this.getAll().find((formField) => formField.type === 'default');\n  }\n\n  forEach(callback) {\n    this.getAll().forEach((formField) => callback(formField));\n  }\n\n  clear() {\n    this._formFields = {};\n\n    this._ids.clear();\n  }\n}\n\nFormFieldRegistry.$inject = ['eventBus'];\n","export class FormFieldInstanceRegistry {\n  constructor(eventBus, formFieldRegistry, formFields) {\n    this._eventBus = eventBus;\n    this._formFieldRegistry = formFieldRegistry;\n    this._formFields = formFields;\n\n    this._formFieldInstances = {};\n\n    eventBus.on('form.clear', () => this.clear());\n  }\n\n  add(instance) {\n    const { id, expressionContextInfo, valuePath, indexes } = instance;\n\n    const instanceId = [id, ...Object.values(indexes || {})].join('_');\n\n    if (this._formFieldInstances[instanceId]) {\n      throw new Error('this form field instance is already registered');\n    }\n\n    this._formFieldInstances[instanceId] = {\n      id,\n      instanceId,\n      expressionContextInfo,\n      valuePath,\n      indexes,\n    };\n\n    this._eventBus.fire('formFieldInstanceRegistry.changed', { instanceId, action: 'added' });\n\n    return instanceId;\n  }\n\n  remove(instanceId) {\n    if (!this._formFieldInstances[instanceId]) {\n      return;\n    }\n\n    delete this._formFieldInstances[instanceId];\n\n    this._eventBus.fire('formFieldInstanceRegistry.changed', { instanceId, action: 'removed' });\n  }\n\n  getAll() {\n    return Object.values(this._formFieldInstances);\n  }\n\n  getAllKeyed() {\n    return this.getAll().filter(({ id }) => {\n      const formFieldDefinition = this._formFieldRegistry.get(id);\n\n      if (!formFieldDefinition) {\n        return false;\n      }\n\n      const { type } = formFieldDefinition;\n      const { config } = this._formFields.get(type);\n\n      return config.keyed;\n    });\n  }\n\n  clear() {\n    this._formFieldInstances = {};\n  }\n}\n\nFormFieldInstanceRegistry.$inject = ['eventBus', 'formFieldRegistry', 'formFields'];\n","import { render } from 'preact';\nimport { useCallback, useState } from 'preact/hooks';\n\nimport { FormComponent } from './components/FormComponent';\nimport { FormContext } from './context';\n\n/**\n * @typedef { { container } } Config\n * @typedef { import('didi').Injector } Injector\n * @typedef { import('../core/EventBus').EventBus } EventBus\n * @typedef { import('../Form').Form } Form\n */\n\n/**\n * @param {Config} config\n * @param {EventBus} eventBus\n * @param {Form} form\n * @param {Injector} injector\n */\nexport function Renderer(config, eventBus, form, injector) {\n  const App = () => {\n    const [state, setState] = useState(form._getState());\n\n    const formContext = {\n      getService(type, strict = true) {\n        return injector.get(type, strict);\n      },\n      formId: form._id,\n    };\n\n    eventBus.on('changed', (newState) => {\n      setState(newState);\n    });\n\n    const onChange = useCallback((update) => form._update(update), []);\n\n    const { properties } = state;\n\n    const { readOnly } = properties;\n\n    const onSubmit = useCallback(() => {\n      if (!readOnly) {\n        form.submit();\n      }\n    }, [readOnly]);\n\n    const onReset = useCallback(() => form.reset(), []);\n\n    const { schema } = state;\n\n    if (!schema) {\n      return null;\n    }\n\n    return (\n      <FormContext.Provider value={formContext}>\n        <FormComponent onChange={onChange} onSubmit={onSubmit} onReset={onReset} />\n      </FormContext.Provider>\n    );\n  };\n\n  const { container } = config;\n\n  eventBus.on('form.init', () => {\n    render(<App />, container);\n  });\n\n  eventBus.on('form.destroy', () => {\n    render(null, container);\n  });\n}\n\nRenderer.$inject = ['config.renderer', 'eventBus', 'form', 'injector'];\n","import { FormFields } from './FormFields';\nimport { Renderer } from './Renderer';\n\nexport { FormFields };\n\nexport * from './components';\nexport * from './context';\nexport { useExpressionEvaluation, useSingleLineTemplateEvaluation, useTemplateEvaluation } from './hooks';\n\nexport const RenderModule = {\n  __init__: ['formFields', 'renderer'],\n  formFields: ['type', FormFields],\n  renderer: ['type', Renderer],\n};\n","import { EventBus } from './EventBus';\nimport { Validator } from './Validator';\nimport { Importer } from './Importer';\nimport { FieldFactory } from './FieldFactory';\nimport { PathRegistry } from './PathRegistry';\nimport { FormLayouter } from './FormLayouter';\nimport { FormFieldRegistry } from './FormFieldRegistry';\nimport { FormFieldInstanceRegistry } from './FormFieldInstanceRegistry';\n\nimport { RenderModule } from '../render';\n\nexport { Importer, FieldFactory, FormFieldRegistry, PathRegistry, FormLayouter };\n\nexport const CoreModule = {\n  __depends__: [RenderModule],\n  eventBus: ['type', EventBus],\n  importer: ['type', Importer],\n  fieldFactory: ['type', FieldFactory],\n  formFieldRegistry: ['type', FormFieldRegistry],\n  formFieldInstanceRegistry: ['type', FormFieldInstanceRegistry],\n  pathRegistry: ['type', PathRegistry],\n  formLayouter: ['type', FormLayouter],\n  validator: ['type', Validator],\n};\n","import Ids from 'ids';\nimport { get, isObject, isString, isUndefined, set } from 'min-dash';\n\nimport {\n  ExpressionLanguageModule,\n  ExpressionFieldModule,\n  MarkdownRendererModule,\n  ViewerCommandsModule,\n  RepeatRenderModule,\n} from './features';\n\nimport { CoreModule } from './core';\n\nimport { clone, createFormContainer, createInjector } from './util';\n\n/**\n * @typedef { import('./types').Injector } Injector\n * @typedef { import('./types').Data } Data\n * @typedef { import('./types').Errors } Errors\n * @typedef { import('./types').Schema } Schema\n * @typedef { import('./types').FormProperties } FormProperties\n * @typedef { import('./types').FormProperty } FormProperty\n * @typedef { import('./types').FormEvent } FormEvent\n * @typedef { import('./types').FormOptions } FormOptions\n *\n * @typedef { {\n *   data: Data,\n *   initialData: Data,\n *   errors: Errors,\n *   properties: FormProperties,\n *   schema: Schema\n * } } State\n *\n * @typedef { (type:FormEvent, priority:number, handler:Function) => void } OnEventWithPriority\n * @typedef { (type:FormEvent, handler:Function) => void } OnEventWithOutPriority\n * @typedef { OnEventWithPriority & OnEventWithOutPriority } OnEventType\n */\n\nconst ids = new Ids([32, 36, 1]);\n\n/**\n * The form.\n */\nexport class Form {\n  /**\n   * @constructor\n   * @param {FormOptions} options\n   */\n  constructor(options = {}) {\n    /**\n     * @public\n     * @type {OnEventType}\n     */\n    this.on = this._onEvent;\n\n    /**\n     * @public\n     * @type {String}\n     */\n    this._id = ids.next();\n\n    /**\n     * @private\n     * @type {Element}\n     */\n    this._container = createFormContainer();\n\n    const { container, injector = this._createInjector(options, this._container), properties = {} } = options;\n\n    /**\n     * @private\n     * @type {State}\n     */\n    this._state = {\n      initialData: null,\n      data: null,\n      properties,\n      errors: {},\n      schema: null,\n    };\n\n    this.get = injector.get;\n\n    this.invoke = injector.invoke;\n\n    this.get('eventBus').fire('form.init');\n\n    if (container) {\n      this.attachTo(container);\n    }\n  }\n\n  clear() {\n    // clear diagram services (e.g. EventBus)\n    this._emit('diagram.clear');\n\n    // clear form services\n    this._emit('form.clear');\n  }\n\n  /**\n   * Destroy the form, removing it from DOM,\n   * if attached.\n   */\n  destroy() {\n    // destroy form services\n    this.get('eventBus').fire('form.destroy');\n\n    // destroy diagram services (e.g. EventBus)\n    this.get('eventBus').fire('diagram.destroy');\n\n    this._detach(false);\n  }\n\n  /**\n   * Open a form schema with the given initial data.\n   *\n   * @param {Schema} schema\n   * @param {Data} [data]\n   *\n   * @return Promise<{ warnings: Array<any> }>\n   */\n  importSchema(schema, data = {}) {\n    return new Promise((resolve, reject) => {\n      try {\n        this.clear();\n\n        const { schema: importedSchema, warnings } = this.get('importer').importSchema(schema);\n\n        const initializedData = this._getInitializedFieldData(clone(data));\n\n        this._setState({\n          data: initializedData,\n          errors: {},\n          schema: importedSchema,\n          initialData: clone(initializedData),\n        });\n\n        this._emit('import.done', { warnings });\n\n        return resolve({ warnings });\n      } catch (error) {\n        this._emit('import.done', {\n          error,\n          warnings: error.warnings || [],\n        });\n\n        return reject(error);\n      }\n    });\n  }\n\n  /**\n   * Submit the form, triggering all field validations.\n   *\n   * @returns { { data: Data, errors: Errors } }\n   */\n  submit() {\n    const { properties } = this._getState();\n\n    if (properties.readOnly || properties.disabled) {\n      throw new Error('form is read-only');\n    }\n\n    this._emit('presubmit');\n\n    const data = this._getSubmitData();\n\n    const errors = this.validate();\n\n    const result = {\n      data,\n      errors,\n    };\n\n    this._emit('submit', result);\n\n    return result;\n  }\n\n  reset() {\n    this._emit('reset');\n\n    this._setState({\n      data: clone(this._state.initialData),\n      errors: {},\n    });\n  }\n\n  /**\n   * @returns {Errors}\n   */\n  validate() {\n    const formFieldRegistry = this.get('formFieldRegistry'),\n      formFieldInstanceRegistry = this.get('formFieldInstanceRegistry'),\n      validator = this.get('validator');\n\n    const { data } = this._getState();\n    const errors = {};\n\n    const getErrorPath = (id, indexes) => [id, ...Object.values(indexes || {})];\n\n    formFieldInstanceRegistry.getAllKeyed().forEach((fieldInstance) => {\n      const { id, valuePath, indexes } = fieldInstance;\n\n      const field = formFieldRegistry.get(id);\n\n      // (1) Skip disabled fields\n      if (field.disabled) {\n        return;\n      }\n\n      // (2) Validate the field instance\n      const value = get(data, valuePath);\n      const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n\n      if (fieldErrors.length) {\n        set(errors, getErrorPath(field.id, indexes), fieldErrors);\n      }\n    });\n\n    this._setState({ errors });\n\n    // @ts-ignore\n    return errors;\n  }\n\n  /**\n   * @param {Element|string} parentNode\n   */\n  attachTo(parentNode) {\n    if (!parentNode) {\n      throw new Error('parentNode required');\n    }\n\n    this.detach();\n\n    if (isString(parentNode)) {\n      parentNode = document.querySelector(parentNode);\n    }\n\n    const container = this._container;\n\n    parentNode.appendChild(container);\n\n    this._emit('attach');\n  }\n\n  detach() {\n    this._detach();\n  }\n\n  /**\n   * @private\n   *\n   * @param {boolean} [emit]\n   */\n  _detach(emit = true) {\n    const container = this._container,\n      parentNode = container.parentNode;\n\n    if (!parentNode) {\n      return;\n    }\n\n    if (emit) {\n      this._emit('detach');\n    }\n\n    parentNode.removeChild(container);\n  }\n\n  /**\n   * @param {FormProperty} property\n   * @param {any} value\n   */\n  setProperty(property, value) {\n    const properties = set(this._getState().properties, [property], value);\n\n    this._setState({ properties });\n  }\n\n  /**\n   * @param {FormEvent} type\n   * @param {Function} handler\n   */\n  off(type, handler) {\n    this.get('eventBus').off(type, handler);\n  }\n\n  /**\n   * @private\n   *\n   * @param {FormOptions} options\n   * @param {Element} container\n   *\n   * @returns {Injector}\n   */\n  _createInjector(options, container) {\n    const { modules = this._getModules(), additionalModules = [], ...config } = options;\n\n    const enrichedConfig = {\n      ...config,\n      renderer: {\n        container,\n      },\n    };\n\n    return createInjector([\n      { config: ['value', enrichedConfig] },\n      { form: ['value', this] },\n      CoreModule,\n      ...modules,\n      ...additionalModules,\n    ]);\n  }\n\n  /**\n   * @private\n   */\n  _emit(type, data) {\n    this.get('eventBus').fire(type, data);\n  }\n\n  /**\n   * @internal\n   *\n   * @param { { fieldInstance: any, value: any } } update\n   */\n  _update(update) {\n    const { fieldInstance, value } = update;\n\n    const { id, valuePath, indexes } = fieldInstance;\n\n    const { data, errors } = this._getState();\n\n    const validator = this.get('validator');\n\n    const fieldErrors = validator.validateFieldInstance(fieldInstance, value);\n\n    set(data, valuePath, value);\n\n    set(errors, [id, ...Object.values(indexes || {})], fieldErrors.length ? fieldErrors : undefined);\n\n    this._emit('field.updated', update);\n\n    this._setState({\n      data: clone(data),\n      errors: clone(errors),\n    });\n  }\n\n  /**\n   * @internal\n   */\n  _getState() {\n    return this._state;\n  }\n\n  /**\n   * @internal\n   */\n  _setState(state) {\n    this._state = {\n      ...this._state,\n      ...state,\n    };\n\n    this._emit('changed', this._getState());\n  }\n\n  /**\n   * @internal\n   */\n  _getModules() {\n    return [\n      ExpressionLanguageModule,\n      ExpressionFieldModule,\n      MarkdownRendererModule,\n      ViewerCommandsModule,\n      RepeatRenderModule,\n    ];\n  }\n\n  /**\n   * @internal\n   */\n  _onEvent(type, priority, handler) {\n    this.get('eventBus').on(type, priority, handler);\n  }\n\n  /**\n   * @internal\n   */\n  _getSubmitData() {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFieldInstanceRegistry = this.get('formFieldInstanceRegistry');\n    const formData = this._getState().data;\n\n    const submitData = {};\n\n    formFieldInstanceRegistry.getAllKeyed().forEach((formFieldInstance) => {\n      const { id, valuePath } = formFieldInstance;\n      const { disabled } = formFieldRegistry.get(id);\n\n      if (disabled) {\n        return;\n      }\n\n      const value = get(formData, valuePath);\n      set(submitData, valuePath, value);\n    });\n\n    return submitData;\n  }\n\n  /**\n   * @internal\n   */\n  _getInitializedFieldData(data, options = {}) {\n    const formFieldRegistry = this.get('formFieldRegistry');\n    const formFields = this.get('formFields');\n    const pathRegistry = this.get('pathRegistry');\n\n    function initializeFieldDataRecursively(initializedData, formField, indexes) {\n      const { defaultValue, type, isRepeating } = formField;\n      const { config: fieldConfig } = formFields.get(type);\n\n      const valuePath = pathRegistry.getValuePath(formField, { indexes });\n      let valueData = get(data, valuePath);\n\n      // (1) Process keyed fields\n      if (fieldConfig.keyed) {\n        // (a) Retrieve and sanitize data from input\n        if (!isUndefined(valueData) && fieldConfig.sanitizeValue) {\n          valueData = fieldConfig.sanitizeValue({ formField, data, value: valueData });\n        }\n\n        // (b) Initialize field value in output data\n        const initializedFieldValue = !isUndefined(valueData)\n          ? valueData\n          : !isUndefined(defaultValue)\n            ? defaultValue\n            : fieldConfig.emptyValue;\n        set(initializedData, valuePath, initializedFieldValue);\n      }\n\n      // (2) Process parents\n      if (!Array.isArray(formField.components)) {\n        return;\n      }\n\n      if (fieldConfig.repeatable && isRepeating) {\n        // (a) Sanitize repeatable parents data if it is not an array\n        if (!valueData || !Array.isArray(valueData)) {\n          valueData =\n            new Array(isUndefined(formField.defaultRepetitions) ? 1 : formField.defaultRepetitions)\n              .fill()\n              .map((_) => ({})) || [];\n        }\n\n        // (b) Ensure all elements of the array are objects\n        valueData = valueData.map((val) => (isObject(val) ? val : {}));\n\n        // (c) Initialize field value in output data\n        set(initializedData, valuePath, valueData);\n\n        // (d) If indexed ahead of time, recurse repeatable simply across the children\n        if (!isUndefined(indexes[formField.id])) {\n          formField.components.forEach((component) =>\n            initializeFieldDataRecursively(initializedData, component, { ...indexes }),\n          );\n\n          return;\n        }\n\n        // (e1) Recurse repeatable parents both across the indexes of repetition and the children\n        valueData.forEach((_, index) => {\n          formField.components.forEach((component) =>\n            initializeFieldDataRecursively(initializedData, component, { ...indexes, [formField.id]: index }),\n          );\n        });\n\n        return;\n      }\n\n      // (e2) Recurse non-repeatable parents only across the children\n      formField.components.forEach((component) => initializeFieldDataRecursively(initializedData, component, indexes));\n    }\n\n    // allows definition of a specific subfield to generate the data for\n    const container = options.container || formFieldRegistry.getForm();\n    const indexes = options.indexes || {};\n    const basePath = pathRegistry.getValuePath(container, { indexes }) || [];\n\n    // if indexing ahead of time, we must add this index to the data path at the end\n    const path = !isUndefined(indexes[container.id]) ? [...basePath, indexes[container.id]] : basePath;\n\n    const workingData = clone(data);\n    initializeFieldDataRecursively(workingData, container, indexes);\n    return get(workingData, path, {});\n  }\n}\n","import { Form } from './Form';\n\nexport { FormFieldRegistry, FormLayouter, Importer, FieldFactory, PathRegistry } from './core';\nexport * from './render';\nexport * from './util';\nexport * from './features';\n\nconst schemaVersion = 16;\n\nexport { Form, schemaVersion };\n\n/**\n * @typedef { import('./types').CreateFormOptions } CreateFormOptions\n */\n\n/**\n * Create a form.\n *\n * @param {CreateFormOptions} options\n *\n * @return {Promise<Form>}\n */\nexport function createForm(options) {\n  const { data, schema, ...formOptions } = options;\n\n  const form = new Form(formOptions);\n\n  return form.importSchema(schema, data).then(function () {\n    return form;\n  });\n}\n"],"names":["getFlavouredFeelVariableNames","feelString","feelFlavour","options","depth","specialDepthAccessors","includes","tree","parseExpression","parseUnaryTests","simpleExpressionTree","_buildSimpleFeelStructureTree","variables","_unfoldVariables","node","name","pathRoot","_linearizePathExpression","Object","keys","length","_getVariableNameAtPathIndex","Array","from","_smartExtractVariableNames","variableName","children","reduce","acc","child","concat","filter","Set","root","index","nodes","initialDepth","accessorDepthInfos","previous","current","extractedVariables","pathNodes","i","currentAccessor","depthOffsets","accumulator","offset","map","depthInfo","some","add","parts","push","reverse","parseTree","stack","iterate","enter","nodeRepresentation","type","slice","to","leave","result","pop","parent","_extractFilterExpressions","flattenedExpressionTree","x","filterTarget","filterExpression","taggedFilterExpression","FeelExpressionLanguage","constructor","eventBus","_eventBus","isExpression","value","isString","startsWith","getVariableNames","expression","Error","evaluate","data","error","fire","$inject","FeelersTemplating","isTemplate","test","template","expressions","_extractExpressionsWithDepth","_parent_","this","_this_","context","debug","strict","buildDebugString","err","sanitizer","evaluateFeelers","feelersParser","parse","buildSimpleTree","_traverse","n","content","loopExpression","childResults","MINUTES_IN_DAY","DATETIME_SUBTYPES","DATE","TIME","DATETIME","TIME_SERIALISING_FORMATS","UTC_OFFSET","UTC_NORMALIZED","NO_TIMEZONE","DATETIME_SUBTYPES_LABELS","TIME_SERIALISINGFORMAT_LABELS","DATETIME_SUBTYPE_PATH","DATE_LABEL_PATH","DATE_DISALLOW_PAST_PATH","TIME_LABEL_PATH","TIME_USE24H_PATH","TIME_INTERVAL_PATH","TIME_SERIALISING_FORMAT_PATH","OPTIONS_SOURCES","STATIC","INPUT","EXPRESSION","OPTIONS_SOURCE_DEFAULT","OPTIONS_SOURCES_LABELS","OPTIONS_SOURCES_PATHS","OPTIONS_SOURCES_DEFAULTS","label","getOptionsSource","field","source","values","get","undefined","SANDBOX_ATTRIBUTE","ALLOW_ATTRIBUTE","SECURITY_ATTRIBUTES_DEFINITIONS","attribute","directive","property","createInjector","bootstrapModules","injector","Injector","init","createFormContainer","prefix","container","document","createElement","classList","formFieldClasses","errors","disabled","readonly","classNames","gridColumnClasses","formField","layout","columns","prefixId","id","formId","indexes","forEach","Button","props","onFocus","onBlur","action","_jsx","class","config","keyed","group","create","FormRenderContext","createContext","Empty","Hidden","Children","style","Element","Row","Column","hoverInfo","cleanup","LocalExpressionContext","getService","FormContext","useService","useContext","isRequired","required","pathParse","path","split","key","isNaN","parseInt","pathsEqual","a","b","every","indices","generateIndexForType","generateIdForType","clone","replacer","JSON","stringify","runRecursively","fn","components","component","_","wrapObjectKeysWithUnderscores","obj","newObj","entries","buildExpressionContext","specialContextKeys","runExpressionEvaluation","expressionLanguage","expressionContextInfo","useCondition","condition","conditionChecker","useMemo","check","getSimpleOptionsData","formData","valuesExpression","optionsExpression","valuesKey","optionsKey","staticOptions","normalizeOptionsData","optionsData","_isAllowedValue","_normalizeOption","o","isNil","createEmptyOptions","defaults","option","_isAllowedPrimitive","isObject","isValidLabel","_isValidLabel","isAllowedPrimitiveType","isValid","useExpressionEvaluation","useDeepCompareMemoize","ref","useRef","isEqual","LOAD_STATES","LOADING","LOADED","ERROR","useOptionsAsync","initialData","_getState","expressionEvaluation","evaluatedOptions","optionsGetter","keyedOptions","isArray","buildErrorState","buildLoadedState","loadState","useDangerousHTMLWrapper","html","transform","sanitize","sanitizeStyleTags","sanitizedHtml","DOMPurify","getDOMPurifyConfig","transformedHtml","__html","FORCE_BODY","FORBID_TAGS","useSecurityAttributesMap","security","securityMemoized","sandbox","join","allow","useGetLabelCorrelation","labelMap","assign","_getValueHash","useCallback","wrapCSSStyles","rootNode","styleTags","querySelectorAll","styleTag","topLevelRules","extractTopLevelRules","textContent","scopedCss","rule","selector","styles","splitRule","scopedSelector","scopeSelector","cssString","cursor","start","level","substring","trim","firstBracket","indexOf","sel","getScrollContainer","el","body","documentElement","_isElementScrollable","parentElement","window","getComputedStyle","overflowY","overflow","scrollHeight","clientHeight","EMPTY_OBJECT","EMPTY_ARRAY","useScrollIntoView","scrolledElementRef","deps","scrollOptions","flagRefs","_scrollOptions","_flagRefs","useEffect","itemToBeScrolled","scrollContainer","itemRect","getBoundingClientRect","containerRect","align","behavior","scrollIfVisible","shouldScroll","top","bottom","topOffset","_getTopOffset","scroll","item","scrollTop","height","useFilteredFormData","newData","applyConditions","useKeyDownAction","targetKey","listenerElement","downHandler","addEventListener","removeEventListener","useReadonly","properties","readOnly","usePrevious","defaultValue","useFlushDebounce","func","timeoutRef","lastArgsRef","debounce","shouldDebounce","delay","debounceFunc","args","clearTimeout","setTimeout","flushFunc","useTemplateEvaluation","templating","useSingleLineTemplateEvaluation","evaluatedTemplate","ENTER_KEYDOWN_EVENT","KeyboardEvent","code","charCode","keyCode","bubbles","focusRelevantFlatpickerDay","flatpickrInstance","isOpen","open","calendarContainer","dayToFocus","querySelector","focus","formatTime","use24h","minutes","wrappedMinutes","minute","hour","Math","floor","_getZeroPaddedString","isPM","parseInputTime","stringTime","workingString","toLowerCase","is12h","digits","match","displayHour","isValidDisplayHour","isNumber","isValidMinute","isValidHour","serializeTime","timeSerializingFormat","normalizedMinutes","baseTime","addUTCOffset","formatTimezoneOffset","parseIsoTime","isoTimeString","parseBasicMinutes","timeString","timeSegments","localOffset","Date","getTimezoneOffset","replace","offsetString","inboundOffset","serializeDate","date","d","month","getMonth","day","getDate","year","getFullYear","isDateTimeInputInformationSufficient","segments","dateNumbers","isDateInputInformationMatching","serializeDateTime","time","workingDate","setFullYear","setHours","timezoneOffsetMinutes","dayOffset","getHours","_getSignedPaddedHours","abs","isInvalidDateString","getTime","getNullDateTime","isValidDate","isValidTime","toString","padStart","ALLOWED_IMAGE_SRC_PATTERN","ALLOWED_IFRAME_SRC_PATTERN","sanitizeDateTimePickerValue","subtype","hasEqualValue","array","element","sanitizeSingleSelectValue","validValues","v","sanitizeMultiSelectValue","sanitizeImageSource","src","valid","sanitizeIFrameSource","escapeHTML","escapeMap","useCleanupSingleSelectValue","onChange","optionValues","hasValueNotInOptions","useCleanupMultiSelectValue","memoizedValues","hasValuesNotInOptions","Description","description","evaluatedDescription","Errors","Label","htmlFor","collapseOnEmpty","evaluatedLabel","_jsxs","for","Checkbox","domId","validate","target","checked","descriptionId","errorMessageId","emptyValue","sanitizeValue","Checklist","outerDivRef","toggleCheckbox","toggledValue","newValues","onCheckboxBlur","e","contains","relatedTarget","onCheckboxFocus","itemDomId","isChecked","onClick","noop","FormField","_onChange","formFields","viewerCommands","formFieldInstanceRegistry","pathRegistry","form","initialValidationTrigger","setInitialValidationTrigger","useState","FormFieldComponent","fieldConfig","localExpressionContext","valuePath","getValuePath","initialValue","hidden","conditional","hide","fieldInstance","instanceId","remove","resetValidation","on","off","hasInitialValue","updateFieldInstanceValidation","update","fieldErrors","formFieldElement","escapeGridRender","ChildrenRenderer","repeatRenderManager","isRepeating","isFieldRepeating","Repeater","RepeatFooter","RepeatChildrenRenderer","ChildrenRoot","SimpleChildrenRenderer","isEmpty","RowsRenderer","restProps","useSharedState","isCollapsed","_Fragment","parentId","verticalAlignment","formLayouter","formFieldRegistry","rows","getRows","row","alignItems","childId","childField","_createElement","Default","fullProps","_path","_extends","getLocaleDateFormat","locale","Intl","DateTimeFormat","formatToParts","UTC","part","len","repeat","getLocaleReadableDateFormat","format","getLocaleDateFlatpickrConfig","flatpickerizeDateFormat","dateFormat","useLeadingZero","InputAdorner","pre","post","rootRef","inputRef","hasErrors","onAdornmentClick","Datepicker","collapseLabelOnEmpty","onDateTimeBlur","onDateTimeFocus","disallowPassedDates","dateObject","setDate","dateInputRef","focusScopeRef","setFlatpickrInstance","isInputDirty","setIsInputDirty","forceFocusCalendar","setForceFocusCalendar","allowInput","static","clickOpens","minDate","errorHandler","instance","flatpickr","onCalendarFocusOut","close","onCalendarMouseDown","onOpen","onClose","onInputKeyDown","dispatchEvent","preventDefault","onInputFocus","onInputBlur","isFalseBlur","CalendarIcon","width","placeholder","autoComplete","onKeyDown","onMouseDown","onInput","_path2","DEFAULT_LABEL_GETTER","NOOP","DropdownList","getLabel","onValueSelected","emptyListMessage","initialFocusIndex","mouseControl","setMouseControl","focusedValueIndex","setFocusedValueIndex","smoothScrolling","setSmoothScrolling","dropdownContainer","mouseScreenPos","focusedItem","changeFocusedValueIndex","delta","min","max","individualEntries","focusedEntry","scrollIntoView","block","inline","onMouseMovedInKeyboardMode","event","valueIndex","userMovedCursor","screenX","y","screenY","tabIndex","maxHeight","scrollBehavior","focused","onMouseMove","onMouseEnter","Timepicker","timeInterval","setTime","safeTimeInterval","allowedIntervals","timeInputRef","dropdownIsOpen","setDropdownIsOpen","useDropdown","rawValue","setRawValue","intervalAdjustedTime","propagateRawToMinute","newRawValue","localRawValue","correctedMinutes","timeOptions","minutesInDay","intervalCount","intervalIndex","cacheTime","flooredCacheTime","onDropdownValueSelected","ClockIcon","Datetime","dateLabel","timeLabel","dateTimeGroupRef","dateTime","setDateTime","dateTimeUpdateRequest","setDateTimeUpdateRequest","useDatePicker","useTimePicker","getMinutes","computeAndSetState","newDateTimeValue","refreshOnly","newDateTime","allErrors","isOnlyOneFieldSet","prev","datePickerProps","timePickerProps","set","Group","showOutline","className","role","pathed","DEFAULT_HEIGHT","IFrame","url","evaluatedUrl","safeUrl","iframeRefresh","setIframeRefresh","count","IFramePlaceholder","text","title","allowScripts","iconsByType","button","ButtonIcon","checkbox","CheckboxIcon","checklist","ChecklistIcon","ColumnsIcon","datetime","DatetimeIcon","GroupIcon","iframe","IFrameIcon","image","ImageIcon","number","NumberIcon","ExpressionFieldIcon","radio","RadioIcon","select","SelectIcon","separator","SeparatorIcon","spacer","SpacerIcon","dynamiclist","DynamicListIcon","taglist","TaglistIcon","TextIcon","HTMLIcon","textfield","TextfieldIcon","textarea","TextareaIcon","table","TableIcon","default","FormIcon","Image","alt","Icon","evaluatedImageSource","safeSource","altText","viewBox","TemplatedInputAdorner","evaluatedPre","evaluatedPost","countDecimals","num","Big","toFixed","isValidNumber","Number","willKeyProduceValidNumber","previousValue","caretIndex","selectionWidth","decimalDigits","isFirstDot","isFirstMinus","keypressIsNumeric","dotIndex","overflowsDecimalSpace","keypressIsAllowedChar","isNullEquivalentValue","Numberfield","appearance","increment","incrementValue","prefixAdorner","suffixAdorner","cachedValue","setCachedValue","displayValue","setDisplayValue","debouncedOnChange","flushOnChange","previousCachedValue","setValue","stringValue","replaceAll","outerValueChanged","outerValueEqualsCache","incrementAmount","base","stepFlooredValue","minus","mod","plus","decrement","cmp","onKeyPress","selectionStart","selectionEnd","onPaste","step","AngelUpIcon","AngelDownIcon","serializeToString","Radio","onRadioBlur","onRadioFocus","SearchableSelect","setFilter","isDropdownExpanded","setIsDropdownExpanded","isFilterActive","setIsFilterActive","isEscapeClosed","setIsEscapeClose","searchbarRef","getLabelCorrelation","filteredOptions","displayState","ds","componentReady","displayCross","displayDropdown","onAngelMouseDown","searchbar","blur","onInputChange","keyDownEvent","onInputMouseDown","XMarkIcon","SimpleSelect","selectRef","valueLabel","input","findIndex","stopPropagation","Select","searchable","selectProps","Separator","Spacer","DynamicList","repeatable","allowAddRemove","defaultRepetitions","SkipLink","onSkip","href","Taglist","hasOptionsLeft","isValidFilteredOption","filterMatches","selectValue","at","deselectValue","onElementBlur","onElementFocus","onTagRemoveClick","nextTag","closest","nextSibling","onSkipToSearch","shouldDisplayDropdown","NODE_TYPE_TEXT","NODE_TYPE_ELEMENT","ALLOWED_NODES","ALLOWED_ATTRIBUTES","ALLOWED_URI_PATTERN","ATTR_WHITESPACE_PATTERN","FORM_ELEMENT","sanitizeHTML","doc","DOMParser","parseFromString","normalize","firstChild","sanitizeNode","innerHTML","nodeType","lcTag","tagName","attributes","lcName","removeAttribute","isValidAttribute","setAttribute","getAttribute","childNodes","Text","textLinkTarget","disableLinks","markdownRenderer","markdown","render","sanitizeAndTransformLinks","unsafeHtml","tempDiv","links","link","dangerouslySetInnerHTML","Html","styleScope","ExpressionField","computeOn","evaluation","evaluationMemo","expressionLoopPreventer","sendValue","shouldNotRecompute","registerExpressionExecution","Textfield","String","Textarea","textareaRef","autoSizeTextarea","useLayoutEffect","computed","heightFromLines","lineHeight","getPropertyValue","lines","calculatedHeight","minHeight","displayHeight","Table","columnsExpression","dataSource","rowCount","sortBy","setSortBy","evaluatedColumns","useEvaluatedColumns","columnKeys","evaluatedDataSource","sortedData","sortByColumn","direction","chunkedData","chunk","currentPage","setCurrentPage","currentChunk","toggleSortBy","displayLabel","getHeaderAriaLabel","ArrowUpIcon","ArrowDownIcon","colSpan","page","CaretLeftIcon","CaretRightIcon","remainingOptions","isDefined","isColumn","generateInitialDemoData","demoData","demoDataKeys","fallbackColumns","column","size","chunks","sort","Logo","xmlns","fill","Lightbox","onBackdropClick","rel","Link","PoweredBy","setOpen","toggleOpen","Fragment","createPortal","FormComponent","schema","ariaLabel","onSubmit","onReset","handleSubmit","handleReset","filteredFormData","noValidate","Provider","FormFields","_formFields","register","EXPRESSION_PROPERTIES","TEMPLATE_PROPERTIES","getSchemaVariables","inputs","outputs","getAllComponents","prop","expressionVariables","templateVariables","variable","getBindingVariables","bindingVariable","getAncestryList","formFieldId","ids","currentFormField","_parent","ConditionChecker","_formFieldRegistry","_pathRegistry","contextData","workingData","getFilterPath","_applyConditionsWithinScope","rootField","scopeContext","startHidden","expressionIndexes","scopeData","parentScopeData","executeRecursivelyOnFields","isClosed","isRepeatable","isHidden","_checkHideCondition","preventRecursion","repeaterValuePath","repeaterValue","newScopeContext","_cleanlyClearDataAtPath","getForm","unaryTest","workingValuePath","recurse","parentObject","_isEmptyObject","_isEmptyArray","ExpressionLanguageModule","__init__","ExpressionLoopPreventer","_computedExpressions","reset","bind","expressionField","ExpressionFieldModule","MarkdownRenderer","marked","gfm","breaks","MarkdownRendererModule","CommandStack","_handlerMap","_stack","_stackIdx","_currentExecution","actions","dirty","trigger","_injector","_uid","clear","prototype","execute","command","_pushAction","_internalExecute","_popAction","canExecute","handler","_getHandler","_fire","emit","undo","_getUndoAction","next","_internalUndo","redo","_getRedoAction","_setHandler","registerHandler","handlerCls","instantiate","canUndo","canRedo","_atomicDo","revert","_markDirty","_revertedAction","qualifier","arguments","names","createEvent","cancelBubble","_createId","execution","atomic","preExecute","_executedAction","postExecute","baseAction","elements","uniqueBy","stackIdx","splice","commandStack","UpdateFieldValidationHandler","validator","_form","_validator","oldErrors","validateField","updatedErrors","_setState","UpdateFieldInstanceValidationHandler","validateFieldInstance","ViewerCommands","_commandStack","registerHandlers","getHandlers","updateFieldValidation","ViewerCommandsModule","__depends__","commandModule","RepeatRenderManager","formFieldDefinition","sharedRepeatState","repeaterField","dataPath","nonCollapsedItems","_getNonCollapsedItems","collapseEnabled","disableCollapse","hasChildren","showRemove","displayValues","onDeleteItem","updatedValues","parentExpressionContextInfo","itemValue","itemIndex","RepetitionScaffold","addButtonRef","setSharedRepeatState","showAdd","toggle","state","onAddItem","newItem","_getInitializedFieldData","AddSvg","ExpandSvg","CollapseSvg","DEFAULT_NON_COLLAPSED_ITEMS","elementProps","localExpressionContextInfo","DeleteSvg","RepeatRenderModule","FN_REF","DEFAULT_PRIORITY","EventBus","_listeners","_destroy","events","priority","callback","that","isFunction","actualCallback","self","_addListener","once","wrappedCallback","__isTomb","apply","_removeListener","InternalEvent","firstListener","returnValue","call","originalType","_invokeListeners","defaultPrevented","handleError","listener","_invokeListener","invokeFunction","console","newListener","_getListeners","previousListener","_setListeners","nextListener","listenerCallback","EMAIL_PATTERN","PHONE_PATTERN","VALIDATE_FEEL_PROPERTIES","Validator","_expressionLanguage","_conditionChecker","runNumberValidation","evaluatedValidation","oldEvaluateFEELValues","runPresetValidation","evaluateFEELValues","bigValue","bigIncrement","nextValue","validation","pattern","RegExp","isUncheckedCheckbox","isUnsetValue","isEmptyMultiselect","minLength","maxLength","validationType","evaluatedValidate","evaluatedValue","filteredData","Importer","fieldFactory","_fieldFactory","_formLayouter","importSchema","warnings","_cleanup","importedSchema","importFormField","calculateLayout","fieldAttrs","importFormFields","FieldFactory","attrs","applyDefaults","fieldDefinition","_ids","assigned","parentPath","knownAncestorIds","canClaimPath","labelAttrs","_ensureId","_ensureKey","claimPath","claimerId","_enforceDefaultPath","claim","nextPrefixed","_getUniqueKeyPath","random","PathRegistry","_dataPaths","skipAncestryCheck","segment","_getNextSegment","isValidRepeatClaim","repeaterId","claimCount","unclaimPath","formFieldConfig","callResult","replacements","cutoffNode","localValuePath","hasReplacement","hasOwnProperty","replacement","_addIndexes","find","FormLayouter","_rows","Ids","addRow","rowsPerComponent","r","getRow","allRows","getRowForField","rowsForField","nextRowId","rowsInOrder","groupByRow","c","groupBy","formRows","flat","FormFieldRegistry","getAll","FormFieldInstanceRegistry","_formFieldInstances","getAllKeyed","Renderer","App","setState","formContext","_id","newState","_update","submit","RenderModule","renderer","CoreModule","importer","Form","_onEvent","_container","_createInjector","_state","invoke","attachTo","_emit","destroy","_detach","Promise","resolve","reject","initializedData","_getSubmitData","getErrorPath","parentNode","detach","appendChild","removeChild","setProperty","modules","_getModules","additionalModules","enrichedConfig","submitData","formFieldInstance","initializeFieldDataRecursively","valueData","isUndefined","initializedFieldValue","val","basePath","schemaVersion","createForm","formOptions","then"],"mappings":"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,CAACt+B,KAAK,CAAC+0B,QAAQ,EAAE;AAC5BwJ,MAAAA,GAAG,EAAE,IAAI;AACTC,MAAAA,MAAM,EAAE,IAAA;AACV,KAAC,CAAC,CAAA;AACJ,GAAA;AACF,CAAA;AAEAH,gBAAgB,CAACv/B,OAAO,GAAG,EAAE;;ACjBtB,MAAM2/B,sBAAsB,GAAG;EACpCX,QAAQ,EAAE,CAAC,kBAAkB,CAAC;AAC9BhJ,EAAAA,gBAAgB,EAAE,CAAC,MAAM,EAAEuJ,gBAAgB,CAAA;AAC7C;;ACAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASK,YAAYA,CAACzgC,QAAQ,EAAE+E,QAAQ,EAAE;AAEvD;AACF;AACA;AACA;AACA;AACE,EAAA,IAAI,CAAC27B,WAAW,GAAG,EAAE,CAAA;;AAErB;AACF;AACA;AACA;AACA;EACE,IAAI,CAACC,MAAM,GAAG,EAAE,CAAA;;AAEhB;AACF;AACA;AACA;AACA;AACE,EAAA,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC,CAAA;;AAEnB;AACF;AACA;AACA;AACA;EACE,IAAI,CAACC,iBAAiB,GAAG;AACvBC,IAAAA,OAAO,EAAE,EAAE;AACXC,IAAAA,KAAK,EAAE,EAAE;AACTC,IAAAA,OAAO,EAAE,IAAA;GACV,CAAA;;AAED;AACF;AACA;EACE,IAAI,CAACC,SAAS,GAAGl8B,QAAQ,CAAA;;AAEzB;AACF;AACA;EACE,IAAI,CAAC9E,SAAS,GAAGD,QAAQ,CAAA;;AAEzB;AACF;AACA;EACE,IAAI,CAACkhC,IAAI,GAAG,CAAC,CAAA;EAEblhC,QAAQ,CAACwe,EAAE,CAAC,CACV,iBAAiB,EACjB,eAAe,CAChB,EAAE,YAAW;AACZ,IAAA,IAAI,CAAC2iB,KAAK,CAAC,KAAK,CAAC,CAAA;GAClB,EAAE,IAAI,CAAC,CAAA;AACV,CAAA;AAEAV,YAAY,CAAC5/B,OAAO,GAAG,CAAE,UAAU,EAAE,UAAU,CAAE,CAAA;;AAGjD;AACA;AACA;AACA;AACA;AACA;AACA4/B,YAAY,CAACW,SAAS,CAACC,OAAO,GAAG,UAASC,OAAO,EAAE//B,OAAO,EAAE;EAC1D,IAAI,CAAC+/B,OAAO,EAAE;AACZ,IAAA,MAAM,IAAI9gC,KAAK,CAAC,kBAAkB,CAAC,CAAA;AACrC,GAAA;AAEA,EAAA,IAAI,CAACqgC,iBAAiB,CAACG,OAAO,GAAG,SAAS,CAAA;AAE1C,EAAA,MAAMt6B,MAAM,GAAG;AAAE46B,IAAAA,OAAO,EAAEA,OAAO;AAAE//B,IAAAA,OAAO,EAAEA,OAAAA;GAAS,CAAA;AAErD,EAAA,IAAI,CAACggC,WAAW,CAAC76B,MAAM,CAAC,CAAA;AACxB,EAAA,IAAI,CAAC86B,gBAAgB,CAAC96B,MAAM,CAAC,CAAA;EAC7B,IAAI,CAAC+6B,UAAU,EAAE,CAAA;AACnB,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAhB,YAAY,CAACW,SAAS,CAACM,UAAU,GAAG,UAASJ,OAAO,EAAE//B,OAAO,EAAE;AAE7D,EAAA,MAAMmF,MAAM,GAAG;AAAE46B,IAAAA,OAAO,EAAEA,OAAO;AAAE//B,IAAAA,OAAO,EAAEA,OAAAA;GAAS,CAAA;AAErD,EAAA,MAAMogC,OAAO,GAAG,IAAI,CAACC,WAAW,CAACN,OAAO,CAAC,CAAA;EAEzC,IAAIjiC,MAAM,GAAG,IAAI,CAACwiC,KAAK,CAACP,OAAO,EAAE,YAAY,EAAE56B,MAAM,CAAC,CAAA;;AAEtD;AACA;EACA,IAAIrH,MAAM,KAAKiF,SAAS,EAAE;IACxB,IAAI,CAACq9B,OAAO,EAAE;AACZ,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;IAEA,IAAIA,OAAO,CAACD,UAAU,EAAE;AACtBriC,MAAAA,MAAM,GAAGsiC,OAAO,CAACD,UAAU,CAACngC,OAAO,CAAC,CAAA;AACtC,KAAA;AACF,GAAA;AAEA,EAAA,OAAOlC,MAAM,CAAA;AACf,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACAohC,YAAY,CAACW,SAAS,CAACD,KAAK,GAAG,UAASW,IAAI,EAAE;AAC5C,EAAA,IAAI,CAACnB,MAAM,CAACjkC,MAAM,GAAG,CAAC,CAAA;AACtB,EAAA,IAAI,CAACkkC,SAAS,GAAG,CAAC,CAAC,CAAA;EAEnB,IAAIkB,IAAI,KAAK,KAAK,EAAE;AAClB,IAAA,IAAI,CAACD,KAAK,CAAC,SAAS,EAAE;AAAEb,MAAAA,OAAO,EAAE,OAAA;AAAQ,KAAC,CAAC,CAAA;AAC7C,GAAA;AACF,CAAC,CAAA;;AAGD;AACA;AACA;AACAP,YAAY,CAACW,SAAS,CAACW,IAAI,GAAG,YAAW;AACvC,EAAA,IAAIr7B,MAAM,GAAG,IAAI,CAACs7B,cAAc,EAAE;IAC9BC,IAAI,CAAA;AAER,EAAA,IAAIv7B,MAAM,EAAE;AACV,IAAA,IAAI,CAACm6B,iBAAiB,CAACG,OAAO,GAAG,MAAM,CAAA;AAEvC,IAAA,IAAI,CAACO,WAAW,CAAC76B,MAAM,CAAC,CAAA;AAExB,IAAA,OAAOA,MAAM,EAAE;AACb,MAAA,IAAI,CAACw7B,aAAa,CAACx7B,MAAM,CAAC,CAAA;AAC1Bu7B,MAAAA,IAAI,GAAG,IAAI,CAACD,cAAc,EAAE,CAAA;MAE5B,IAAI,CAACC,IAAI,IAAIA,IAAI,CAAC/7B,EAAE,KAAKQ,MAAM,CAACR,EAAE,EAAE;AAClC,QAAA,MAAA;AACF,OAAA;AAEAQ,MAAAA,MAAM,GAAGu7B,IAAI,CAAA;AACf,KAAA;IAEA,IAAI,CAACR,UAAU,EAAE,CAAA;AACnB,GAAA;AACF,CAAC,CAAA;;AAGD;AACA;AACA;AACAhB,YAAY,CAACW,SAAS,CAACe,IAAI,GAAG,YAAW;AACvC,EAAA,IAAIz7B,MAAM,GAAG,IAAI,CAAC07B,cAAc,EAAE;IAC9BH,IAAI,CAAA;AAER,EAAA,IAAIv7B,MAAM,EAAE;AACV,IAAA,IAAI,CAACm6B,iBAAiB,CAACG,OAAO,GAAG,MAAM,CAAA;AAEvC,IAAA,IAAI,CAACO,WAAW,CAAC76B,MAAM,CAAC,CAAA;AAExB,IAAA,OAAOA,MAAM,EAAE;AACb,MAAA,IAAI,CAAC86B,gBAAgB,CAAC96B,MAAM,EAAE,IAAI,CAAC,CAAA;AACnCu7B,MAAAA,IAAI,GAAG,IAAI,CAACG,cAAc,EAAE,CAAA;MAE5B,IAAI,CAACH,IAAI,IAAIA,IAAI,CAAC/7B,EAAE,KAAKQ,MAAM,CAACR,EAAE,EAAE;AAClC,QAAA,MAAA;AACF,OAAA;AAEAQ,MAAAA,MAAM,GAAGu7B,IAAI,CAAA;AACf,KAAA;IAEA,IAAI,CAACR,UAAU,EAAE,CAAA;AACnB,GAAA;AACF,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACAhB,YAAY,CAACW,SAAS,CAACxE,QAAQ,GAAG,UAAS0E,OAAO,EAAEK,OAAO,EAAE;AAC3D,EAAA,IAAI,CAACU,WAAW,CAACf,OAAO,EAAEK,OAAO,CAAC,CAAA;AACpC,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,YAAY,CAACW,SAAS,CAACkB,eAAe,GAAG,UAAShB,OAAO,EAAEiB,UAAU,EAAE;AAErE,EAAA,IAAI,CAACjB,OAAO,IAAI,CAACiB,UAAU,EAAE;AAC3B,IAAA,MAAM,IAAI/hC,KAAK,CAAC,wCAAwC,CAAC,CAAA;AAC3D,GAAA;EAEA,MAAMmhC,OAAO,GAAG,IAAI,CAACV,SAAS,CAACuB,WAAW,CAACD,UAAU,CAAC,CAAA;AACtD,EAAA,IAAI,CAAC3F,QAAQ,CAAC0E,OAAO,EAAEK,OAAO,CAAC,CAAA;AACjC,CAAC,CAAA;;AAED;AACA;AACA;AACAlB,YAAY,CAACW,SAAS,CAACqB,OAAO,GAAG,YAAW;AAC1C,EAAA,OAAO,CAAC,CAAC,IAAI,CAACT,cAAc,EAAE,CAAA;AAChC,CAAC,CAAA;;AAED;AACA;AACA;AACAvB,YAAY,CAACW,SAAS,CAACsB,OAAO,GAAG,YAAW;AAC1C,EAAA,OAAO,CAAC,CAAC,IAAI,CAACN,cAAc,EAAE,CAAA;AAChC,CAAC,CAAA;;AAED;;AAEA3B,YAAY,CAACW,SAAS,CAACgB,cAAc,GAAG,YAAW;EACjD,OAAO,IAAI,CAACzB,MAAM,CAAC,IAAI,CAACC,SAAS,GAAG,CAAC,CAAC,CAAA;AACxC,CAAC,CAAA;AAGDH,YAAY,CAACW,SAAS,CAACY,cAAc,GAAG,YAAW;AACjD,EAAA,OAAO,IAAI,CAACrB,MAAM,CAAC,IAAI,CAACC,SAAS,CAAC,CAAA;AACpC,CAAC,CAAA;;AAGD;;AAEAH,YAAY,CAACW,SAAS,CAACc,aAAa,GAAG,UAASx7B,MAAM,EAAE;AACtD,EAAA,MAAM46B,OAAO,GAAG56B,MAAM,CAAC46B,OAAO;IACxB//B,OAAO,GAAGmF,MAAM,CAACnF,OAAO,CAAA;AAE9B,EAAA,MAAMogC,OAAO,GAAG,IAAI,CAACC,WAAW,CAACN,OAAO,CAAC,CAAA;;AAEzC;EACA,IAAI,CAACqB,SAAS,CAAC,MAAM;IACnB,IAAI,CAACd,KAAK,CAACP,OAAO,EAAE,QAAQ,EAAE56B,MAAM,CAAC,CAAA;IAErC,IAAIi7B,OAAO,CAACiB,MAAM,EAAE;MAClB,IAAI,CAACC,UAAU,CAAClB,OAAO,CAACiB,MAAM,CAACrhC,OAAO,CAAC,CAAC,CAAA;AAC1C,KAAA;AAEA,IAAA,IAAI,CAACuhC,eAAe,CAACp8B,MAAM,CAAC,CAAA;IAE5B,IAAI,CAACm7B,KAAK,CAACP,OAAO,EAAE,UAAU,EAAE56B,MAAM,CAAC,CAAA;AACzC,GAAC,CAAC,CAAA;AACJ,CAAC,CAAA;AAGD+5B,YAAY,CAACW,SAAS,CAACS,KAAK,GAAG,UAASP,OAAO,EAAEyB,SAAS,EAAEzc,KAAK,EAAE;AACjE,EAAA,IAAI0c,SAAS,CAACtmC,MAAM,GAAG,CAAC,EAAE;AACxB4pB,IAAAA,KAAK,GAAGyc,SAAS,CAAA;AACjBA,IAAAA,SAAS,GAAG,IAAI,CAAA;AAClB,GAAA;AAEA,EAAA,MAAME,KAAK,GAAGF,SAAS,GAAG,CAAEzB,OAAO,GAAG,GAAG,GAAGyB,SAAS,EAAEA,SAAS,CAAE,GAAG,CAAEzB,OAAO,CAAE,CAAA;AAChF,EAAA,IAAIjiC,MAAM,CAAA;EAEVinB,KAAK,GAAG,IAAI,CAACrmB,SAAS,CAACijC,WAAW,CAAC5c,KAAK,CAAC,CAAA;AAEzC,EAAA,KAAK,MAAMjqB,IAAI,IAAI4mC,KAAK,EAAE;AACxB5jC,IAAAA,MAAM,GAAG,IAAI,CAACY,SAAS,CAACW,IAAI,CAAC,eAAe,GAAGvE,IAAI,EAAEiqB,KAAK,CAAC,CAAA;IAE3D,IAAIA,KAAK,CAAC6c,YAAY,EAAE;AACtB,MAAA,MAAA;AACF,KAAA;AACF,GAAA;AAEA,EAAA,OAAO9jC,MAAM,CAAA;AACf,CAAC,CAAA;AAEDohC,YAAY,CAACW,SAAS,CAACgC,SAAS,GAAG,YAAW;EAC5C,OAAO,IAAI,CAAClC,IAAI,EAAE,CAAA;AACpB,CAAC,CAAA;AAEDT,YAAY,CAACW,SAAS,CAACuB,SAAS,GAAG,UAASt5B,EAAE,EAAE;AAE9C,EAAA,MAAMg6B,SAAS,GAAG,IAAI,CAACxC,iBAAiB,CAAA;EAExCwC,SAAS,CAACC,MAAM,GAAG,IAAI,CAAA;EAEvB,IAAI;AACFj6B,IAAAA,EAAE,EAAE,CAAA;AACN,GAAC,SAAS;IACRg6B,SAAS,CAACC,MAAM,GAAG,KAAK,CAAA;AAC1B,GAAA;AACF,CAAC,CAAA;AAED7C,YAAY,CAACW,SAAS,CAACI,gBAAgB,GAAG,UAAS96B,MAAM,EAAEy7B,IAAI,EAAE;AAC/D,EAAA,MAAMb,OAAO,GAAG56B,MAAM,CAAC46B,OAAO;IACxB//B,OAAO,GAAGmF,MAAM,CAACnF,OAAO,CAAA;AAE9B,EAAA,MAAMogC,OAAO,GAAG,IAAI,CAACC,WAAW,CAACN,OAAO,CAAC,CAAA;EAEzC,IAAI,CAACK,OAAO,EAAE;IACZ,MAAM,IAAInhC,KAAK,CAAC,qCAAqC,GAAG8gC,OAAO,GAAG,GAAG,CAAC,CAAA;AACxE,GAAA;AAEA,EAAA,IAAI,CAACC,WAAW,CAAC76B,MAAM,CAAC,CAAA;EAExB,IAAI,CAACy7B,IAAI,EAAE;IACT,IAAI,CAACN,KAAK,CAACP,OAAO,EAAE,YAAY,EAAE56B,MAAM,CAAC,CAAA;IAEzC,IAAIi7B,OAAO,CAAC4B,UAAU,EAAE;AACtB5B,MAAAA,OAAO,CAAC4B,UAAU,CAAChiC,OAAO,CAAC,CAAA;AAC7B,KAAA;IAEA,IAAI,CAACsgC,KAAK,CAACP,OAAO,EAAE,aAAa,EAAE56B,MAAM,CAAC,CAAA;AAC5C,GAAA;;AAEA;EACA,IAAI,CAACi8B,SAAS,CAAC,MAAM;IAEnB,IAAI,CAACd,KAAK,CAACP,OAAO,EAAE,SAAS,EAAE56B,MAAM,CAAC,CAAA;IAEtC,IAAIi7B,OAAO,CAACN,OAAO,EAAE;AAEnB;MACA,IAAI,CAACwB,UAAU,CAAClB,OAAO,CAACN,OAAO,CAAC9/B,OAAO,CAAC,CAAC,CAAA;AAC3C,KAAA;;AAEA;AACA,IAAA,IAAI,CAACiiC,eAAe,CAAC98B,MAAM,EAAEy7B,IAAI,CAAC,CAAA;IAElC,IAAI,CAACN,KAAK,CAACP,OAAO,EAAE,UAAU,EAAE56B,MAAM,CAAC,CAAA;AACzC,GAAC,CAAC,CAAA;EAEF,IAAI,CAACy7B,IAAI,EAAE;IACT,IAAI,CAACN,KAAK,CAACP,OAAO,EAAE,aAAa,EAAE56B,MAAM,CAAC,CAAA;IAE1C,IAAIi7B,OAAO,CAAC8B,WAAW,EAAE;AACvB9B,MAAAA,OAAO,CAAC8B,WAAW,CAACliC,OAAO,CAAC,CAAA;AAC9B,KAAA;IAEA,IAAI,CAACsgC,KAAK,CAACP,OAAO,EAAE,cAAc,EAAE56B,MAAM,CAAC,CAAA;AAC7C,GAAA;EAEA,IAAI,CAAC+6B,UAAU,EAAE,CAAA;AACnB,CAAC,CAAA;AAGDhB,YAAY,CAACW,SAAS,CAACG,WAAW,GAAG,UAAS76B,MAAM,EAAE;AAEpD,EAAA,MAAM28B,SAAS,GAAG,IAAI,CAACxC,iBAAiB;IAClCC,OAAO,GAAGuC,SAAS,CAACvC,OAAO,CAAA;AAEjC,EAAA,MAAM4C,UAAU,GAAG5C,OAAO,CAAC,CAAC,CAAC,CAAA;EAE7B,IAAIuC,SAAS,CAACC,MAAM,EAAE;IACpB,MAAM,IAAI9iC,KAAK,CAAC,6DAA6D,GAAGkG,MAAM,CAAC46B,OAAO,GAAG,GAAG,CAAC,CAAA;AACvG,GAAA;AAEA,EAAA,IAAI,CAAC56B,MAAM,CAACR,EAAE,EAAE;AACdQ,IAAAA,MAAM,CAACR,EAAE,GAAIw9B,UAAU,IAAIA,UAAU,CAACx9B,EAAE,IAAK,IAAI,CAACk9B,SAAS,EAAE,CAAA;AAC/D,GAAA;AAEAtC,EAAAA,OAAO,CAACpiC,IAAI,CAACgI,MAAM,CAAC,CAAA;AACtB,CAAC,CAAA;AAGD+5B,YAAY,CAACW,SAAS,CAACK,UAAU,GAAG,YAAW;AAC7C,EAAA,MAAM4B,SAAS,GAAG,IAAI,CAACxC,iBAAiB;IAClCG,OAAO,GAAGqC,SAAS,CAACrC,OAAO;IAC3BF,OAAO,GAAGuC,SAAS,CAACvC,OAAO;IAC3BC,KAAK,GAAGsC,SAAS,CAACtC,KAAK,CAAA;EAE7BD,OAAO,CAACxhC,GAAG,EAAE,CAAA;AAEb,EAAA,IAAI,CAACwhC,OAAO,CAACpkC,MAAM,EAAE;AACnB,IAAA,IAAI,CAACuD,SAAS,CAACW,IAAI,CAAC,kBAAkB,EAAE;MAAE+iC,QAAQ,EAAEC,QAAQ,CAAC,IAAI,EAAE7C,KAAK,CAACpiC,OAAO,EAAE,CAAA;AAAE,KAAC,CAAC,CAAA;IAEtFoiC,KAAK,CAACrkC,MAAM,GAAG,CAAC,CAAA;AAEhB,IAAA,IAAI,CAACmlC,KAAK,CAAC,SAAS,EAAE;AAAEb,MAAAA,OAAO,EAAEA,OAAAA;AAAQ,KAAC,CAAC,CAAA;IAE3CqC,SAAS,CAACrC,OAAO,GAAG,IAAI,CAAA;AAC1B,GAAA;AACF,CAAC,CAAA;AAGDP,YAAY,CAACW,SAAS,CAACyB,UAAU,GAAG,UAASc,QAAQ,EAAE;AACrD,EAAA,MAAMN,SAAS,GAAG,IAAI,CAACxC,iBAAiB,CAAA;EAExC,IAAI,CAAC8C,QAAQ,EAAE;AACb,IAAA,OAAA;AACF,GAAA;EAEAA,QAAQ,GAAG92B,OAAO,CAAC82B,QAAQ,CAAC,GAAGA,QAAQ,GAAG,CAAEA,QAAQ,CAAE,CAAA;EAEtDN,SAAS,CAACtC,KAAK,GAAGsC,SAAS,CAACtC,KAAK,CAAC3jC,MAAM,CAACumC,QAAQ,CAAC,CAAA;AACpD,CAAC,CAAA;AAGDlD,YAAY,CAACW,SAAS,CAACoC,eAAe,GAAG,UAAS98B,MAAM,EAAEy7B,IAAI,EAAE;AAC9D,EAAA,MAAM0B,QAAQ,GAAG,EAAE,IAAI,CAACjD,SAAS,CAAA;EAEjC,IAAI,CAACuB,IAAI,EAAE;AACT,IAAA,IAAI,CAACxB,MAAM,CAACmD,MAAM,CAACD,QAAQ,EAAE,IAAI,CAAClD,MAAM,CAACjkC,MAAM,EAAEgK,MAAM,CAAC,CAAA;AAC1D,GAAA;AACF,CAAC,CAAA;AAGD+5B,YAAY,CAACW,SAAS,CAAC0B,eAAe,GAAG,UAASp8B,MAAM,EAAE;EACxD,IAAI,CAACk6B,SAAS,EAAE,CAAA;AAClB,CAAC,CAAA;AAGDH,YAAY,CAACW,SAAS,CAACQ,WAAW,GAAG,UAASN,OAAO,EAAE;AACrD,EAAA,OAAO,IAAI,CAACZ,WAAW,CAACY,OAAO,CAAC,CAAA;AAClC,CAAC,CAAA;AAEDb,YAAY,CAACW,SAAS,CAACiB,WAAW,GAAG,UAASf,OAAO,EAAEK,OAAO,EAAE;AAC9D,EAAA,IAAI,CAACL,OAAO,IAAI,CAACK,OAAO,EAAE;AACxB,IAAA,MAAM,IAAInhC,KAAK,CAAC,8BAA8B,CAAC,CAAA;AACjD,GAAA;AAEA,EAAA,IAAI,IAAI,CAACkgC,WAAW,CAACY,OAAO,CAAC,EAAE;IAC7B,MAAM,IAAI9gC,KAAK,CAAC,kCAAkC,GAAG8gC,OAAO,GAAG,GAAG,CAAC,CAAA;AACrE,GAAA;AAEA,EAAA,IAAI,CAACZ,WAAW,CAACY,OAAO,CAAC,GAAGK,OAAO,CAAA;AACrC,CAAC;;ACxiBD;AACA;AACA;AACA,oBAAe;AACboC,EAAAA,YAAY,EAAE,CAAE,MAAM,EAAEtD,YAAY,CAAA;AACtC,CAAC;;ACJD;AACA;AACA;AACO,MAAMuD,4BAA4B,CAAC;AACxCjkC,EAAAA,WAAWA,CAACwd,IAAI,EAAE0mB,SAAS,EAAE;IAC3B,IAAI,CAACC,KAAK,GAAG3mB,IAAI,CAAA;IACjB,IAAI,CAAC4mB,UAAU,GAAGF,SAAS,CAAA;AAC7B,GAAA;EAEA5C,OAAOA,CAAC9/B,OAAO,EAAE;IACf,MAAM;MAAE2C,KAAK;MAAE/D,KAAK;AAAEiG,MAAAA,OAAAA;AAAQ,KAAC,GAAG7E,OAAO,CAAA;IACzC,MAAM;AAAEkE,MAAAA,MAAAA;AAAO,KAAC,GAAG,IAAI,CAACy+B,KAAK,CAAC13B,SAAS,EAAE,CAAA;AAEzCjL,IAAAA,OAAO,CAAC6iC,SAAS,GAAGp7B,KAAK,CAACvD,MAAM,CAAC,CAAA;IAEjC,MAAMoZ,WAAW,GAAG,IAAI,CAACslB,UAAU,CAACE,aAAa,CAACngC,KAAK,EAAE/D,KAAK,CAAC,CAAA;AAC/D,IAAA,MAAMmkC,aAAa,GAAGxa,GAAG,CACvBrkB,MAAM,EACN,CAACvB,KAAK,CAACgC,EAAE,EAAE,GAAG1J,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAAC,EAC3CyY,WAAW,CAACniB,MAAM,GAAGmiB,WAAW,GAAGva,SACrC,CAAC,CAAA;AACD,IAAA,IAAI,CAAC4/B,KAAK,CAACK,SAAS,CAAC;AAAE9+B,MAAAA,MAAM,EAAE6+B,aAAAA;AAAc,KAAC,CAAC,CAAA;AACjD,GAAA;EAEA1B,MAAMA,CAACrhC,OAAO,EAAE;AACd,IAAA,IAAI,CAAC2iC,KAAK,CAACK,SAAS,CAAC;MAAE9+B,MAAM,EAAElE,OAAO,CAAC6iC,SAAAA;AAAU,KAAC,CAAC,CAAA;AACrD,GAAA;AACF,CAAA;AAEAJ,4BAA4B,CAACnjC,OAAO,GAAG,CAAC,MAAM,EAAE,WAAW,CAAC;;AC7BrD,MAAM2jC,oCAAoC,CAAC;AAChDzkC,EAAAA,WAAWA,CAACwd,IAAI,EAAE0mB,SAAS,EAAE;IAC3B,IAAI,CAACC,KAAK,GAAG3mB,IAAI,CAAA;IACjB,IAAI,CAAC4mB,UAAU,GAAGF,SAAS,CAAA;AAC7B,GAAA;EAEA5C,OAAOA,CAAC9/B,OAAO,EAAE;IACf,MAAM;MAAE6c,aAAa;AAAEje,MAAAA,KAAAA;AAAM,KAAC,GAAGoB,OAAO,CAAA;IACxC,MAAM;MAAE2E,EAAE;AAAEE,MAAAA,OAAAA;AAAQ,KAAC,GAAGgY,aAAa,CAAA;IACrC,MAAM;AAAE3Y,MAAAA,MAAAA;AAAO,KAAC,GAAG,IAAI,CAACy+B,KAAK,CAAC13B,SAAS,EAAE,CAAA;AAEzCjL,IAAAA,OAAO,CAAC6iC,SAAS,GAAGp7B,KAAK,CAACvD,MAAM,CAAC,CAAA;IAEjC,MAAMoZ,WAAW,GAAG,IAAI,CAACslB,UAAU,CAACM,qBAAqB,CAACrmB,aAAa,EAAEje,KAAK,CAAC,CAAA;AAC/E,IAAA,MAAMmkC,aAAa,GAAGxa,GAAG,CACvBrkB,MAAM,EACN,CAACS,EAAE,EAAE,GAAG1J,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAAC,EACrCyY,WAAW,CAACniB,MAAM,GAAGmiB,WAAW,GAAGva,SACrC,CAAC,CAAA;AACD,IAAA,IAAI,CAAC4/B,KAAK,CAACK,SAAS,CAAC;AAAE9+B,MAAAA,MAAM,EAAE6+B,aAAAA;AAAc,KAAC,CAAC,CAAA;AACjD,GAAA;EAEA1B,MAAMA,CAACrhC,OAAO,EAAE;AACd,IAAA,IAAI,CAAC2iC,KAAK,CAACK,SAAS,CAAC;MAAE9+B,MAAM,EAAElE,OAAO,CAAC6iC,SAAAA;AAAU,KAAC,CAAC,CAAA;AACrD,GAAA;AACF,CAAA;AAEAI,oCAAoC,CAAC3jC,OAAO,GAAG,CAAC,MAAM,EAAE,WAAW,CAAC;;AC3B7D,MAAM6jC,cAAc,CAAC;AAC1B3kC,EAAAA,WAAWA,CAACgkC,YAAY,EAAE/jC,QAAQ,EAAE;IAClC,IAAI,CAAC2kC,aAAa,GAAGZ,YAAY,CAAA;AAEjC/jC,IAAAA,QAAQ,CAACwe,EAAE,CAAC,WAAW,EAAE,MAAM;MAC7B,IAAI,CAAComB,gBAAgB,EAAE,CAAA;AACzB,KAAC,CAAC,CAAA;AACJ,GAAA;AAEAA,EAAAA,gBAAgBA,GAAG;AACjBpoC,IAAAA,MAAM,CAACoN,OAAO,CAAC,IAAI,CAACi7B,WAAW,EAAE,CAAC,CAACx+B,OAAO,CAAC,CAAC,CAACH,EAAE,EAAEy7B,OAAO,CAAC,KAAK;MAC5D,IAAI,CAACgD,aAAa,CAACrC,eAAe,CAACp8B,EAAE,EAAEy7B,OAAO,CAAC,CAAA;AACjD,KAAC,CAAC,CAAA;AACJ,GAAA;AAEAkD,EAAAA,WAAWA,GAAG;IACZ,OAAO;AACL,MAAA,6BAA6B,EAAEb,4BAA4B;AAC3D,MAAA,qCAAqC,EAAEQ,oCAAAA;KACxC,CAAA;AACH,GAAA;;AAEA;AACF;AACA;AACEM,EAAAA,qBAAqBA,CAAC5gC,KAAK,EAAE/D,KAAK,EAAEiG,OAAO,EAAE;AAC3C,IAAA,MAAM7E,OAAO,GAAG;MACd2C,KAAK;MACL/D,KAAK;AACLiG,MAAAA,OAAAA;KACD,CAAA;IAED,IAAI,CAACu+B,aAAa,CAACtD,OAAO,CAAC,6BAA6B,EAAE9/B,OAAO,CAAC,CAAA;AACpE,GAAA;AAEAod,EAAAA,6BAA6BA,CAACP,aAAa,EAAEje,KAAK,EAAE;AAClD,IAAA,MAAMoB,OAAO,GAAG;MACd6c,aAAa;AACbje,MAAAA,KAAAA;KACD,CAAA;IAED,IAAI,CAACwkC,aAAa,CAACtD,OAAO,CAAC,qCAAqC,EAAE9/B,OAAO,CAAC,CAAA;AAC5E,GAAA;AACF,CAAA;AAEAmjC,cAAc,CAAC7jC,OAAO,GAAG,CAAC,cAAc,EAAE,UAAU,CAAC;;AC5C9C,MAAMkkC,oBAAoB,GAAG;EAClCC,WAAW,EAAE,CAACC,aAAa,CAAC;EAC5BpF,QAAQ,EAAE,CAAC,gBAAgB,CAAC;AAC5BziB,EAAAA,cAAc,EAAE,CAAC,MAAM,EAAEsnB,cAAc,CAAA;AACzC;;ACRA,IAAI9jB,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,oKAAoK;AAC3K,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC;;ACbD,IAAIA,OAAK,CAAC;AACV,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,WAAW,GAAG,SAAS,WAAW,CAAC,KAAK,EAAE;AAC9C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,qKAAqK;AAC5K,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC;;ACbD,IAAIA,OAAK,EAAE,MAAM,CAAC;AAClB,SAASC,UAAQ,GAAG,EAAEA,UAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAOA,UAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,MAAM,GAAG,SAAS,MAAM,CAAC,KAAK,EAAE;AACpC,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAEA,UAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAED,OAAK,KAAKA,OAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,4GAA4G;AACnH,GAAG,CAAC,CAAC,EAAE,MAAM,KAAK,MAAM,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACpE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,2CAA2C;AAClD,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC;;AChBD,IAAI,KAAK,CAAC;AACV,SAAS,QAAQ,GAAG,EAAE,QAAQ,GAAG,MAAM,CAAC,MAAM,GAAG,MAAM,CAAC,MAAM,CAAC,IAAI,EAAE,GAAG,UAAU,MAAM,EAAE,EAAE,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,SAAS,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE,EAAE,IAAI,MAAM,GAAG,SAAS,CAAC,CAAC,CAAC,CAAC,CAAC,KAAK,IAAI,GAAG,IAAI,MAAM,EAAE,EAAE,IAAI,MAAM,CAAC,SAAS,CAAC,cAAc,CAAC,IAAI,CAAC,MAAM,EAAE,GAAG,CAAC,EAAE,EAAE,MAAM,CAAC,GAAG,CAAC,GAAG,MAAM,CAAC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,CAAC,OAAO,MAAM,CAAC,EAAE,CAAC,CAAC,OAAO,QAAQ,CAAC,KAAK,CAAC,IAAI,EAAE,SAAS,CAAC,CAAC,EAAE;AAEnV,IAAI,SAAS,GAAG,SAAS,SAAS,CAAC,KAAK,EAAE;AAC1C,EAAE,oBAAoB,KAAK,CAAC,aAAa,CAAC,KAAK,EAAE,QAAQ,CAAC;AAC1D,IAAI,KAAK,EAAE,4BAA4B;AACvC,IAAI,KAAK,EAAE,EAAE;AACb,IAAI,MAAM,EAAE,EAAE;AACd,IAAI,IAAI,EAAE,MAAM;AAChB,GAAG,EAAE,KAAK,CAAC,EAAE,KAAK,KAAK,KAAK,gBAAgB,KAAK,CAAC,aAAa,CAAC,MAAM,EAAE;AACxE,IAAI,IAAI,EAAE,cAAc;AACxB,IAAI,CAAC,EAAE,6EAA6E;AACpF,GAAG,CAAC,CAAC,CAAC,CAAC;AACP,CAAC;;ACbD;AACA;;AAeO,MAAMskB,mBAAmB,CAAC;EAC/BnlC,WAAWA,CAACwd,IAAI,EAAEJ,UAAU,EAAE+C,iBAAiB,EAAE5C,YAAY,EAAE;IAC7D,IAAI,CAAC4mB,KAAK,GAAG3mB,IAAI,CAAA;IACjB,IAAI,CAACof,WAAW,GAAGxf,UAAU,CAAA;IAC7B,IAAI,CAAC4gB,kBAAkB,GAAG7d,iBAAiB,CAAA;IAC3C,IAAI,CAAC8d,aAAa,GAAG1gB,YAAY,CAAA;IACjC,IAAI,CAAC8B,QAAQ,GAAG,IAAI,CAACA,QAAQ,CAAC6gB,IAAI,CAAC,IAAI,CAAC,CAAA;IACxC,IAAI,CAAC5gB,YAAY,GAAG,IAAI,CAACA,YAAY,CAAC4gB,IAAI,CAAC,IAAI,CAAC,CAAA;AAClD,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;EACE9gB,gBAAgBA,CAACjZ,EAAE,EAAE;IACnB,IAAI,CAACA,EAAE,EAAE;AACP,MAAA,OAAO,KAAK,CAAA;AACd,KAAA;IAEA,MAAMJ,SAAS,GAAG,IAAI,CAACi4B,kBAAkB,CAAC15B,GAAG,CAAC6B,EAAE,CAAC,CAAA;IACjD,MAAMi/B,mBAAmB,GAAG,IAAI,CAACxI,WAAW,CAACt4B,GAAG,CAACyB,SAAS,CAAC7G,IAAI,CAAC,CAAA;IAChE,OAAOkmC,mBAAmB,CAACt+B,MAAM,CAAC+sB,UAAU,IAAI9tB,SAAS,CAACoZ,WAAW,CAAA;AACvE,GAAA;EAEAE,QAAQA,CAAC7Y,KAAK,EAAE;IACd,MAAM;MAAEmZ,YAAY;MAAEtZ,OAAO;MAAEwZ,cAAc;MAAE,GAAGD,SAAAA;AAAU,KAAC,GAAGpZ,KAAK,CAAA;AAErE,IAAA,MAAM,CAAC6+B,iBAAiB,CAAC,GAAGxlB,cAAc,CAAA;IAE1C,MAAM;AAAElf,MAAAA,IAAAA;AAAK,KAAC,GAAG,IAAI,CAACwjC,KAAK,CAAC13B,SAAS,EAAE,CAAA;AAEvC,IAAA,MAAM64B,aAAa,GAAG9+B,KAAK,CAACrC,KAAK,CAAA;IACjC,MAAMohC,QAAQ,GAAG,IAAI,CAACtH,aAAa,CAACjgB,YAAY,CAACsnB,aAAa,EAAE;AAAEj/B,MAAAA,OAAAA;AAAQ,KAAC,CAAC,CAAA;IAC5E,MAAMhC,MAAM,GAAGC,GAAG,CAAC3D,IAAI,EAAE4kC,QAAQ,CAAC,IAAI,EAAE,CAAA;AAExC,IAAA,MAAMC,iBAAiB,GAAG,IAAI,CAACC,qBAAqB,CAACH,aAAa,CAAC,CAAA;IACnE,MAAMI,eAAe,GAAG,CAACJ,aAAa,CAACK,eAAe,IAAIthC,MAAM,CAAC1H,MAAM,GAAG6oC,iBAAiB,CAAA;AAC3F,IAAA,MAAM1lB,WAAW,GAAG4lB,eAAe,IAAIL,iBAAiB,CAACvlB,WAAW,CAAA;AAEpE,IAAA,MAAM8lB,WAAW,GAAGN,aAAa,CAAC/7B,UAAU,IAAI+7B,aAAa,CAAC/7B,UAAU,CAAC5M,MAAM,GAAG,CAAC,CAAA;AACnF,IAAA,MAAMkpC,UAAU,GAAGP,aAAa,CAACxR,cAAc,IAAI8R,WAAW,CAAA;AAE9D,IAAA,MAAME,aAAa,GAAGhmB,WAAW,GAAGzb,MAAM,CAAClF,KAAK,CAAC,CAAC,EAAEqmC,iBAAiB,CAAC,GAAGnhC,MAAM,CAAA;IAE/E,MAAM0hC,YAAY,GAAItoC,KAAK,IAAK;AAC9B,MAAA,MAAMuoC,aAAa,GAAG3hC,MAAM,CAAClF,KAAK,EAAE,CAAA;AACpC6mC,MAAAA,aAAa,CAACjC,MAAM,CAACtmC,KAAK,EAAE,CAAC,CAAC,CAAA;MAE9B+I,KAAK,CAACmU,QAAQ,CAAC;AACbxW,QAAAA,KAAK,EAAEmhC,aAAa;AACpBllC,QAAAA,KAAK,EAAE4lC,aAAa;AACpB3/B,QAAAA,OAAAA;AACF,OAAC,CAAC,CAAA;KACH,CAAA;AAED,IAAA,MAAM4/B,2BAA2B,GAAGh+B,UAAU,CAACJ,sBAAsB,CAAC,CAAA;IAEtE,OACEjB,GAAA,CAAAmZ,QAAA,EAAA;AAAA9iB,MAAAA,QAAA,EACG6oC,aAAa,CAACxnC,GAAG,CAAC,CAAC4nC,SAAS,EAAEC,SAAS,KACtCv/B,GAAA,CAACw/B,kBAAkB,EAAA;AAEjBD,QAAAA,SAAS,EAAEA,SAAU;AACrBD,QAAAA,SAAS,EAAEA,SAAU;AACrBD,QAAAA,2BAA2B,EAAEA,2BAA4B;AACzDX,QAAAA,aAAa,EAAEA,aAAc;AAC7B3lB,QAAAA,YAAY,EAAEA,YAAa;AAC3BtZ,QAAAA,OAAO,EAAEA,OAAQ;AACjB0/B,QAAAA,YAAY,EAAEA,YAAa;AAC3BF,QAAAA,UAAU,EAAEA,UAAW;QAAA,GACnBjmB,SAAAA;AAAS,OAAA,EATRumB,SAUN,CACF,CAAA;AAAC,KACF,CAAC,CAAA;AAEP,GAAA;EAEA7mB,YAAYA,CAAC9Y,KAAK,EAAE;AAClB,IAAA,MAAM6/B,YAAY,GAAGp6B,MAAM,CAAC,IAAI,CAAC,CAAA;IACjC,MAAM;MAAE4T,cAAc;MAAExZ,OAAO;AAAElC,MAAAA,KAAK,EAAEmhC,aAAa;MAAE1/B,QAAQ;AAAED,MAAAA,QAAAA;AAAS,KAAC,GAAGa,KAAK,CAAA;AACnF,IAAA,MAAM,CAAC6+B,iBAAiB,EAAEiB,oBAAoB,CAAC,GAAGzmB,cAAc,CAAA;IAEhE,MAAM;AAAElf,MAAAA,IAAAA;AAAK,KAAC,GAAG,IAAI,CAACwjC,KAAK,CAAC13B,SAAS,EAAE,CAAA;IAEvC,MAAM84B,QAAQ,GAAG,IAAI,CAACtH,aAAa,CAACjgB,YAAY,CAACsnB,aAAa,EAAE;AAAEj/B,MAAAA,OAAAA;AAAQ,KAAC,CAAC,CAAA;IAC5E,MAAMhC,MAAM,GAAGC,GAAG,CAAC3D,IAAI,EAAE4kC,QAAQ,CAAC,IAAI,EAAE,CAAA;AAExC,IAAA,MAAMC,iBAAiB,GAAG,IAAI,CAACC,qBAAqB,CAACH,aAAa,CAAC,CAAA;IACnE,MAAMI,eAAe,GAAG,CAACJ,aAAa,CAACK,eAAe,IAAIthC,MAAM,CAAC1H,MAAM,GAAG6oC,iBAAiB,CAAA;AAC3F,IAAA,MAAM1lB,WAAW,GAAG4lB,eAAe,IAAIL,iBAAiB,CAACvlB,WAAW,CAAA;AAEpE,IAAA,MAAM8lB,WAAW,GAAGN,aAAa,CAAC/7B,UAAU,IAAI+7B,aAAa,CAAC/7B,UAAU,CAAC5M,MAAM,GAAG,CAAC,CAAA;AACnF,IAAA,MAAM4pC,OAAO,GAAGjB,aAAa,CAACxR,cAAc,IAAI8R,WAAW,CAAA;IAE3D,MAAMY,MAAM,GAAGA,MAAM;MACnBF,oBAAoB,CAAEG,KAAK,KAAM;AAAE,QAAA,GAAGA,KAAK;AAAE3mB,QAAAA,WAAW,EAAE,CAACA,WAAAA;AAAY,OAAC,CAAC,CAAC,CAAA;KAC3E,CAAA;AAED,IAAA,MAAM/N,YAAY,GAAG9F,MAAM,CAAC,KAAK,CAAC,CAAA;IAElC,MAAMy6B,SAAS,GAAGA,MAAM;AACtB,MAAA,MAAMV,aAAa,GAAG3hC,MAAM,CAAClF,KAAK,EAAE,CAAA;AACpC,MAAA,MAAMwnC,OAAO,GAAG,IAAI,CAACxC,KAAK,CAACyC,wBAAwB,CAAC,IAAI,CAACzC,KAAK,CAAC13B,SAAS,EAAE,CAAC9L,IAAI,EAAE;AAC/E0E,QAAAA,SAAS,EAAEigC,aAAa;AACxBj/B,QAAAA,OAAO,EAAE;AAAE,UAAA,GAAGA,OAAO;AAAE,UAAA,CAACi/B,aAAa,CAACn/B,EAAE,GAAG6/B,aAAa,CAACrpC,MAAAA;AAAO,SAAA;AAClE,OAAC,CAAC,CAAA;AAEFqpC,MAAAA,aAAa,CAACrnC,IAAI,CAACgoC,OAAO,CAAC,CAAA;MAE3B50B,YAAY,CAACjU,OAAO,GAAG,IAAI,CAAA;MAE3B0I,KAAK,CAACmU,QAAQ,CAAC;AACbva,QAAAA,KAAK,EAAE4lC,aAAAA;AACT,OAAC,CAAC,CAAA;MAEFM,oBAAoB,CAAEG,KAAK,KAAM;AAAE,QAAA,GAAGA,KAAK;AAAE3mB,QAAAA,WAAW,EAAE,KAAA;AAAM,OAAC,CAAC,CAAC,CAAA;KACpE,CAAA;IAED/O,iBAAiB,CACfs1B,YAAY,EACZ,CAAChiC,MAAM,CAAC1H,MAAM,CAAC,EACf;AACEiV,MAAAA,KAAK,EAAE,QAAQ;AACfC,MAAAA,QAAQ,EAAE,MAAM;AAChBxT,MAAAA,MAAM,EAAE,EAAA;AACV,KAAC,EACD,CAAC0T,YAAY,CACf,CAAC,CAAA;AAED,IAAA,OACE0J,IAAA,CAAA,KAAA,EAAA;AACEyO,MAAAA,SAAS,EAAErkB,UAAU,CAAC,0BAA0B,EAAE;QAChD,oBAAoB,EAAEy/B,aAAa,CAACxR,cAAAA;AACtC,OAAC,CAAE;MAAA72B,QAAA,EAAA,CACFspC,OAAO,GACN3/B,GAAA,CAAA,QAAA,EAAA;AACE1H,QAAAA,IAAI,EAAC,QAAQ;AACbiU,QAAAA,QAAQ,EAAEvN,QAAS;QACnBD,QAAQ,EAAEA,QAAQ,IAAIC,QAAS;AAC/BiB,QAAAA,KAAK,EAAC,uBAAuB;AAC7BmF,QAAAA,GAAG,EAAEq6B,YAAa;AAClBrpB,QAAAA,OAAO,EAAE0pB,SAAU;QAAAzpC,QAAA,EACnBwe,IAAA,CAAAsE,QAAA,EAAA;UAAA9iB,QAAA,EAAA,CACE2J,GAAA,CAACigC,MAAM,IAAE,CAAC,EAAA,GAAC,EAAC,SAAS,CAAA;SACrB,CAAA;AAAC,OACG,CAAC,GACP,IAAI,EACPnB,eAAe,GACd9+B,GAAA,CAAA,QAAA,EAAA;AAAQ1H,QAAAA,IAAI,EAAC,QAAQ;AAAC2H,QAAAA,KAAK,EAAC,4BAA4B;AAACmW,QAAAA,OAAO,EAAEwpB,MAAO;AAAAvpC,QAAAA,QAAA,EACtE6iB,WAAW,GACVrE,IAAA,CAAAsE,QAAA,EAAA;AAAA9iB,UAAAA,QAAA,EACE2J,CAAAA,GAAA,CAACkgC,SAAS,EAAE,EAAA,CAAC,EAAC,GAAA,EAAE,CAAcziC,YAAAA,EAAAA,MAAM,CAAC1H,MAAO,CAAE,CAAA,CAAA,CAAA;AAAA,SAC9C,CAAC,GAEH8e,IAAA,CAAAsE,QAAA,EAAA;UAAA9iB,QAAA,EAAA,CACE2J,GAAA,CAACmgC,WAAW,IAAE,CAAC,EAAA,GAAC,EAAC,UAAU,CAAA;SAC3B,CAAA;OAEE,CAAC,GACP,IAAI,CAAA;AAAA,KACL,CAAC,CAAA;AAEV,GAAA;EAEAtB,qBAAqBA,CAACthC,KAAK,EAAE;IAC3B,MAAM6iC,2BAA2B,GAAG,CAAC,CAAA;IAErC,MAAM;AAAExB,MAAAA,iBAAAA;AAAkB,KAAC,GAAGrhC,KAAK,CAAA;AAEnC,IAAA,OAAOqhC,iBAAiB,GAAGA,iBAAiB,GAAGwB,2BAA2B,CAAA;AAC5E,GAAA;AACF,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMZ,kBAAkB,GAAI5/B,KAAK,IAAK;EACpC,MAAM;IACJ2/B,SAAS;IACTD,SAAS;IACTD,2BAA2B;IAC3BX,aAAa;IACb3lB,YAAY;IACZtZ,OAAO;IACP0/B,YAAY;IACZF,UAAU;IACV,GAAGjmB,SAAAA;AACL,GAAC,GAAGpZ,KAAK,CAAA;AAET,EAAA,MAAMygC,YAAY,GAAG38B,OAAO,CAC1B,OAAO;AACL,IAAA,GAAGsV,SAAS;AACZvZ,IAAAA,OAAO,EAAE;AAAE,MAAA,IAAIA,OAAO,IAAI,EAAE;MAAG,CAACi/B,aAAa,CAACn/B,EAAE,GAAGggC,SAAAA;AAAU,KAAA;AAC/D,GAAC,CAAC,EACF,CAACA,SAAS,EAAE9/B,OAAO,EAAEi/B,aAAa,CAACn/B,EAAE,EAAEyZ,SAAS,CAClD,CAAC,CAAA;AAED,EAAA,MAAMsnB,0BAA0B,GAAG58B,OAAO,CACxC,OAAO;IACL3J,IAAI,EAAEslC,2BAA2B,CAACtlC,IAAI;AACtCW,IAAAA,IAAI,EAAE4kC,SAAS;AACf1mC,IAAAA,MAAM,EAAEsK,sBAAsB,CAACm8B,2BAA2B,CAAC;IAC3DhoC,CAAC,EAAE,CAAC,GAAGgoC,2BAA2B,CAAChoC,CAAC,EAAEkoC,SAAS,GAAG,CAAC,CAAA;GACpD,CAAC,EACF,CAACA,SAAS,EAAEF,2BAA2B,EAAEC,SAAS,CACpD,CAAC,CAAA;AAED,EAAA,OAAO,CAACL,UAAU,GAChBj/B,GAAA,CAACiB,sBAAsB,CAAC60B,QAAQ,EAAA;AAACt8B,IAAAA,KAAK,EAAE8mC,0BAA2B;IAAAjqC,QAAA,EACjE2J,GAAA,CAAC+Y,YAAY,EAAA;MAAA,GAAKsnB,YAAAA;KAAe,CAAA;GACF,CAAC,GAElCxrB,IAAA,CAAA,KAAA,EAAA;AAAK5U,IAAAA,KAAK,EAAC,0BAA0B;AAAA5J,IAAAA,QAAA,GACnC2J,GAAA,CAAA,KAAA,EAAA;AAAKC,MAAAA,KAAK,EAAC,qBAAqB;AAAA5J,MAAAA,QAAA,EAC9B2J,GAAA,CAACiB,sBAAsB,CAAC60B,QAAQ,EAAA;AAACt8B,QAAAA,KAAK,EAAE8mC,0BAA2B;QAAAjqC,QAAA,EACjE2J,GAAA,CAAC+Y,YAAY,EAAA;UAAA,GAAKsnB,YAAAA;SAAe,CAAA;OACF,CAAA;KAC9B,CAAC,EACNrgC,GAAA,CAAA,QAAA,EAAA;AACE1H,MAAAA,IAAI,EAAC,QAAQ;AACb2H,MAAAA,KAAK,EAAC,uBAAuB;AAC7B,MAAA,YAAA,EAAa,CAAmBs/B,iBAAAA,EAAAA,SAAS,GAAG,CAAE,CAAE,CAAA;AAChDnpB,MAAAA,OAAO,EAAEA,MAAM+oB,YAAY,CAACI,SAAS,CAAE;AAAAlpC,MAAAA,QAAA,EACvC2J,GAAA,CAAA,KAAA,EAAA;AAAKC,QAAAA,KAAK,EAAC,sCAAsC;AAAA5J,QAAAA,QAAA,EAC/C2J,GAAA,CAACugC,SAAS,EAAE,EAAA,CAAA;OACT,CAAA;AAAC,KACA,CAAC,CAAA;AAAA,GACN,CACN,CAAA;AACH,CAAC,CAAA;AAEDhC,mBAAmB,CAACrkC,OAAO,GAAG,CAAC,MAAM,EAAE,YAAY,EAAE,mBAAmB,EAAE,cAAc,CAAC;;AClQlF,MAAMsmC,kBAAkB,GAAG;EAChCtH,QAAQ,EAAE,CAAC,qBAAqB,CAAC;AACjC5gB,EAAAA,mBAAmB,EAAE,CAAC,MAAM,EAAEimB,mBAAmB,CAAA;AACnD;;ACGA,IAAIkC,MAAM,GAAG,MAAM,CAAA;AAEnB,IAAIC,gBAAgB,GAAG,IAAI,CAAA;AAE3B,IAAInoC,KAAK,GAAGtC,KAAK,CAACwkC,SAAS,CAACliC,KAAK,CAAA;;AAEjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACe,SAASooC,QAAQA,GAAG;AAEjC;AACF;AACA;AACE,EAAA,IAAI,CAACC,UAAU,GAAG,EAAE,CAAA;;AAEpB;AACA;AACA,EAAA,IAAI,CAAC/oB,EAAE,CAAC,iBAAiB,EAAE,CAAC,EAAE,IAAI,CAACgpB,QAAQ,EAAE,IAAI,CAAC,CAAA;AACpD,CAAA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAF,QAAQ,CAAClG,SAAS,CAAC5iB,EAAE,GAAG,UAASipB,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,EAAE;EAEjEH,MAAM,GAAG56B,OAAO,CAAC46B,MAAM,CAAC,GAAGA,MAAM,GAAG,CAAEA,MAAM,CAAE,CAAA;AAE9C,EAAA,IAAII,UAAU,CAACH,QAAQ,CAAC,EAAE;AACxBE,IAAAA,IAAI,GAAGD,QAAQ,CAAA;AACfA,IAAAA,QAAQ,GAAGD,QAAQ,CAAA;AACnBA,IAAAA,QAAQ,GAAGL,gBAAgB,CAAA;AAC7B,GAAA;AAEA,EAAA,IAAI,CAAC/wB,QAAQ,CAACoxB,QAAQ,CAAC,EAAE;AACvB,IAAA,MAAM,IAAIlnC,KAAK,CAAC,2BAA2B,CAAC,CAAA;AAC9C,GAAA;EAEA,IAAIsnC,cAAc,GAAGH,QAAQ,CAAA;AAE7B,EAAA,IAAIC,IAAI,EAAE;AACRE,IAAAA,cAAc,GAAG7H,IAAI,CAAC0H,QAAQ,EAAEC,IAAI,CAAC,CAAA;;AAErC;AACA;AACA;IACAE,cAAc,CAACV,MAAM,CAAC,GAAGO,QAAQ,CAACP,MAAM,CAAC,IAAIO,QAAQ,CAAA;AACvD,GAAA;EAEA,IAAII,IAAI,GAAG,IAAI,CAAA;AAEfN,EAAAA,MAAM,CAACphC,OAAO,CAAC,UAASoW,CAAC,EAAE;AACzBsrB,IAAAA,IAAI,CAACC,YAAY,CAACvrB,CAAC,EAAE;AACnBirB,MAAAA,QAAQ,EAAEA,QAAQ;AAClBC,MAAAA,QAAQ,EAAEG,cAAc;AACxB7F,MAAAA,IAAI,EAAE,IAAA;AACR,KAAC,CAAC,CAAA;AACJ,GAAC,CAAC,CAAA;AACJ,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAqF,QAAQ,CAAClG,SAAS,CAAC6G,IAAI,GAAG,UAASR,MAAM,EAAEC,QAAQ,EAAEC,QAAQ,EAAEC,IAAI,EAAE;EACnE,IAAIG,IAAI,GAAG,IAAI,CAAA;AAEf,EAAA,IAAIF,UAAU,CAACH,QAAQ,CAAC,EAAE;AACxBE,IAAAA,IAAI,GAAGD,QAAQ,CAAA;AACfA,IAAAA,QAAQ,GAAGD,QAAQ,CAAA;AACnBA,IAAAA,QAAQ,GAAGL,gBAAgB,CAAA;AAC7B,GAAA;AAEA,EAAA,IAAI,CAAC/wB,QAAQ,CAACoxB,QAAQ,CAAC,EAAE;AACvB,IAAA,MAAM,IAAIlnC,KAAK,CAAC,2BAA2B,CAAC,CAAA;AAC9C,GAAA;EAEA,SAAS0nC,eAAeA,GAAG;IACzBA,eAAe,CAACC,QAAQ,GAAG,IAAI,CAAA;IAE/B,IAAI9oC,MAAM,GAAGsoC,QAAQ,CAACS,KAAK,CAACR,IAAI,EAAE5E,SAAS,CAAC,CAAA;AAE5C+E,IAAAA,IAAI,CAACtpB,GAAG,CAACgpB,MAAM,EAAES,eAAe,CAAC,CAAA;AAEjC,IAAA,OAAO7oC,MAAM,CAAA;AACf,GAAA;;AAEA;AACA;AACA;AACA6oC,EAAAA,eAAe,CAACd,MAAM,CAAC,GAAGO,QAAQ,CAAA;EAElC,IAAI,CAACnpB,EAAE,CAACipB,MAAM,EAAEC,QAAQ,EAAEQ,eAAe,CAAC,CAAA;AAC5C,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAZ,QAAQ,CAAClG,SAAS,CAAC3iB,GAAG,GAAG,UAASgpB,MAAM,EAAEE,QAAQ,EAAE;EAElDF,MAAM,GAAG56B,OAAO,CAAC46B,MAAM,CAAC,GAAGA,MAAM,GAAG,CAAEA,MAAM,CAAE,CAAA;EAE9C,IAAIM,IAAI,GAAG,IAAI,CAAA;AAEfN,EAAAA,MAAM,CAACphC,OAAO,CAAC,UAASigB,KAAK,EAAE;AAC7ByhB,IAAAA,IAAI,CAACM,eAAe,CAAC/hB,KAAK,EAAEqhB,QAAQ,CAAC,CAAA;AACvC,GAAC,CAAC,CAAA;AAEJ,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACAL,QAAQ,CAAClG,SAAS,CAAC8B,WAAW,GAAG,UAASxiC,IAAI,EAAE;AAC9C,EAAA,IAAI4lB,KAAK,GAAG,IAAIgiB,aAAa,EAAE,CAAA;AAE/BhiB,EAAAA,KAAK,CAACrhB,IAAI,CAACvE,IAAI,CAAC,CAAA;AAEhB,EAAA,OAAO4lB,KAAK,CAAA;AACd,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAghB,QAAQ,CAAClG,SAAS,CAACxgC,IAAI,GAAG,UAAS3B,IAAI,EAAEyB,IAAI,EAAE;AAC7C,EAAA,IAAI4lB,KAAK,EACLiiB,aAAa,EACbC,WAAW,EACX30B,IAAI,CAAA;AAERA,EAAAA,IAAI,GAAG3U,KAAK,CAACupC,IAAI,CAACzF,SAAS,CAAC,CAAA;AAE5B,EAAA,IAAI,OAAO/jC,IAAI,KAAK,QAAQ,EAAE;AAC5ByB,IAAAA,IAAI,GAAGzB,IAAI,CAAA;IACXA,IAAI,GAAGyB,IAAI,CAACzB,IAAI,CAAA;AAClB,GAAA;EAEA,IAAI,CAACA,IAAI,EAAE;AACT,IAAA,MAAM,IAAIuB,KAAK,CAAC,yBAAyB,CAAC,CAAA;AAC5C,GAAA;AAEA+nC,EAAAA,aAAa,GAAG,IAAI,CAAChB,UAAU,CAACtoC,IAAI,CAAC,CAAA;EAErC,IAAI,CAACspC,aAAa,EAAE;AAClB,IAAA,OAAA;AACF,GAAA;;AAEA;AACA;EACA,IAAI7nC,IAAI,YAAY4nC,aAAa,EAAE;AAEjC;AACAhiB,IAAAA,KAAK,GAAG5lB,IAAI,CAAA;AACd,GAAC,MAAM;AACL4lB,IAAAA,KAAK,GAAG,IAAI,CAAC4c,WAAW,CAACxiC,IAAI,CAAC,CAAA;AAChC,GAAA;;AAEA;AACAmT,EAAAA,IAAI,CAAC,CAAC,CAAC,GAAGyS,KAAK,CAAA;;AAEf;AACA,EAAA,IAAIoiB,YAAY,GAAGpiB,KAAK,CAACrnB,IAAI,CAAA;;AAE7B;EACA,IAAIA,IAAI,KAAKypC,YAAY,EAAE;IACzBpiB,KAAK,CAACrnB,IAAI,GAAGA,IAAI,CAAA;AACnB,GAAA;EAEA,IAAI;IACFupC,WAAW,GAAG,IAAI,CAACG,gBAAgB,CAACriB,KAAK,EAAEzS,IAAI,EAAE00B,aAAa,CAAC,CAAA;AACjE,GAAC,SAAS;AAER;IACA,IAAItpC,IAAI,KAAKypC,YAAY,EAAE;MACzBpiB,KAAK,CAACrnB,IAAI,GAAGypC,YAAY,CAAA;AAC3B,KAAA;AACF,GAAA;;AAEA;AACA;AACA,EAAA,IAAIF,WAAW,KAAKlkC,SAAS,IAAIgiB,KAAK,CAACsiB,gBAAgB,EAAE;AACvDJ,IAAAA,WAAW,GAAG,KAAK,CAAA;AACrB,GAAA;AAEA,EAAA,OAAOA,WAAW,CAAA;AACpB,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,QAAQ,CAAClG,SAAS,CAACyH,WAAW,GAAG,UAASloC,KAAK,EAAE;AAC/C,EAAA,OAAO,IAAI,CAACC,IAAI,CAAC,OAAO,EAAE;AAAED,IAAAA,KAAK,EAAEA,KAAAA;GAAO,CAAC,KAAK,KAAK,CAAA;AACvD,CAAC,CAAA;AAGD2mC,QAAQ,CAAClG,SAAS,CAACoG,QAAQ,GAAG,YAAW;AACvC,EAAA,IAAI,CAACD,UAAU,GAAG,EAAE,CAAA;AACtB,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAD,QAAQ,CAAClG,SAAS,CAACuH,gBAAgB,GAAG,UAASriB,KAAK,EAAEzS,IAAI,EAAEi1B,QAAQ,EAAE;AAEpE,EAAA,IAAIN,WAAW,CAAA;AAEf,EAAA,OAAOM,QAAQ,EAAE;AAEf;IACA,IAAIxiB,KAAK,CAAC6c,YAAY,EAAE;AACtB,MAAA,MAAA;AACF,KAAA;IAEAqF,WAAW,GAAG,IAAI,CAACO,eAAe,CAACziB,KAAK,EAAEzS,IAAI,EAAEi1B,QAAQ,CAAC,CAAA;IAEzDA,QAAQ,GAAGA,QAAQ,CAAC7G,IAAI,CAAA;AAC1B,GAAA;AAEA,EAAA,OAAOuG,WAAW,CAAA;AACpB,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,QAAQ,CAAClG,SAAS,CAAC2H,eAAe,GAAG,UAASziB,KAAK,EAAEzS,IAAI,EAAEi1B,QAAQ,EAAE;AAEnE,EAAA,IAAIN,WAAW,CAAA;AAEf,EAAA,IAAIM,QAAQ,CAACnB,QAAQ,CAACQ,QAAQ,EAAE;AAC9B,IAAA,OAAOK,WAAW,CAAA;AACpB,GAAA;EAEA,IAAI;AAEF;IACAA,WAAW,GAAGQ,cAAc,CAACF,QAAQ,CAACnB,QAAQ,EAAE9zB,IAAI,CAAC,CAAA;;AAErD;IACA,IAAI20B,WAAW,KAAKlkC,SAAS,EAAE;MAC7BgiB,KAAK,CAACkiB,WAAW,GAAGA,WAAW,CAAA;MAC/BliB,KAAK,CAAC+M,eAAe,EAAE,CAAA;AACzB,KAAA;;AAEA;IACA,IAAImV,WAAW,KAAK,KAAK,EAAE;MACzBliB,KAAK,CAACtC,cAAc,EAAE,CAAA;AACxB,KAAA;GACD,CAAC,OAAOrjB,KAAK,EAAE;AACd,IAAA,IAAI,CAAC,IAAI,CAACkoC,WAAW,CAACloC,KAAK,CAAC,EAAE;AAC5BsoC,MAAAA,OAAO,CAACtoC,KAAK,CAAC,mCAAmC,EAAEA,KAAK,CAAC,CAAA;AAEzD,MAAA,MAAMA,KAAK,CAAA;AACb,KAAA;AACF,GAAA;AAEA,EAAA,OAAO6nC,WAAW,CAAA;AACpB,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACAlB,QAAQ,CAAClG,SAAS,CAAC4G,YAAY,GAAG,UAAS1hB,KAAK,EAAE4iB,WAAW,EAAE;AAE7D,EAAA,IAAIJ,QAAQ,GAAG,IAAI,CAACK,aAAa,CAAC7iB,KAAK,CAAC;IACpC8iB,gBAAgB,CAAA;;AAEpB;EACA,IAAI,CAACN,QAAQ,EAAE;AACb,IAAA,IAAI,CAACO,aAAa,CAAC/iB,KAAK,EAAE4iB,WAAW,CAAC,CAAA;AAEtC,IAAA,OAAA;AACF,GAAA;;AAEA;AACA;AACA,EAAA,OAAOJ,QAAQ,EAAE;AAEf,IAAA,IAAIA,QAAQ,CAACpB,QAAQ,GAAGwB,WAAW,CAACxB,QAAQ,EAAE;MAE5CwB,WAAW,CAACjH,IAAI,GAAG6G,QAAQ,CAAA;AAE3B,MAAA,IAAIM,gBAAgB,EAAE;QACpBA,gBAAgB,CAACnH,IAAI,GAAGiH,WAAW,CAAA;AACrC,OAAC,MAAM;AACL,QAAA,IAAI,CAACG,aAAa,CAAC/iB,KAAK,EAAE4iB,WAAW,CAAC,CAAA;AACxC,OAAA;AAEA,MAAA,OAAA;AACF,KAAA;AAEAE,IAAAA,gBAAgB,GAAGN,QAAQ,CAAA;IAC3BA,QAAQ,GAAGA,QAAQ,CAAC7G,IAAI,CAAA;AAC1B,GAAA;;AAEA;EACAmH,gBAAgB,CAACnH,IAAI,GAAGiH,WAAW,CAAA;AACrC,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA5B,QAAQ,CAAClG,SAAS,CAAC+H,aAAa,GAAG,UAAS9sC,IAAI,EAAE;AAChD,EAAA,OAAO,IAAI,CAACkrC,UAAU,CAAClrC,IAAI,CAAC,CAAA;AAC9B,CAAC,CAAA;;AAED;AACA;AACA;AACA;AACAirC,QAAQ,CAAClG,SAAS,CAACiI,aAAa,GAAG,UAAShtC,IAAI,EAAEysC,QAAQ,EAAE;AAC1D,EAAA,IAAI,CAACvB,UAAU,CAAClrC,IAAI,CAAC,GAAGysC,QAAQ,CAAA;AAClC,CAAC,CAAA;AAEDxB,QAAQ,CAAClG,SAAS,CAACiH,eAAe,GAAG,UAAS/hB,KAAK,EAAEqhB,QAAQ,EAAE;AAE7D,EAAA,IAAImB,QAAQ,GAAG,IAAI,CAACK,aAAa,CAAC7iB,KAAK,CAAC;IACpCgjB,YAAY;IACZF,gBAAgB;IAChBG,gBAAgB,CAAA;EAEpB,IAAI,CAAC5B,QAAQ,EAAE;AAEb;AACA,IAAA,IAAI,CAAC0B,aAAa,CAAC/iB,KAAK,EAAE,IAAI,CAAC,CAAA;AAE/B,IAAA,OAAA;AACF,GAAA;AAEA,EAAA,OAAOwiB,QAAQ,EAAE;IAEfQ,YAAY,GAAGR,QAAQ,CAAC7G,IAAI,CAAA;IAE5BsH,gBAAgB,GAAGT,QAAQ,CAACnB,QAAQ,CAAA;IAEpC,IAAI4B,gBAAgB,KAAK5B,QAAQ,IAAI4B,gBAAgB,CAACnC,MAAM,CAAC,KAAKO,QAAQ,EAAE;AAC1E,MAAA,IAAIyB,gBAAgB,EAAE;QACpBA,gBAAgB,CAACnH,IAAI,GAAGqH,YAAY,CAAA;AACtC,OAAC,MAAM;AAEL;AACA,QAAA,IAAI,CAACD,aAAa,CAAC/iB,KAAK,EAAEgjB,YAAY,CAAC,CAAA;AACzC,OAAA;AACF,KAAA;AAEAF,IAAAA,gBAAgB,GAAGN,QAAQ,CAAA;AAC3BA,IAAAA,QAAQ,GAAGQ,YAAY,CAAA;AACzB,GAAA;AACF,CAAC,CAAA;;AAED;AACA;AACA;AACA,SAAShB,aAAaA,GAAG,EAAE;AAE3BA,aAAa,CAAClH,SAAS,CAAC/N,eAAe,GAAG,YAAW;EACnD,IAAI,CAAC8P,YAAY,GAAG,IAAI,CAAA;AAC1B,CAAC,CAAA;AAEDmF,aAAa,CAAClH,SAAS,CAACpd,cAAc,GAAG,YAAW;EAClD,IAAI,CAAC4kB,gBAAgB,GAAG,IAAI,CAAA;AAC9B,CAAC,CAAA;AAEDN,aAAa,CAAClH,SAAS,CAACn8B,IAAI,GAAG,UAASvE,IAAI,EAAE;AAC5C2N,EAAAA,MAAM,CAAC,IAAI,EAAE3N,IAAI,IAAI,EAAE,CAAC,CAAA;AAC1B,CAAC,CAAA;;AAGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAASsoC,cAAcA,CAAC3/B,EAAE,EAAEwK,IAAI,EAAE;AAChC,EAAA,OAAOxK,EAAE,CAAC++B,KAAK,CAAC,IAAI,EAAEv0B,IAAI,CAAC,CAAA;AAC7B;;ACjmBA,MAAM21B,aAAa,GACjB,sIAAsI,CAAA;AACxI,MAAMC,aAAa,GACjB,wmCAAwmC,CAAA;AAE1mC,MAAMC,wBAAwB,GAAG,CAAC,KAAK,EAAE,KAAK,EAAE,WAAW,EAAE,WAAW,CAAC,CAAA;AAElE,MAAMC,SAAS,CAAC;EACrB5pC,WAAWA,CAACiK,kBAAkB,EAAEI,gBAAgB,EAAEmT,IAAI,EAAE2C,iBAAiB,EAAE;IACzE,IAAI,CAAC0pB,mBAAmB,GAAG5/B,kBAAkB,CAAA;IAC7C,IAAI,CAAC6/B,iBAAiB,GAAGz/B,gBAAgB,CAAA;IACzC,IAAI,CAAC85B,KAAK,GAAG3mB,IAAI,CAAA;IACjB,IAAI,CAACwgB,kBAAkB,GAAG7d,iBAAiB,CAAA;AAC7C,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACEmkB,EAAAA,aAAaA,CAACngC,KAAK,EAAE/D,KAAK,EAAE;IAC1B,MAAM;MAAElB,IAAI;AAAE2c,MAAAA,QAAAA;AAAS,KAAC,GAAG1X,KAAK,CAAA;IAEhC,IAAIuB,MAAM,GAAG,EAAE,CAAA;IAEf,IAAIxG,IAAI,KAAK,QAAQ,EAAE;AACrBwG,MAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGqkC,mBAAmB,CAAC5lC,KAAK,EAAE/D,KAAK,CAAC,CAAC,CAAA;AAC5D,KAAA;IAEA,IAAI,CAACyb,QAAQ,EAAE;AACb,MAAA,OAAOnW,MAAM,CAAA;AACf,KAAA;AAEA,IAAA,MAAMskC,mBAAmB,GAAGC,qBAAqB,CAC/CpuB,QAAQ,EACR,IAAI,CAACguB,mBAAmB,EACxB,IAAI,CAACC,iBAAiB,EACtB,IAAI,CAAC3F,KACP,CAAC,CAAA;AAEDz+B,IAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGwkC,mBAAmB,CAAC/lC,KAAK,EAAE6lC,mBAAmB,EAAE5pC,KAAK,CAAC,CAAC,CAAA;AAE/E,IAAA,OAAOsF,MAAM,CAAA;AACf,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEg/B,EAAAA,qBAAqBA,CAACrmB,aAAa,EAAEje,KAAK,EAAE;IAC1C,MAAM;MAAE+F,EAAE;AAAE+D,MAAAA,qBAAAA;AAAsB,KAAC,GAAGmU,aAAa,CAAA;IAEnD,MAAMla,KAAK,GAAG,IAAI,CAAC65B,kBAAkB,CAAC15B,GAAG,CAAC6B,EAAE,CAAC,CAAA;IAE7C,IAAI,CAAChC,KAAK,EAAE;AACV,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;IAEA,MAAM;MAAEjF,IAAI;AAAE2c,MAAAA,QAAAA;AAAS,KAAC,GAAG1X,KAAK,CAAA;IAEhC,IAAIuB,MAAM,GAAG,EAAE,CAAA;IAEf,IAAIxG,IAAI,KAAK,QAAQ,EAAE;AACrBwG,MAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGqkC,mBAAmB,CAAC5lC,KAAK,EAAE/D,KAAK,CAAC,CAAC,CAAA;AAC5D,KAAA;IAEA,IAAI,CAACyb,QAAQ,EAAE;AACb,MAAA,OAAOnW,MAAM,CAAA;AACf,KAAA;IAEA,MAAMskC,mBAAmB,GAAGG,kBAAkB,CAACtuB,QAAQ,EAAE,IAAI,CAACguB,mBAAmB,EAAE3/B,qBAAqB,CAAC,CAAA;AAEzGxE,IAAAA,MAAM,GAAG,CAAC,GAAGA,MAAM,EAAE,GAAGwkC,mBAAmB,CAAC/lC,KAAK,EAAE6lC,mBAAmB,EAAE5pC,KAAK,CAAC,CAAC,CAAA;AAE/E,IAAA,OAAOsF,MAAM,CAAA;AACf,GAAA;AACF,CAAA;AAEAkkC,SAAS,CAAC9oC,OAAO,GAAG,CAAC,oBAAoB,EAAE,kBAAkB,EAAE,MAAM,EAAE,mBAAmB,CAAC,CAAA;;AAE3F;;AAEA,SAASipC,mBAAmBA,CAAC5lC,KAAK,EAAE/D,KAAK,EAAE;EACzC,MAAM;IAAEyuB,aAAa;AAAEU,IAAAA,SAAAA;AAAU,GAAC,GAAGprB,KAAK,CAAA;EAC1C,MAAMuB,MAAM,GAAG,EAAE,CAAA;EAEjB,IAAItF,KAAK,KAAK,KAAK,EAAE;AACnBsF,IAAAA,MAAM,CAAC/G,IAAI,CAAC,wBAAwB,CAAC,CAAA;GACtC,MAAM,IAAIyB,KAAK,EAAE;IAChB,IAAIyuB,aAAa,IAAI,CAAC,IAAIV,aAAa,CAAC/tB,KAAK,CAAC,GAAGyuB,aAAa,EAAE;MAC9DnpB,MAAM,CAAC/G,IAAI,CACT,uBAAuB,IACpBkwB,aAAa,KAAK,CAAC,GAChB,eAAe,GACd,CAAA,aAAA,EAAeA,aAAc,CAAgBA,cAAAA,EAAAA,aAAa,GAAG,CAAC,GAAG,GAAG,GAAG,EAAG,CAAC,CAAA,CAAC,GACjF,GACJ,CAAC,CAAA;AACH,KAAA;AAEA,IAAA,IAAIU,SAAS,EAAE;AACb,MAAA,MAAM6a,QAAQ,GAAG/b,GAAG,CAACjuB,KAAK,CAAC,CAAA;AAC3B,MAAA,MAAMiqC,YAAY,GAAGhc,GAAG,CAACkB,SAAS,CAAC,CAAA;AAEnC,MAAA,MAAMlxB,MAAM,GAAG+rC,QAAQ,CAACzZ,GAAG,CAAC0Z,YAAY,CAAC,CAAA;MAEzC,IAAIhsC,MAAM,CAACyyB,GAAG,CAAC,CAAC,CAAC,KAAK,CAAC,EAAE;AACvB,QAAA,MAAMpC,aAAa,GAAG0b,QAAQ,CAAC1Z,KAAK,CAACryB,MAAM,CAAC,CAAA;AAC5C,QAAA,MAAMisC,SAAS,GAAG5b,aAAa,CAACkC,IAAI,CAACyZ,YAAY,CAAC,CAAA;QAElD3kC,MAAM,CAAC/G,IAAI,CAAE,CAAA,8DAAA,EAAgE+vB,aAAc,CAAO4b,KAAAA,EAAAA,SAAU,GAAE,CAAC,CAAA;AACjH,OAAA;AACF,KAAA;AACF,GAAA;AAEA,EAAA,OAAO5kC,MAAM,CAAA;AACf,CAAA;AAEA,SAASwkC,mBAAmBA,CAAC/lC,KAAK,EAAEomC,UAAU,EAAEnqC,KAAK,EAAE;EACrD,MAAMsF,MAAM,GAAG,EAAE,CAAA;AAEjB,EAAA,IAAI6kC,UAAU,CAACC,OAAO,IAAIpqC,KAAK,IAAI,CAAC,IAAIqqC,MAAM,CAACF,UAAU,CAACC,OAAO,CAAC,CAACvpC,IAAI,CAACb,KAAK,CAAC,EAAE;IAC9EsF,MAAM,CAAC/G,IAAI,CAAE,CAAA,yBAAA,EAA2B4rC,UAAU,CAACC,OAAQ,GAAE,CAAC,CAAA;AAChE,GAAA;EAEA,IAAID,UAAU,CAACpiC,QAAQ,EAAE;IACvB,MAAMuiC,mBAAmB,GAAGvmC,KAAK,CAACjF,IAAI,KAAK,UAAU,IAAIkB,KAAK,KAAK,KAAK,CAAA;IACxE,MAAMuqC,YAAY,GAAGv/B,KAAK,CAAChL,KAAK,CAAC,IAAIA,KAAK,KAAK,EAAE,CAAA;AACjD,IAAA,MAAMwqC,kBAAkB,GAAG/tC,KAAK,CAACiQ,OAAO,CAAC1M,KAAK,CAAC,IAAIA,KAAK,CAACzD,MAAM,KAAK,CAAC,CAAA;AAErE,IAAA,IAAI+tC,mBAAmB,IAAIC,YAAY,IAAIC,kBAAkB,EAAE;AAC7DllC,MAAAA,MAAM,CAAC/G,IAAI,CAAC,oBAAoB,CAAC,CAAA;AACnC,KAAA;AACF,GAAA;AAEA,EAAA,IAAI,KAAK,IAAI4rC,UAAU,KAAKnqC,KAAK,IAAIA,KAAK,KAAK,CAAC,CAAC,IAAIA,KAAK,GAAGmqC,UAAU,CAACxkB,GAAG,EAAE;IAC3ErgB,MAAM,CAAC/G,IAAI,CAAE,CAAA,iCAAA,EAAmC4rC,UAAU,CAACxkB,GAAI,GAAE,CAAC,CAAA;AACpE,GAAA;AAEA,EAAA,IAAI,KAAK,IAAIwkB,UAAU,KAAKnqC,KAAK,IAAIA,KAAK,KAAK,CAAC,CAAC,IAAIA,KAAK,GAAGmqC,UAAU,CAACvkB,GAAG,EAAE;IAC3EtgB,MAAM,CAAC/G,IAAI,CAAE,CAAA,iCAAA,EAAmC4rC,UAAU,CAACvkB,GAAI,GAAE,CAAC,CAAA;AACpE,GAAA;AAEA,EAAA,IAAI,WAAW,IAAIukB,UAAU,IAAInqC,KAAK,IAAIA,KAAK,CAACyP,IAAI,EAAE,CAAClT,MAAM,GAAG4tC,UAAU,CAACM,SAAS,EAAE;IACpFnlC,MAAM,CAAC/G,IAAI,CAAE,CAAA,kCAAA,EAAoC4rC,UAAU,CAACM,SAAU,GAAE,CAAC,CAAA;AAC3E,GAAA;AAEA,EAAA,IAAI,WAAW,IAAIN,UAAU,IAAInqC,KAAK,IAAIA,KAAK,CAACyP,IAAI,EAAE,CAAClT,MAAM,GAAG4tC,UAAU,CAACO,SAAS,EAAE;IACpFplC,MAAM,CAAC/G,IAAI,CAAE,CAAA,kCAAA,EAAoC4rC,UAAU,CAACO,SAAU,GAAE,CAAC,CAAA;AAC3E,GAAA;AAEA,EAAA,IAAI,gBAAgB,IAAIP,UAAU,IAAInqC,KAAK,IAAImqC,UAAU,CAACQ,cAAc,KAAK,OAAO,IAAI,CAACrB,aAAa,CAACzoC,IAAI,CAACb,KAAK,CAAC,EAAE;AAClHsF,IAAAA,MAAM,CAAC/G,IAAI,CAAC,0EAA0E,CAAC,CAAA;AACzF,GAAA;AAEA,EAAA,IAAI,gBAAgB,IAAI4rC,UAAU,IAAInqC,KAAK,IAAImqC,UAAU,CAACQ,cAAc,KAAK,OAAO,IAAI,CAACtB,aAAa,CAACxoC,IAAI,CAACb,KAAK,CAAC,EAAE;AAClHsF,IAAAA,MAAM,CAAC/G,IAAI,CAAC,8BAA8B,CAAC,CAAA;AAC7C,GAAA;AAEA,EAAA,OAAO+G,MAAM,CAAA;AACf,CAAA;AAEA,SAASykC,kBAAkBA,CAACtuB,QAAQ,EAAE5R,kBAAkB,EAAEC,qBAAqB,EAAE;AAC/E,EAAA,MAAM8gC,iBAAiB,GAAG;IAAE,GAAGnvB,QAAAA;GAAU,CAAA;AAEzC8tB,EAAAA,wBAAwB,CAACrjC,OAAO,CAAEzB,QAAQ,IAAK;AAC7C,IAAA,MAAMwD,IAAI,GAAGxD,QAAQ,CAACyD,KAAK,CAAC,GAAG,CAAC,CAAA;AAChC,IAAA,MAAMlI,KAAK,GAAGkE,GAAG,CAAC0mC,iBAAiB,EAAE3iC,IAAI,CAAC,CAAA;IAC1C,MAAM4iC,cAAc,GAAGjhC,uBAAuB,CAACC,kBAAkB,EAAE7J,KAAK,EAAE8J,qBAAqB,CAAC,CAAA;AAChG6f,IAAAA,GAAG,CAACihB,iBAAiB,EAAE3iC,IAAI,EAAE4iC,cAAc,KAAK,IAAI,GAAG1mC,SAAS,GAAG0mC,cAAc,CAAC,CAAA;AACpF,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOD,iBAAiB,CAAA;AAC1B,CAAA;AAEA,SAASf,qBAAqBA,CAACpuB,QAAQ,EAAE5R,kBAAkB,EAAEI,gBAAgB,EAAEmT,IAAI,EAAE;AACnF,EAAA,MAAMwtB,iBAAiB,GAAG;IAAE,GAAGnvB,QAAAA;GAAU,CAAA;AAEzC8tB,EAAAA,wBAAwB,CAACrjC,OAAO,CAAEzB,QAAQ,IAAK;AAC7C,IAAA,MAAMwD,IAAI,GAAGxD,QAAQ,CAACyD,KAAK,CAAC,GAAG,CAAC,CAAA;AAEhC,IAAA,MAAMlI,KAAK,GAAGkE,GAAG,CAAC0mC,iBAAiB,EAAE3iC,IAAI,CAAC,CAAA;;AAE1C;IACA,IAAI,CAAC4B,kBAAkB,IAAI,CAACA,kBAAkB,CAAC9J,YAAY,CAACC,KAAK,CAAC,EAAE;AAClE,MAAA,OAAOA,KAAK,CAAA;AACd,KAAA;IAEA,MAAM;MAAEoM,WAAW;AAAE7L,MAAAA,IAAAA;AAAK,KAAC,GAAG6c,IAAI,CAAC/Q,SAAS,EAAE,CAAA;AAE9C,IAAA,MAAMgG,OAAO,GAAGpI,gBAAgB,GAAGA,gBAAgB,CAACqI,eAAe,CAAC/R,IAAI,EAAEA,IAAI,CAAC,GAAGA,IAAI,CAAA;AACtF,IAAA,MAAMuqC,YAAY,GAAG;AAAE,MAAA,GAAG1+B,WAAW;MAAE,GAAGiG,OAAAA;KAAS,CAAA;IAEnD,MAAMw4B,cAAc,GAAGhhC,kBAAkB,CAACvJ,QAAQ,CAACN,KAAK,EAAE8qC,YAAY,CAAC,CAAA;;AAEvE;AACA,IAAA,IAAID,cAAc,EAAE;AAClBlhB,MAAAA,GAAG,CAACihB,iBAAiB,EAAE3iC,IAAI,EAAE4iC,cAAc,CAAC,CAAA;AAC9C,KAAA;AACF,GAAC,CAAC,CAAA;AAEF,EAAA,OAAOD,iBAAiB,CAAA;AAC1B;;AChNO,MAAMG,QAAQ,CAAC;AACpB;AACF;AACA;AACA;AACA;AACA;AACA;EACEnrC,WAAWA,CAACmgB,iBAAiB,EAAE5C,YAAY,EAAE6tB,YAAY,EAAElrB,YAAY,EAAE;IACvE,IAAI,CAAC8d,kBAAkB,GAAG7d,iBAAiB,CAAA;IAC3C,IAAI,CAAC8d,aAAa,GAAG1gB,YAAY,CAAA;IACjC,IAAI,CAAC8tB,aAAa,GAAGD,YAAY,CAAA;IACjC,IAAI,CAACE,aAAa,GAAGprB,YAAY,CAAA;AACnC,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEqrB,YAAYA,CAACrP,MAAM,EAAE;AACnB;IACA,MAAMsP,QAAQ,GAAG,EAAE,CAAA;IAEnB,IAAI;MACF,IAAI,CAACC,QAAQ,EAAE,CAAA;MACf,MAAMC,cAAc,GAAG,IAAI,CAACC,eAAe,CAAC1iC,KAAK,CAACizB,MAAM,CAAC,CAAC,CAAA;MAC1D,IAAI,CAACoP,aAAa,CAACM,eAAe,CAAC3iC,KAAK,CAACyiC,cAAc,CAAC,CAAC,CAAA;MAEzD,OAAO;AACLxP,QAAAA,MAAM,EAAEwP,cAAc;AACtBF,QAAAA,QAAAA;OACD,CAAA;KACF,CAAC,OAAO5pC,GAAG,EAAE;MACZ,IAAI,CAAC6pC,QAAQ,EAAE,CAAA;MACf7pC,GAAG,CAAC4pC,QAAQ,GAAGA,QAAQ,CAAA;AACvB,MAAA,MAAM5pC,GAAG,CAAA;AACX,KAAA;AACF,GAAA;AAEA6pC,EAAAA,QAAQA,GAAG;AACT,IAAA,IAAI,CAACH,aAAa,CAAClK,KAAK,EAAE,CAAA;AAC1B,IAAA,IAAI,CAACpD,kBAAkB,CAACoD,KAAK,EAAE,CAAA;AAC/B,IAAA,IAAI,CAACnD,aAAa,CAACmD,KAAK,EAAE,CAAA;AAC5B,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACEuK,EAAAA,eAAeA,CAACE,UAAU,EAAE7rB,QAAQ,EAAEviB,KAAK,EAAE;IAC3C,MAAM;AAAE8L,MAAAA,UAAAA;AAAW,KAAC,GAAGsiC,UAAU,CAAA;IAEjC,IAAIrsC,MAAM,EAAE6I,IAAI,CAAA;AAEhB,IAAA,IAAI2X,QAAQ,EAAE;MACZxgB,MAAM,GAAG,IAAI,CAACw+B,kBAAkB,CAAC15B,GAAG,CAAC0b,QAAQ,CAAC,CAAA;AAChD,KAAA;;AAEA;AACA3X,IAAAA,IAAI,GAAG7I,MAAM,GAAG,CAAC,GAAGA,MAAM,CAACqhB,KAAK,EAAE,YAAY,EAAEpjB,KAAK,CAAC,GAAG,EAAE,CAAA;AAE3D,IAAA,MAAM0G,KAAK,GAAG,IAAI,CAACknC,aAAa,CAACpkC,MAAM,CACrC;AACE,MAAA,GAAG4kC,UAAU;AACbhrB,MAAAA,KAAK,EAAExY,IAAI;AACXy1B,MAAAA,OAAO,EAAE9d,QAAAA;KACV,EACD,KACF,CAAC,CAAA;AAED,IAAA,IAAI,CAACge,kBAAkB,CAACv/B,GAAG,CAAC0F,KAAK,CAAC,CAAA;AAElC,IAAA,IAAIoF,UAAU,EAAE;AACdpF,MAAAA,KAAK,CAACoF,UAAU,GAAG,IAAI,CAACuiC,gBAAgB,CAACviC,UAAU,EAAEpF,KAAK,CAACgC,EAAE,CAAC,CAAA;AAChE,KAAA;AAEA,IAAA,OAAOhC,KAAK,CAAA;AACd,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACE2nC,EAAAA,gBAAgBA,CAACviC,UAAU,EAAEyW,QAAQ,EAAE;IACrC,OAAOzW,UAAU,CAACjL,GAAG,CAAC,CAACkL,SAAS,EAAE/L,KAAK,KAAK;MAC1C,OAAO,IAAI,CAACkuC,eAAe,CAACniC,SAAS,EAAEwW,QAAQ,EAAEviB,KAAK,CAAC,CAAA;AACzD,KAAC,CAAC,CAAA;AACJ,GAAA;AACF,CAAA;AAEA0tC,QAAQ,CAACrqC,OAAO,GAAG,CAAC,mBAAmB,EAAE,cAAc,EAAE,cAAc,EAAE,cAAc,CAAC;;AC3GjF,MAAMirC,YAAY,CAAC;AACxB;AACF;AACA;AACA;AACA;AACA;AACE/rC,EAAAA,WAAWA,CAACmgB,iBAAiB,EAAE5C,YAAY,EAAEH,UAAU,EAAE;IACvD,IAAI,CAAC4gB,kBAAkB,GAAG7d,iBAAiB,CAAA;IAC3C,IAAI,CAAC8d,aAAa,GAAG1gB,YAAY,CAAA;IACjC,IAAI,CAACqf,WAAW,GAAGxf,UAAU,CAAA;AAC/B,GAAA;AAEAnW,EAAAA,MAAMA,CAAC+kC,KAAK,EAAEC,aAAa,GAAG,IAAI,EAAE;IAClC,MAAM;MAAE9lC,EAAE;MAAEjH,IAAI;MAAEqJ,GAAG;MAAEF,IAAI;AAAEy1B,MAAAA,OAAAA;AAAQ,KAAC,GAAGkO,KAAK,CAAA;IAE9C,MAAME,eAAe,GAAG,IAAI,CAACtP,WAAW,CAACt4B,GAAG,CAACpF,IAAI,CAAC,CAAA;IAElD,IAAI,CAACgtC,eAAe,EAAE;AACpB,MAAA,MAAM,IAAIzrC,KAAK,CAAE,CAAsBvB,oBAAAA,EAAAA,IAAK,iBAAgB,CAAC,CAAA;AAC/D,KAAA;IAEA,MAAM;AAAE4H,MAAAA,MAAAA;AAAO,KAAC,GAAGolC,eAAe,CAAA;IAElC,IAAI,CAACplC,MAAM,EAAE;AACX,MAAA,MAAM,IAAIrG,KAAK,CAAE,CAAsBvB,oBAAAA,EAAAA,IAAK,iBAAgB,CAAC,CAAA;AAC/D,KAAA;AAEA,IAAA,IAAIiH,EAAE,IAAI,IAAI,CAAC63B,kBAAkB,CAACmO,IAAI,CAACC,QAAQ,CAACjmC,EAAE,CAAC,EAAE;AACnD,MAAA,MAAM,IAAI1F,KAAK,CAAE,CAAsB0F,oBAAAA,EAAAA,EAAG,kBAAiB,CAAC,CAAA;AAC9D,KAAA;;AAEA;;IAEA,MAAM3G,MAAM,GAAGs+B,OAAO,IAAI,IAAI,CAACE,kBAAkB,CAAC15B,GAAG,CAACw5B,OAAO,CAAC,CAAA;AAC9D,IAAA,MAAMuO,UAAU,GAAI7sC,MAAM,IAAI,IAAI,CAACy+B,aAAa,CAACjgB,YAAY,CAACxe,MAAM,CAAC,IAAK,EAAE,CAAA;IAC5E,MAAM8sC,gBAAgB,GAAG5O,eAAe,CAACI,OAAO,EAAE,IAAI,CAACE,kBAAkB,CAAC,CAAA;IAE1E,IACEl3B,MAAM,CAACC,KAAK,IACZwB,GAAG,IACH,CAAC,IAAI,CAAC01B,aAAa,CAACsO,YAAY,CAAC,CAAC,GAAGF,UAAU,EAAE,GAAG9jC,GAAG,CAACD,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;AACnEu2B,MAAAA,QAAQ,EAAE,IAAI;AACdyN,MAAAA,gBAAAA;AACF,KAAC,CAAC,EACF;AACA,MAAA,MAAM,IAAI7rC,KAAK,CAAE,CAAgB,cAAA,EAAA,CAAC,GAAG4rC,UAAU,EAAE9jC,GAAG,CAAC,CAAC2F,IAAI,CAAC,GAAG,CAAE,sBAAqB,CAAC,CAAA;AACxF,KAAA;IAEA,IACEpH,MAAM,CAACsjB,MAAM,IACb/hB,IAAI,IACJ,CAAC,IAAI,CAAC41B,aAAa,CAACsO,YAAY,CAAC,CAAC,GAAGF,UAAU,EAAE,GAAGhkC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,EAAE;MACpEw2B,YAAY,EAAEh4B,MAAM,CAAC+sB,UAAU;AAC/ByY,MAAAA,gBAAAA;AACF,KAAC,CAAC,EACF;MACA,MAAM,IAAI7rC,KAAK,CAAE,CAAA,cAAA,EAAgB,CAAC,GAAG4rC,UAAU,EAAE,GAAGhkC,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC4F,IAAI,CAAC,GAAG,CAAE,CAAA,oBAAA,CAAqB,CAAC,CAAA;AACvG,KAAA;AAEA,IAAA,MAAMs+B,UAAU,GACdP,aAAa,IAAInlC,MAAM,CAAC7C,KAAK,GACzB;MACEA,KAAK,EAAE6C,MAAM,CAAC7C,KAAAA;KACf,GACD,EAAE,CAAA;AAER,IAAA,MAAME,KAAK,GAAG2C,MAAM,CAACG,MAAM,CAAC;AAC1B,MAAA,GAAGulC,UAAU;MACb,GAAGR,KAAAA;AACL,KAAC,CAAC,CAAA;AAEF,IAAA,IAAI,CAACS,SAAS,CAACtoC,KAAK,CAAC,CAAA;IAErB,IAAI2C,MAAM,CAACC,KAAK,EAAE;AAChB,MAAA,IAAI,CAAC2lC,UAAU,CAACvoC,KAAK,CAAC,CAAA;AACtB,MAAA,IAAI,CAAC85B,aAAa,CAAC0O,SAAS,CAAC,IAAI,CAAC1O,aAAa,CAACjgB,YAAY,CAAC7Z,KAAK,CAAC,EAAE;AACnE06B,QAAAA,QAAQ,EAAE,IAAI;QACd+N,SAAS,EAAEzoC,KAAK,CAACgC,EAAE;AACnBmmC,QAAAA,gBAAgB,EAAE5O,eAAe,CAACI,OAAO,EAAE,IAAI,CAACE,kBAAkB,CAAA;AACpE,OAAC,CAAC,CAAA;AACJ,KAAA;IAEA,IAAIl3B,MAAM,CAACsjB,MAAM,EAAE;MACjB,IAAItjB,MAAM,CAAC+sB,UAAU,EAAE;AACrB,QAAA,IAAI,CAACgZ,mBAAmB,CAAC1oC,KAAK,CAAC,CAAA;AACjC,OAAA;MAEA,IAAIA,KAAK,CAACkE,IAAI,EAAE;AACd,QAAA,IAAI,CAAC41B,aAAa,CAAC0O,SAAS,CAAC,IAAI,CAAC1O,aAAa,CAACjgB,YAAY,CAAC7Z,KAAK,CAAC,EAAE;UACnE26B,YAAY,EAAEh4B,MAAM,CAAC+sB,UAAU;UAC/B+Y,SAAS,EAAEzoC,KAAK,CAACgC,EAAE;AACnBmmC,UAAAA,gBAAgB,EAAE5O,eAAe,CAACI,OAAO,EAAE,IAAI,CAACE,kBAAkB,CAAA;AACpE,SAAC,CAAC,CAAA;AACJ,OAAA;AACF,KAAA;AAEA,IAAA,OAAO75B,KAAK,CAAA;AACd,GAAA;EAEAsoC,SAASA,CAACtoC,KAAK,EAAE;IACf,IAAIA,KAAK,CAACgC,EAAE,EAAE;AACZ,MAAA,IAAI,CAAC63B,kBAAkB,CAACmO,IAAI,CAACW,KAAK,CAAC3oC,KAAK,CAACgC,EAAE,EAAEhC,KAAK,CAAC,CAAA;AAEnD,MAAA,OAAA;AACF,KAAA;IAEA,IAAIiB,MAAM,GAAG,OAAO,CAAA;AAEpB,IAAA,IAAIjB,KAAK,CAACjF,IAAI,KAAK,SAAS,EAAE;AAC5BkG,MAAAA,MAAM,GAAG,MAAM,CAAA;AACjB,KAAA;AAEAjB,IAAAA,KAAK,CAACgC,EAAE,GAAG,IAAI,CAAC63B,kBAAkB,CAACmO,IAAI,CAACY,YAAY,CAAE,CAAE3nC,EAAAA,MAAO,CAAE,CAAA,CAAA,EAAEjB,KAAK,CAAC,CAAA;AAC3E,GAAA;EAEAuoC,UAAUA,CAACvoC,KAAK,EAAE;AAChB,IAAA,IAAI,CAACA,KAAK,CAACoE,GAAG,EAAE;MACdpE,KAAK,CAACoE,GAAG,GAAG,IAAI,CAACykC,iBAAiB,CAAC7oC,KAAK,CAAC,CAAA;AAC3C,KAAA;AACF,GAAA;EAEA0oC,mBAAmBA,CAAC1oC,KAAK,EAAE;AACzB,IAAA,IAAI,CAACA,KAAK,CAACkE,IAAI,EAAE;MACflE,KAAK,CAACkE,IAAI,GAAG,IAAI,CAAC2kC,iBAAiB,CAAC7oC,KAAK,CAAC,CAAA;AAC5C,KAAA;AACF,GAAA;EAEA6oC,iBAAiBA,CAAC7oC,KAAK,EAAE;AACvB,IAAA,IAAI8oC,MAAM,CAAA;IACV,MAAMztC,MAAM,GAAG,IAAI,CAACw+B,kBAAkB,CAAC15B,GAAG,CAACH,KAAK,CAAC25B,OAAO,CAAC,CAAA;;AAEzD;IACA,GAAG;AACDmP,MAAAA,MAAM,GAAGv3B,IAAI,CAACu3B,MAAM,EAAE,CAAC1zB,QAAQ,CAAC,EAAE,CAAC,CAAC3J,SAAS,CAAC,CAAC,CAAC,CAAA;AAClD,KAAC,QAAQpQ,MAAM,IAAIA,MAAM,CAAC+J,UAAU,CAAC/K,IAAI,CAAEpB,KAAK,IAAKA,KAAK,CAACmL,GAAG,KAAK0kC,MAAM,CAAC,EAAA;AAE1E,IAAA,OAAQ,GAAE9oC,KAAK,CAACjF,IAAK,CAAA,CAAA,EAAG+tC,MAAO,CAAC,CAAA,CAAA;AAClC,GAAA;AACF,CAAA;AAEAlB,YAAY,CAACjrC,OAAO,GAAG,CAAC,mBAAmB,EAAE,cAAc,EAAE,YAAY,CAAC;;AC5I1E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMosC,YAAY,CAAC;AACxBltC,EAAAA,WAAWA,CAACmgB,iBAAiB,EAAE/C,UAAU,EAAEpY,QAAQ,EAAE;IACnD,IAAI,CAACg5B,kBAAkB,GAAG7d,iBAAiB,CAAA;IAC3C,IAAI,CAACyc,WAAW,GAAGxf,UAAU,CAAA;IAC7B,IAAI,CAAC8jB,SAAS,GAAGl8B,QAAQ,CAAA;IACzB,IAAI,CAACmoC,UAAU,GAAG,EAAE,CAAA;AACtB,GAAA;AAEAZ,EAAAA,YAAYA,CAAClkC,IAAI,EAAE3M,OAAO,GAAG,EAAE,EAAE;IAC/B,MAAM;AACJmjC,MAAAA,QAAQ,GAAG,KAAK;AAChBC,MAAAA,YAAY,GAAG,KAAK;AACpBsO,MAAAA,iBAAiB,GAAG,KAAK;AACzBR,MAAAA,SAAS,GAAG,IAAI;AAChBN,MAAAA,gBAAgB,GAAG,EAAA;AACrB,KAAC,GAAG5wC,OAAO,CAAA;AAEX,IAAA,IAAIW,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACkwC,UAAAA;KAAY,CAAA;;AAExC;AACA;AACA,IAAA,KAAK,MAAME,OAAO,IAAIhlC,IAAI,EAAE;AAC1BhM,MAAAA,IAAI,GAAGixC,eAAe,CAACjxC,IAAI,EAAEgxC,OAAO,CAAC,CAAA;MAErC,IAAI,CAAChxC,IAAI,EAAE;AACT,QAAA,OAAO,IAAI,CAAA;AACb,OAAA;AAEA,MAAA,IAAIA,IAAI,CAACyiC,YAAY,IAAI,CAACsO,iBAAiB,EAAE;AAC3C,QAAA,IAAI,EAAER,SAAS,IAAIN,gBAAgB,CAAC3vC,MAAM,CAAC,EAAE;AAC3C,UAAA,MAAM,IAAI8D,KAAK,CACb,iGACF,CAAC,CAAA;AACH,SAAA;QAEA,MAAM8sC,kBAAkB,GACtBjB,gBAAgB,CAACzwC,QAAQ,CAACQ,IAAI,CAACmxC,UAAU,CAAC,IACzCZ,SAAS,IAAIlP,eAAe,CAACkP,SAAS,EAAE,IAAI,CAAC5O,kBAAkB,CAAC,CAACniC,QAAQ,CAACQ,IAAI,CAACmxC,UAAU,CAAE,CAAA;QAE9F,IAAI,CAACD,kBAAkB,EAAE;AACvB,UAAA,OAAO,KAAK,CAAA;AACd,SAAA;AACF,OAAA;AAEA,MAAA,IAAIlxC,IAAI,CAACY,QAAQ,KAAK,IAAI,EAAE;AAC1B,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;AACF,KAAA;;AAEA;AACA,IAAA,OAAO,EAAE4hC,QAAQ,IAAIC,YAAY,CAAC,CAAA;AACpC,GAAA;AAEA6N,EAAAA,SAASA,CAACtkC,IAAI,EAAE3M,OAAO,GAAG,EAAE,EAAE;IAC5B,MAAM;AAAEmjC,MAAAA,QAAQ,GAAG,KAAK;AAAEC,MAAAA,YAAY,GAAG,KAAK;AAAE8N,MAAAA,SAAS,GAAG,IAAI;AAAEN,MAAAA,gBAAgB,GAAG,EAAA;AAAG,KAAC,GAAG5wC,OAAO,CAAA;AAEnG,IAAA,IAAI,CAAC,IAAI,CAAC6wC,YAAY,CAAClkC,IAAI,EAAE;MAAEw2B,QAAQ;MAAEC,YAAY;MAAE8N,SAAS;AAAEN,MAAAA,gBAAAA;AAAiB,KAAC,CAAC,EAAE;MACrF,MAAM,IAAI7rC,KAAK,CAAE,CAAqB4H,mBAAAA,EAAAA,IAAI,CAAC6F,IAAI,CAAC,GAAG,CAAE,CAAA,CAAA,CAAE,CAAC,CAAA;AAC1D,KAAA;AAEA,IAAA,IAAI7R,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACkwC,UAAAA;KAAY,CAAA;AAExC,IAAA,KAAK,MAAME,OAAO,IAAIhlC,IAAI,EAAE;AAC1B,MAAA,IAAIjL,KAAK,GAAGkwC,eAAe,CAACjxC,IAAI,EAAEgxC,OAAO,CAAC,CAAA;MAE1C,IAAI,CAACjwC,KAAK,EAAE;AACVA,QAAAA,KAAK,GAAG;UAAEiwC,OAAO;AAAEI,UAAAA,UAAU,EAAE,CAAC;AAAExwC,UAAAA,QAAQ,EAAE,EAAA;SAAI,CAAA;AAChDZ,QAAAA,IAAI,CAACY,QAAQ,CAAC0B,IAAI,CAACvB,KAAK,CAAC,CAAA;AAC3B,OAAC,MAAM;QACLA,KAAK,CAACqwC,UAAU,EAAE,CAAA;AACpB,OAAA;AAEApxC,MAAAA,IAAI,GAAGe,KAAK,CAAA;AACd,KAAA;AAEA,IAAA,IAAIyhC,QAAQ,EAAE;MACZxiC,IAAI,CAACY,QAAQ,GAAG,IAAI,CAAA;AACtB,KAAA;;AAEA;AACA,IAAA,IAAI6hC,YAAY,EAAE;MAChBziC,IAAI,CAACyiC,YAAY,GAAG,IAAI,CAAA;MACxBziC,IAAI,CAACmxC,UAAU,GAAGZ,SAAS,CAAA;AAC7B,KAAA;AACF,GAAA;EAEAc,WAAWA,CAACrlC,IAAI,EAAE;AAChB;AACA,IAAA,IAAIhM,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACkwC,UAAAA;KAAY,CAAA;AACxC,IAAA,KAAK,MAAME,OAAO,IAAIhlC,IAAI,EAAE;AAC1B,MAAA,MAAMjL,KAAK,GAAGkwC,eAAe,CAACjxC,IAAI,EAAEgxC,OAAO,CAAC,CAAA;MAC5C,IAAI,CAACjwC,KAAK,EAAE;QACV,MAAM,IAAIqD,KAAK,CAAE,CAA0B4H,wBAAAA,EAAAA,IAAI,CAAC6F,IAAI,CAAC,GAAG,CAAE,CAAA,CAAA,CAAE,CAAC,CAAA;AAC/D,OAAA;AACA7R,MAAAA,IAAI,GAAGe,KAAK,CAAA;AACd,KAAA;;AAEA;AACAf,IAAAA,IAAI,GAAG;MAAEY,QAAQ,EAAE,IAAI,CAACkwC,UAAAA;KAAY,CAAA;AACpC,IAAA,KAAK,MAAME,OAAO,IAAIhlC,IAAI,EAAE;AAC1B,MAAA,MAAMjL,KAAK,GAAGkwC,eAAe,CAACjxC,IAAI,EAAEgxC,OAAO,CAAC,CAAA;MAE5CjwC,KAAK,CAACqwC,UAAU,EAAE,CAAA;AAElB,MAAA,IAAIrwC,KAAK,CAACqwC,UAAU,KAAK,CAAC,EAAE;AAC1BpxC,QAAAA,IAAI,CAACY,QAAQ,CAAC8mC,MAAM,CAAC1nC,IAAI,CAACY,QAAQ,CAAC8S,OAAO,CAAC3S,KAAK,CAAC,EAAE,CAAC,CAAC,CAAA;AACrD,QAAA,MAAM;AACR,OAAA;AAEAf,MAAAA,IAAI,GAAGe,KAAK,CAAA;AACd,KAAA;AACF,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;EACEwhC,0BAA0BA,CAACz6B,KAAK,EAAEmF,EAAE,EAAE9H,OAAO,GAAG,EAAE,EAAE;IAClD,IAAIlC,MAAM,GAAG,IAAI,CAAA;AAEjB,IAAA,MAAMquC,eAAe,GAAG,IAAI,CAAC/Q,WAAW,CAACt4B,GAAG,CAACH,KAAK,CAACjF,IAAI,CAAC,CAAC4H,MAAM,CAAA;IAE/D,IAAI6mC,eAAe,CAAC5mC,KAAK,EAAE;MACzB,MAAM6mC,UAAU,GAAGtkC,EAAE,CAAC;QAAEnF,KAAK;AAAE06B,QAAAA,QAAQ,EAAE,IAAI;AAAEC,QAAAA,YAAY,EAAE,KAAK;AAAEt9B,QAAAA,OAAAA;AAAQ,OAAC,CAAC,CAAA;MAC9E,OAAOlC,MAAM,IAAIsuC,UAAU,CAAA;AAC7B,KAAC,MAAM,IAAID,eAAe,CAACvjB,MAAM,EAAE;MACjC,MAAMwjB,UAAU,GAAGtkC,EAAE,CAAC;QAAEnF,KAAK;AAAE06B,QAAAA,QAAQ,EAAE,KAAK;QAAEC,YAAY,EAAE6O,eAAe,CAAC9Z,UAAU;AAAEryB,QAAAA,OAAAA;AAAQ,OAAC,CAAC,CAAA;MACpGlC,MAAM,GAAGA,MAAM,IAAIsuC,UAAU,CAAA;AAC/B,KAAA;;AAEA;AACA,IAAA,IAAItuC,MAAM,KAAK,KAAK,IAAIkC,OAAO,CAACy9B,gBAAgB,EAAE;AAChD,MAAA,OAAO3/B,MAAM,CAAA;AACf,KAAA;IAEA,IAAIzC,KAAK,CAACiQ,OAAO,CAAC3I,KAAK,CAACoF,UAAU,CAAC,EAAE;AACnC,MAAA,KAAK,MAAMnM,KAAK,IAAI+G,KAAK,CAACoF,UAAU,EAAE;AACpC,QAAA,MAAMqkC,UAAU,GAAG,IAAI,CAAChP,0BAA0B,CAACxhC,KAAK,EAAEkM,EAAE,EAAEL,KAAK,CAACzH,OAAO,CAAC,CAAC,CAAA;QAC7ElC,MAAM,GAAGA,MAAM,IAAIsuC,UAAU,CAAA;;AAE7B;QACA,IAAItuC,MAAM,KAAK,KAAK,EAAE;AACpB,UAAA,OAAOA,MAAM,CAAA;AACf,SAAA;AACF,OAAA;AACF,KAAA;AAEA,IAAA,OAAOA,MAAM,CAAA;AACf,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACE0e,EAAAA,YAAYA,CAAC7Z,KAAK,EAAEzI,OAAO,GAAG,EAAE,EAAE;IAChC,MAAM;MAAEmyC,YAAY,GAAG,EAAE;AAAExnC,MAAAA,OAAO,GAAG,IAAI;AAAEynC,MAAAA,UAAU,GAAG,IAAA;AAAK,KAAC,GAAGpyC,OAAO,CAAA;IAExE,IAAIqyC,cAAc,GAAG,EAAE,CAAA;AAEvB,IAAA,MAAMC,cAAc,GAAGvxC,MAAM,CAAC4kC,SAAS,CAAC4M,cAAc,CAACvF,IAAI,CAACmF,YAAY,EAAE1pC,KAAK,CAACgC,EAAE,CAAC,CAAA;AACnF,IAAA,MAAMwnC,eAAe,GAAG,IAAI,CAAC/Q,WAAW,CAACt4B,GAAG,CAACH,KAAK,CAACjF,IAAI,CAAC,CAAC4H,MAAM,CAAA;;AAE/D;AACA,IAAA,IAAIknC,cAAc,EAAE;AAClB,MAAA,MAAME,WAAW,GAAGL,YAAY,CAAC1pC,KAAK,CAACgC,EAAE,CAAC,CAAA;MAE1C,IAAI+nC,WAAW,KAAK,IAAI,IAAIA,WAAW,KAAK3pC,SAAS,IAAI2pC,WAAW,KAAK,EAAE,EAAE;AAC3EH,QAAAA,cAAc,GAAG,EAAE,CAAA;AACrB,OAAC,MAAM,IAAI,OAAOG,WAAW,KAAK,QAAQ,EAAE;AAC1CH,QAAAA,cAAc,GAAGG,WAAW,CAAC5lC,KAAK,CAAC,GAAG,CAAC,CAAA;OACxC,MAAM,IAAIzL,KAAK,CAACiQ,OAAO,CAACohC,WAAW,CAAC,EAAE;AACrCH,QAAAA,cAAc,GAAGG,WAAW,CAAA;AAC9B,OAAC,MAAM;QACL,MAAM,IAAIztC,KAAK,CAAE,CAAA,uBAAA,EAAyB0D,KAAK,CAACgC,EAAG,4CAA2C,CAAC,CAAA;AACjG,OAAA;AACF,KAAC,MAAM,IAAIwnC,eAAe,CAAC5mC,KAAK,EAAE;MAChCgnC,cAAc,GAAG5pC,KAAK,CAACoE,GAAG,CAACD,KAAK,CAAC,GAAG,CAAC,CAAA;KACtC,MAAM,IAAIqlC,eAAe,CAACvjB,MAAM,IAAIjmB,KAAK,CAACkE,IAAI,EAAE;MAC/C0lC,cAAc,GAAG5pC,KAAK,CAACkE,IAAI,CAACC,KAAK,CAAC,GAAG,CAAC,CAAA;AACxC,KAAA;;AAEA;AACA,IAAA,IAAIjC,OAAO,EAAE;MACX0nC,cAAc,GAAG,IAAI,CAACI,WAAW,CAACJ,cAAc,EAAE5pC,KAAK,EAAEkC,OAAO,CAAC,CAAA;AACnE,KAAA;;AAEA;IACA,IAAIlC,KAAK,CAAC25B,OAAO,IAAI35B,KAAK,CAAC25B,OAAO,KAAKgQ,UAAU,EAAE;MACjD,MAAMtuC,MAAM,GAAG,IAAI,CAACw+B,kBAAkB,CAAC15B,GAAG,CAACH,KAAK,CAAC25B,OAAO,CAAC,CAAA;AACzD,MAAA,OAAO,CAAC,IAAI,IAAI,CAAC9f,YAAY,CAACxe,MAAM,EAAE9D,OAAO,CAAC,IAAI,EAAE,GAAG,GAAGqyC,cAAc,CAAC,CAAA;AAC3E,KAAA;AAEA,IAAA,OAAOA,cAAc,CAAA;AACvB,GAAA;AAEA3M,EAAAA,KAAKA,GAAG;IACN,IAAI,CAAC+L,UAAU,GAAG,EAAE,CAAA;AACtB,GAAA;AAEAgB,EAAAA,WAAWA,CAACJ,cAAc,EAAE5pC,KAAK,EAAEkC,OAAO,EAAE;IAC1C,MAAM6Y,mBAAmB,GAAG,IAAI,CAACgiB,SAAS,CAAC58B,GAAG,CAAC,qBAAqB,EAAE,KAAK,CAAC,CAAA;IAE5E,IAAI4a,mBAAmB,IAAIA,mBAAmB,CAACE,gBAAgB,CAACjb,KAAK,CAAC25B,OAAO,CAAC,EAAE;MAC9E,OAAO,CAACz3B,OAAO,CAAClC,KAAK,CAAC25B,OAAO,CAAC,EAAE,GAAGiQ,cAAc,CAAC,CAAA;AACpD,KAAA;AAEA,IAAA,OAAOA,cAAc,CAAA;AACvB,GAAA;AACF,CAAA;AAEA,MAAMT,eAAe,GAAGA,CAACjxC,IAAI,EAAEgxC,OAAO,KAAK;AACzC,EAAA,IAAIvgC,OAAO,CAACzQ,IAAI,CAACY,QAAQ,CAAC,EAAE;AAC1B,IAAA,OAAOZ,IAAI,CAACY,QAAQ,CAACmxC,IAAI,CAAE/xC,IAAI,IAAKA,IAAI,CAACgxC,OAAO,KAAKA,OAAO,CAAC,IAAI,IAAI,CAAA;AACvE,GAAA;AACA,EAAA,OAAO,IAAI,CAAA;AACb,CAAC,CAAA;AAEDH,YAAY,CAACpsC,OAAO,GAAG,CAAC,mBAAmB,EAAE,YAAY,EAAE,UAAU,CAAC;;ACrQtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,MAAMutC,YAAY,CAAC;EACxBruC,WAAWA,CAACC,QAAQ,EAAE;AACpB;IACA,IAAI,CAACquC,KAAK,GAAG,EAAE,CAAA;AACf,IAAA,IAAI,CAACnC,IAAI,GAAG,IAAIoC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAA;IAEhC,IAAI,CAACruC,SAAS,GAAGD,QAAQ,CAAA;AAC3B,GAAA;;AAEA;AACF;AACA;AACEuuC,EAAAA,MAAMA,CAAC7Q,WAAW,EAAErd,GAAG,EAAE;AACvB,IAAA,IAAImuB,gBAAgB,GAAG,IAAI,CAACH,KAAK,CAACF,IAAI,CAAEM,CAAC,IAAKA,CAAC,CAAC/Q,WAAW,KAAKA,WAAW,CAAC,CAAA;IAE5E,IAAI,CAAC8Q,gBAAgB,EAAE;AACrBA,MAAAA,gBAAgB,GAAG;QACjB9Q,WAAW;AACXvd,QAAAA,IAAI,EAAE,EAAA;OACP,CAAA;AAED,MAAA,IAAI,CAACkuB,KAAK,CAAC3vC,IAAI,CAAC8vC,gBAAgB,CAAC,CAAA;AACnC,KAAA;AAEAA,IAAAA,gBAAgB,CAACruB,IAAI,CAACzhB,IAAI,CAAC2hB,GAAG,CAAC,CAAA;AACjC,GAAA;;AAEA;AACF;AACA;AACA;EACEquB,MAAMA,CAACxoC,EAAE,EAAE;AACT,IAAA,MAAMia,IAAI,GAAGwuB,OAAO,CAAC,IAAI,CAACN,KAAK,CAAC,CAAA;IAChC,OAAOluB,IAAI,CAACguB,IAAI,CAAEM,CAAC,IAAKA,CAAC,CAACvoC,EAAE,KAAKA,EAAE,CAAC,CAAA;AACtC,GAAA;;AAEA;AACF;AACA;AACA;EACE0oC,cAAcA,CAAC9oC,SAAS,EAAE;IACxB,OAAO6oC,OAAO,CAAC,IAAI,CAACN,KAAK,CAAC,CAACF,IAAI,CAAEM,CAAC,IAAK;MACrC,MAAM;AAAEnlC,QAAAA,UAAAA;AAAW,OAAC,GAAGmlC,CAAC,CAAA;AAExB,MAAA,OAAOnlC,UAAU,CAAC1N,QAAQ,CAACkK,SAAS,CAACI,EAAE,CAAC,CAAA;AAC1C,KAAC,CAAC,CAAA;AACJ,GAAA;;AAEA;AACF;AACA;AACA;EACEka,OAAOA,CAACsd,WAAW,EAAE;AACnB,IAAA,MAAMmR,YAAY,GAAG,IAAI,CAACR,KAAK,CAACF,IAAI,CAAEM,CAAC,IAAK/Q,WAAW,KAAK+Q,CAAC,CAAC/Q,WAAW,CAAC,CAAA;IAE1E,IAAI,CAACmR,YAAY,EAAE;AACjB,MAAA,OAAO,EAAE,CAAA;AACX,KAAA;IAEA,OAAOA,YAAY,CAAC1uB,IAAI,CAAA;AAC1B,GAAA;;AAEA;AACF;AACA;AACE2uB,EAAAA,SAASA,GAAG;AACV,IAAA,OAAO,IAAI,CAAC5C,IAAI,CAACY,YAAY,CAAC,MAAM,CAAC,CAAA;AACvC,GAAA;;AAEA;AACF;AACA;EACEnB,eAAeA,CAAC7lC,SAAS,EAAE;IACzB,MAAM;MAAE7G,IAAI;AAAEqK,MAAAA,UAAAA;AAAW,KAAC,GAAGxD,SAAS,CAAA;AAEtC,IAAA,IAAI,CAAC,CAAC,SAAS,EAAE,OAAO,EAAE,aAAa,CAAC,CAAClK,QAAQ,CAACqD,IAAI,CAAC,IAAI,CAACqK,UAAU,EAAE;AACtE,MAAA,OAAA;AACF,KAAA;;AAEA;IACA,MAAMylC,WAAW,GAAGC,UAAU,CAAC1lC,UAAU,EAAE,IAAI,CAAC4iC,IAAI,CAAC,CAAA;AAErD1vC,IAAAA,MAAM,CAACoN,OAAO,CAACmlC,WAAW,CAAC,CAAC1oC,OAAO,CAAC,CAAC,CAACH,EAAE,EAAEoD,UAAU,CAAC,KAAK;AACxD;AACA,MAAA,IAAI,CAACilC,MAAM,CAACzoC,SAAS,CAACI,EAAE,EAAE;AACxBA,QAAAA,EAAE,EAAEA,EAAE;QACNoD,UAAU,EAAEA,UAAU,CAACjL,GAAG,CAAE4wC,CAAC,IAAKA,CAAC,CAAC/oC,EAAE,CAAA;AACxC,OAAC,CAAC,CAAA;AACJ,KAAC,CAAC,CAAA;;AAEF;IACAoD,UAAU,CAACjD,OAAO,CAAEnC,KAAK,IAAK,IAAI,CAACynC,eAAe,CAACznC,KAAK,CAAC,CAAC,CAAA;;AAE1D;AACA,IAAA,IAAI,CAACjE,SAAS,CAACW,IAAI,CAAC,uBAAuB,EAAE;MAAEuf,IAAI,EAAE,IAAI,CAACkuB,KAAAA;AAAM,KAAC,CAAC,CAAA;AACpE,GAAA;AAEAlN,EAAAA,KAAKA,GAAG;IACN,IAAI,CAACkN,KAAK,GAAG,EAAE,CAAA;AACf,IAAA,IAAI,CAACnC,IAAI,CAAC/K,KAAK,EAAE,CAAA;;AAEjB;AACA,IAAA,IAAI,CAAClhC,SAAS,CAACW,IAAI,CAAC,oBAAoB,CAAC,CAAA;AAC3C,GAAA;AACF,CAAA;AAEAwtC,YAAY,CAACvtC,OAAO,GAAG,CAAC,UAAU,CAAC,CAAA;;AAEnC;;AAEA,SAASmuC,UAAUA,CAAC1lC,UAAU,EAAEq0B,GAAG,EAAE;AACnC,EAAA,OAAOuR,OAAO,CAAC5lC,UAAU,EAAG2lC,CAAC,IAAK;AAChC;IACA,MAAM;AAAElpC,MAAAA,MAAAA;AAAO,KAAC,GAAGkpC,CAAC,CAAA;AAEpB,IAAA,IAAI,CAAClpC,MAAM,IAAI,CAACA,MAAM,CAACsa,GAAG,EAAE;AAC1B,MAAA,OAAOsd,GAAG,CAACmP,YAAY,CAAC,MAAM,CAAC,CAAA;AACjC,KAAA;IAEA,OAAO/mC,MAAM,CAACsa,GAAG,CAAA;AACnB,GAAC,CAAC,CAAA;AACJ,CAAA;;AAEA;AACA;AACA;AACA;AACA,SAASsuB,OAAOA,CAACQ,QAAQ,EAAE;AACzB,EAAA,OAAOA,QAAQ,CAAC9wC,GAAG,CAAEowC,CAAC,IAAKA,CAAC,CAACtuB,IAAI,CAAC,CAACivB,IAAI,EAAE,CAAA;AAC3C;;ACrJO,MAAMC,iBAAiB,CAAC;EAC7BtvC,WAAWA,CAACC,QAAQ,EAAE;IACpB,IAAI,CAACC,SAAS,GAAGD,QAAQ,CAAA;AAEzB,IAAA,IAAI,CAAC28B,WAAW,GAAG,EAAE,CAAA;IAErB38B,QAAQ,CAACwe,EAAE,CAAC,YAAY,EAAE,MAAM,IAAI,CAAC2iB,KAAK,EAAE,CAAC,CAAA;AAE7C,IAAA,IAAI,CAAC+K,IAAI,GAAG,IAAIoC,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAA;AAClC,GAAA;EAEA9vC,GAAGA,CAACsH,SAAS,EAAE;IACb,MAAM;AAAEI,MAAAA,EAAAA;AAAG,KAAC,GAAGJ,SAAS,CAAA;AAExB,IAAA,IAAI,IAAI,CAAC62B,WAAW,CAACz2B,EAAE,CAAC,EAAE;AACxB,MAAA,MAAM,IAAI1F,KAAK,CAAE,CAAqB0F,mBAAAA,EAAAA,EAAG,iBAAgB,CAAC,CAAA;AAC5D,KAAA;AAEA,IAAA,IAAI,CAACjG,SAAS,CAACW,IAAI,CAAC,eAAe,EAAE;AAAEkF,MAAAA,SAAAA;AAAU,KAAC,CAAC,CAAA;AAEnD,IAAA,IAAI,CAAC62B,WAAW,CAACz2B,EAAE,CAAC,GAAGJ,SAAS,CAAA;AAClC,GAAA;EAEAwY,MAAMA,CAACxY,SAAS,EAAE;IAChB,MAAM;AAAEI,MAAAA,EAAAA;AAAG,KAAC,GAAGJ,SAAS,CAAA;AAExB,IAAA,IAAI,CAAC,IAAI,CAAC62B,WAAW,CAACz2B,EAAE,CAAC,EAAE;AACzB,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,IAAI,CAACjG,SAAS,CAACW,IAAI,CAAC,kBAAkB,EAAE;AAAEkF,MAAAA,SAAAA;AAAU,KAAC,CAAC,CAAA;AAEtD,IAAA,OAAO,IAAI,CAAC62B,WAAW,CAACz2B,EAAE,CAAC,CAAA;AAC7B,GAAA;EAEA7B,GAAGA,CAAC6B,EAAE,EAAE;AACN,IAAA,OAAO,IAAI,CAACy2B,WAAW,CAACz2B,EAAE,CAAC,CAAA;AAC7B,GAAA;AAEAopC,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO9yC,MAAM,CAAC4H,MAAM,CAAC,IAAI,CAACu4B,WAAW,CAAC,CAAA;AACxC,GAAA;AAEA0C,EAAAA,OAAOA,GAAG;AACR,IAAA,OAAO,IAAI,CAACiQ,MAAM,EAAE,CAACnB,IAAI,CAAEroC,SAAS,IAAKA,SAAS,CAAC7G,IAAI,KAAK,SAAS,CAAC,CAAA;AACxE,GAAA;EAEAoH,OAAOA,CAACshC,QAAQ,EAAE;AAChB,IAAA,IAAI,CAAC2H,MAAM,EAAE,CAACjpC,OAAO,CAAEP,SAAS,IAAK6hC,QAAQ,CAAC7hC,SAAS,CAAC,CAAC,CAAA;AAC3D,GAAA;AAEAq7B,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAACxE,WAAW,GAAG,EAAE,CAAA;AAErB,IAAA,IAAI,CAACuP,IAAI,CAAC/K,KAAK,EAAE,CAAA;AACnB,GAAA;AACF,CAAA;AAEAkO,iBAAiB,CAACxuC,OAAO,GAAG,CAAC,UAAU,CAAC;;AC5DjC,MAAM0uC,yBAAyB,CAAC;AACrCxvC,EAAAA,WAAWA,CAACC,QAAQ,EAAEkgB,iBAAiB,EAAE/C,UAAU,EAAE;IACnD,IAAI,CAACld,SAAS,GAAGD,QAAQ,CAAA;IACzB,IAAI,CAAC+9B,kBAAkB,GAAG7d,iBAAiB,CAAA;IAC3C,IAAI,CAACyc,WAAW,GAAGxf,UAAU,CAAA;AAE7B,IAAA,IAAI,CAACqyB,mBAAmB,GAAG,EAAE,CAAA;IAE7BxvC,QAAQ,CAACwe,EAAE,CAAC,YAAY,EAAE,MAAM,IAAI,CAAC2iB,KAAK,EAAE,CAAC,CAAA;AAC/C,GAAA;EAEA3iC,GAAGA,CAAC+kB,QAAQ,EAAE;IACZ,MAAM;MAAErd,EAAE;MAAE+D,qBAAqB;MAAE6T,SAAS;AAAE1X,MAAAA,OAAAA;AAAQ,KAAC,GAAGmd,QAAQ,CAAA;IAElE,MAAMlF,UAAU,GAAG,CAACnY,EAAE,EAAE,GAAG1J,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAC6H,IAAI,CAAC,GAAG,CAAC,CAAA;AAElE,IAAA,IAAI,IAAI,CAACuhC,mBAAmB,CAACnxB,UAAU,CAAC,EAAE;AACxC,MAAA,MAAM,IAAI7d,KAAK,CAAC,gDAAgD,CAAC,CAAA;AACnE,KAAA;AAEA,IAAA,IAAI,CAACgvC,mBAAmB,CAACnxB,UAAU,CAAC,GAAG;MACrCnY,EAAE;MACFmY,UAAU;MACVpU,qBAAqB;MACrB6T,SAAS;AACT1X,MAAAA,OAAAA;KACD,CAAA;AAED,IAAA,IAAI,CAACnG,SAAS,CAACW,IAAI,CAAC,mCAAmC,EAAE;MAAEyd,UAAU;AAAE3X,MAAAA,MAAM,EAAE,OAAA;AAAQ,KAAC,CAAC,CAAA;AAEzF,IAAA,OAAO2X,UAAU,CAAA;AACnB,GAAA;EAEAC,MAAMA,CAACD,UAAU,EAAE;AACjB,IAAA,IAAI,CAAC,IAAI,CAACmxB,mBAAmB,CAACnxB,UAAU,CAAC,EAAE;AACzC,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,OAAO,IAAI,CAACmxB,mBAAmB,CAACnxB,UAAU,CAAC,CAAA;AAE3C,IAAA,IAAI,CAACpe,SAAS,CAACW,IAAI,CAAC,mCAAmC,EAAE;MAAEyd,UAAU;AAAE3X,MAAAA,MAAM,EAAE,SAAA;AAAU,KAAC,CAAC,CAAA;AAC7F,GAAA;AAEA4oC,EAAAA,MAAMA,GAAG;AACP,IAAA,OAAO9yC,MAAM,CAAC4H,MAAM,CAAC,IAAI,CAACorC,mBAAmB,CAAC,CAAA;AAChD,GAAA;AAEAC,EAAAA,WAAWA,GAAG;IACZ,OAAO,IAAI,CAACH,MAAM,EAAE,CAACjyC,MAAM,CAAC,CAAC;AAAE6I,MAAAA,EAAAA;AAAG,KAAC,KAAK;MACtC,MAAMi/B,mBAAmB,GAAG,IAAI,CAACpH,kBAAkB,CAAC15B,GAAG,CAAC6B,EAAE,CAAC,CAAA;MAE3D,IAAI,CAACi/B,mBAAmB,EAAE;AACxB,QAAA,OAAO,KAAK,CAAA;AACd,OAAA;MAEA,MAAM;AAAElmC,QAAAA,IAAAA;AAAK,OAAC,GAAGkmC,mBAAmB,CAAA;MACpC,MAAM;AAAEt+B,QAAAA,MAAAA;OAAQ,GAAG,IAAI,CAAC81B,WAAW,CAACt4B,GAAG,CAACpF,IAAI,CAAC,CAAA;MAE7C,OAAO4H,MAAM,CAACC,KAAK,CAAA;AACrB,KAAC,CAAC,CAAA;AACJ,GAAA;AAEAq6B,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAACqO,mBAAmB,GAAG,EAAE,CAAA;AAC/B,GAAA;AACF,CAAA;AAEAD,yBAAyB,CAAC1uC,OAAO,GAAG,CAAC,UAAU,EAAE,mBAAmB,EAAE,YAAY,CAAC;;AChD5E,SAAS6uC,QAAQA,CAAC7oC,MAAM,EAAE7G,QAAQ,EAAEud,IAAI,EAAExY,QAAQ,EAAE;EACzD,MAAM4qC,GAAG,GAAGA,MAAM;AAChB,IAAA,MAAM,CAACnJ,KAAK,EAAEoJ,QAAQ,CAAC,GAAGlyB,QAAQ,CAACH,IAAI,CAAC/Q,SAAS,EAAE,CAAC,CAAA;AAEpD,IAAA,MAAMqjC,WAAW,GAAG;AAClBhoC,MAAAA,UAAUA,CAAC5I,IAAI,EAAEwC,MAAM,GAAG,IAAI,EAAE;AAC9B,QAAA,OAAOsD,QAAQ,CAACV,GAAG,CAACpF,IAAI,EAAEwC,MAAM,CAAC,CAAA;OAClC;MACD0E,MAAM,EAAEoX,IAAI,CAACuyB,GAAAA;KACd,CAAA;AAED9vC,IAAAA,QAAQ,CAACwe,EAAE,CAAC,SAAS,EAAGuxB,QAAQ,IAAK;MACnCH,QAAQ,CAACG,QAAQ,CAAC,CAAA;AACpB,KAAC,CAAC,CAAA;AAEF,IAAA,MAAMr1B,QAAQ,GAAGnM,WAAW,CAAEqQ,MAAM,IAAKrB,IAAI,CAACyyB,OAAO,CAACpxB,MAAM,CAAC,EAAE,EAAE,CAAC,CAAA;IAElE,MAAM;AAAE3L,MAAAA,UAAAA;AAAW,KAAC,GAAGuzB,KAAK,CAAA;IAE5B,MAAM;AAAEtzB,MAAAA,QAAAA;AAAS,KAAC,GAAGD,UAAU,CAAA;AAE/B,IAAA,MAAMkpB,QAAQ,GAAG5tB,WAAW,CAAC,MAAM;MACjC,IAAI,CAAC2E,QAAQ,EAAE;QACbqK,IAAI,CAAC0yB,MAAM,EAAE,CAAA;AACf,OAAA;AACF,KAAC,EAAE,CAAC/8B,QAAQ,CAAC,CAAC,CAAA;AAEd,IAAA,MAAMkpB,OAAO,GAAG7tB,WAAW,CAAC,MAAMgP,IAAI,CAACyiB,KAAK,EAAE,EAAE,EAAE,CAAC,CAAA;IAEnD,MAAM;AAAE/D,MAAAA,MAAAA;AAAO,KAAC,GAAGuK,KAAK,CAAA;IAExB,IAAI,CAACvK,MAAM,EAAE;AACX,MAAA,OAAO,IAAI,CAAA;AACb,KAAA;AAEA,IAAA,OACEt1B,GAAA,CAACmB,WAAW,CAAC20B,QAAQ,EAAA;AAACt8B,MAAAA,KAAK,EAAE0vC,WAAY;MAAA7yC,QAAA,EACvC2J,GAAA,CAACq1B,aAAa,EAAA;AAACthB,QAAAA,QAAQ,EAAEA,QAAS;AAACyhB,QAAAA,QAAQ,EAAEA,QAAS;AAACC,QAAAA,OAAO,EAAEA,OAAAA;OAAU,CAAA;AAAC,KACvD,CAAC,CAAA;GAE1B,CAAA;EAED,MAAM;AAAEh3B,IAAAA,SAAAA;AAAU,GAAC,GAAGyB,MAAM,CAAA;AAE5B7G,EAAAA,QAAQ,CAACwe,EAAE,CAAC,WAAW,EAAE,MAAM;IAC7BuY,MAAM,CAACpwB,GAAA,CAACgpC,GAAG,IAAE,CAAC,EAAEvqC,SAAS,CAAC,CAAA;AAC5B,GAAC,CAAC,CAAA;AAEFpF,EAAAA,QAAQ,CAACwe,EAAE,CAAC,cAAc,EAAE,MAAM;AAChCuY,IAAAA,MAAM,CAAC,IAAI,EAAE3xB,SAAS,CAAC,CAAA;AACzB,GAAC,CAAC,CAAA;AACJ,CAAA;AAEAsqC,QAAQ,CAAC7uC,OAAO,GAAG,CAAC,iBAAiB,EAAE,UAAU,EAAE,MAAM,EAAE,UAAU,CAAC;;AC/D/D,MAAMqvC,YAAY,GAAG;AAC1BrQ,EAAAA,QAAQ,EAAE,CAAC,YAAY,EAAE,UAAU,CAAC;AACpC1iB,EAAAA,UAAU,EAAE,CAAC,MAAM,EAAEuf,UAAU,CAAC;AAChCyT,EAAAA,QAAQ,EAAE,CAAC,MAAM,EAAET,QAAQ,CAAA;AAC7B;;ACAO,MAAMU,UAAU,GAAG;EACxBpL,WAAW,EAAE,CAACkL,YAAY,CAAC;AAC3BlwC,EAAAA,QAAQ,EAAE,CAAC,MAAM,EAAEsnC,QAAQ,CAAC;AAC5B+I,EAAAA,QAAQ,EAAE,CAAC,MAAM,EAAEnF,QAAQ,CAAC;AAC5BC,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAEW,YAAY,CAAC;AACpC5rB,EAAAA,iBAAiB,EAAE,CAAC,MAAM,EAAEmvB,iBAAiB,CAAC;AAC9ChyB,EAAAA,yBAAyB,EAAE,CAAC,MAAM,EAAEkyB,yBAAyB,CAAC;AAC9DjyB,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAE2vB,YAAY,CAAC;AACpChtB,EAAAA,YAAY,EAAE,CAAC,MAAM,EAAEmuB,YAAY,CAAC;AACpCnK,EAAAA,SAAS,EAAE,CAAC,MAAM,EAAE0F,SAAS,CAAA;AAC/B,CAAC;;ACRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAMhM,GAAG,GAAG,IAAI2Q,GAAG,CAAC,CAAC,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAA;;AAEhC;AACA;AACA;AACO,MAAMgC,IAAI,CAAC;AAChB;AACF;AACA;AACA;AACEvwC,EAAAA,WAAWA,CAACtE,OAAO,GAAG,EAAE,EAAE;AACxB;AACJ;AACA;AACA;AACI,IAAA,IAAI,CAAC+iB,EAAE,GAAG,IAAI,CAAC+xB,QAAQ,CAAA;;AAEvB;AACJ;AACA;AACA;AACI,IAAA,IAAI,CAACT,GAAG,GAAGnS,GAAG,CAACsE,IAAI,EAAE,CAAA;;AAErB;AACJ;AACA;AACA;AACI,IAAA,IAAI,CAACuO,UAAU,GAAGtrC,mBAAmB,EAAE,CAAA;IAEvC,MAAM;MAAEE,SAAS;MAAEL,QAAQ,GAAG,IAAI,CAAC0rC,eAAe,CAACh1C,OAAO,EAAE,IAAI,CAAC+0C,UAAU,CAAC;AAAEv9B,MAAAA,UAAU,GAAG,EAAC;AAAE,KAAC,GAAGxX,OAAO,CAAA;;AAEzG;AACJ;AACA;AACA;IACI,IAAI,CAACi1C,MAAM,GAAG;AACZnkC,MAAAA,WAAW,EAAE,IAAI;AACjB7L,MAAAA,IAAI,EAAE,IAAI;MACVuS,UAAU;MACVxN,MAAM,EAAE,EAAE;AACVw2B,MAAAA,MAAM,EAAE,IAAA;KACT,CAAA;AAED,IAAA,IAAI,CAAC53B,GAAG,GAAGU,QAAQ,CAACV,GAAG,CAAA;AAEvB,IAAA,IAAI,CAACssC,MAAM,GAAG5rC,QAAQ,CAAC4rC,MAAM,CAAA;IAE7B,IAAI,CAACtsC,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC,WAAW,CAAC,CAAA;AAEtC,IAAA,IAAIwE,SAAS,EAAE;AACb,MAAA,IAAI,CAACwrC,QAAQ,CAACxrC,SAAS,CAAC,CAAA;AAC1B,KAAA;AACF,GAAA;AAEA+7B,EAAAA,KAAKA,GAAG;AACN;AACA,IAAA,IAAI,CAAC0P,KAAK,CAAC,eAAe,CAAC,CAAA;;AAE3B;AACA,IAAA,IAAI,CAACA,KAAK,CAAC,YAAY,CAAC,CAAA;AAC1B,GAAA;;AAEA;AACF;AACA;AACA;AACEC,EAAAA,OAAOA,GAAG;AACR;IACA,IAAI,CAACzsC,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC,cAAc,CAAC,CAAA;;AAEzC;IACA,IAAI,CAACyD,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC,iBAAiB,CAAC,CAAA;AAE5C,IAAA,IAAI,CAACmwC,OAAO,CAAC,KAAK,CAAC,CAAA;AACrB,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACEzF,EAAAA,YAAYA,CAACrP,MAAM,EAAEv7B,IAAI,GAAG,EAAE,EAAE;AAC9B,IAAA,OAAO,IAAIswC,OAAO,CAAC,CAACC,OAAO,EAAEC,MAAM,KAAK;MACtC,IAAI;QACF,IAAI,CAAC/P,KAAK,EAAE,CAAA;QAEZ,MAAM;AAAElF,UAAAA,MAAM,EAAEwP,cAAc;AAAEF,UAAAA,QAAAA;SAAU,GAAG,IAAI,CAAClnC,GAAG,CAAC,UAAU,CAAC,CAACinC,YAAY,CAACrP,MAAM,CAAC,CAAA;QAEtF,MAAMkV,eAAe,GAAG,IAAI,CAACxK,wBAAwB,CAAC39B,KAAK,CAACtI,IAAI,CAAC,CAAC,CAAA;QAElE,IAAI,CAAC6jC,SAAS,CAAC;AACb7jC,UAAAA,IAAI,EAAEywC,eAAe;UACrB1rC,MAAM,EAAE,EAAE;AACVw2B,UAAAA,MAAM,EAAEwP,cAAc;UACtBl/B,WAAW,EAAEvD,KAAK,CAACmoC,eAAe,CAAA;AACpC,SAAC,CAAC,CAAA;AAEF,QAAA,IAAI,CAACN,KAAK,CAAC,aAAa,EAAE;AAAEtF,UAAAA,QAAAA;AAAS,SAAC,CAAC,CAAA;AAEvC,QAAA,OAAO0F,OAAO,CAAC;AAAE1F,UAAAA,QAAAA;AAAS,SAAC,CAAC,CAAA;OAC7B,CAAC,OAAO5qC,KAAK,EAAE;AACd,QAAA,IAAI,CAACkwC,KAAK,CAAC,aAAa,EAAE;UACxBlwC,KAAK;AACL4qC,UAAAA,QAAQ,EAAE5qC,KAAK,CAAC4qC,QAAQ,IAAI,EAAA;AAC9B,SAAC,CAAC,CAAA;QAEF,OAAO2F,MAAM,CAACvwC,KAAK,CAAC,CAAA;AACtB,OAAA;AACF,KAAC,CAAC,CAAA;AACJ,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACEsvC,EAAAA,MAAMA,GAAG;IACP,MAAM;AAAEh9B,MAAAA,UAAAA;AAAW,KAAC,GAAG,IAAI,CAACzG,SAAS,EAAE,CAAA;AAEvC,IAAA,IAAIyG,UAAU,CAACC,QAAQ,IAAID,UAAU,CAACvN,QAAQ,EAAE;AAC9C,MAAA,MAAM,IAAIlF,KAAK,CAAC,mBAAmB,CAAC,CAAA;AACtC,KAAA;AAEA,IAAA,IAAI,CAACqwC,KAAK,CAAC,WAAW,CAAC,CAAA;AAEvB,IAAA,MAAMnwC,IAAI,GAAG,IAAI,CAAC0wC,cAAc,EAAE,CAAA;AAElC,IAAA,MAAM3rC,MAAM,GAAG,IAAI,CAACmW,QAAQ,EAAE,CAAA;AAE9B,IAAA,MAAMvc,MAAM,GAAG;MACbqB,IAAI;AACJ+E,MAAAA,MAAAA;KACD,CAAA;AAED,IAAA,IAAI,CAACorC,KAAK,CAAC,QAAQ,EAAExxC,MAAM,CAAC,CAAA;AAE5B,IAAA,OAAOA,MAAM,CAAA;AACf,GAAA;AAEA2gC,EAAAA,KAAKA,GAAG;AACN,IAAA,IAAI,CAAC6Q,KAAK,CAAC,OAAO,CAAC,CAAA;IAEnB,IAAI,CAACtM,SAAS,CAAC;MACb7jC,IAAI,EAAEsI,KAAK,CAAC,IAAI,CAAC0nC,MAAM,CAACnkC,WAAW,CAAC;AACpC9G,MAAAA,MAAM,EAAE,EAAC;AACX,KAAC,CAAC,CAAA;AACJ,GAAA;;AAEA;AACF;AACA;AACEmW,EAAAA,QAAQA,GAAG;AACT,IAAA,MAAMsE,iBAAiB,GAAG,IAAI,CAAC7b,GAAG,CAAC,mBAAmB,CAAC;AACrDgZ,MAAAA,yBAAyB,GAAG,IAAI,CAAChZ,GAAG,CAAC,2BAA2B,CAAC;AACjE4/B,MAAAA,SAAS,GAAG,IAAI,CAAC5/B,GAAG,CAAC,WAAW,CAAC,CAAA;IAEnC,MAAM;AAAE3D,MAAAA,IAAAA;AAAK,KAAC,GAAG,IAAI,CAAC8L,SAAS,EAAE,CAAA;IACjC,MAAM/G,MAAM,GAAG,EAAE,CAAA;IAEjB,MAAM4rC,YAAY,GAAGA,CAACnrC,EAAE,EAAEE,OAAO,KAAK,CAACF,EAAE,EAAE,GAAG1J,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAAC,CAAA;IAE3EiX,yBAAyB,CAACoyB,WAAW,EAAE,CAACppC,OAAO,CAAE+X,aAAa,IAAK;MACjE,MAAM;QAAElY,EAAE;QAAE4X,SAAS;AAAE1X,QAAAA,OAAAA;AAAQ,OAAC,GAAGgY,aAAa,CAAA;AAEhD,MAAA,MAAMla,KAAK,GAAGgc,iBAAiB,CAAC7b,GAAG,CAAC6B,EAAE,CAAC,CAAA;;AAEvC;MACA,IAAIhC,KAAK,CAACwB,QAAQ,EAAE;AAClB,QAAA,OAAA;AACF,OAAA;;AAEA;AACA,MAAA,MAAMvF,KAAK,GAAGkE,GAAG,CAAC3D,IAAI,EAAEod,SAAS,CAAC,CAAA;MAClC,MAAMe,WAAW,GAAGolB,SAAS,CAACQ,qBAAqB,CAACrmB,aAAa,EAAEje,KAAK,CAAC,CAAA;MAEzE,IAAI0e,WAAW,CAACniB,MAAM,EAAE;AACtBotB,QAAAA,GAAG,CAACrkB,MAAM,EAAE4rC,YAAY,CAACntC,KAAK,CAACgC,EAAE,EAAEE,OAAO,CAAC,EAAEyY,WAAW,CAAC,CAAA;AAC3D,OAAA;AACF,KAAC,CAAC,CAAA;IAEF,IAAI,CAAC0lB,SAAS,CAAC;AAAE9+B,MAAAA,MAAAA;AAAO,KAAC,CAAC,CAAA;;AAE1B;AACA,IAAA,OAAOA,MAAM,CAAA;AACf,GAAA;;AAEA;AACF;AACA;EACEmrC,QAAQA,CAACU,UAAU,EAAE;IACnB,IAAI,CAACA,UAAU,EAAE;AACf,MAAA,MAAM,IAAI9wC,KAAK,CAAC,qBAAqB,CAAC,CAAA;AACxC,KAAA;IAEA,IAAI,CAAC+wC,MAAM,EAAE,CAAA;AAEb,IAAA,IAAInxC,QAAQ,CAACkxC,UAAU,CAAC,EAAE;AACxBA,MAAAA,UAAU,GAAGjsC,QAAQ,CAAC4P,aAAa,CAACq8B,UAAU,CAAC,CAAA;AACjD,KAAA;AAEA,IAAA,MAAMlsC,SAAS,GAAG,IAAI,CAACorC,UAAU,CAAA;AAEjCc,IAAAA,UAAU,CAACE,WAAW,CAACpsC,SAAS,CAAC,CAAA;AAEjC,IAAA,IAAI,CAACyrC,KAAK,CAAC,QAAQ,CAAC,CAAA;AACtB,GAAA;AAEAU,EAAAA,MAAMA,GAAG;IACP,IAAI,CAACR,OAAO,EAAE,CAAA;AAChB,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACEA,EAAAA,OAAOA,CAACjP,IAAI,GAAG,IAAI,EAAE;AACnB,IAAA,MAAM18B,SAAS,GAAG,IAAI,CAACorC,UAAU;MAC/Bc,UAAU,GAAGlsC,SAAS,CAACksC,UAAU,CAAA;IAEnC,IAAI,CAACA,UAAU,EAAE;AACf,MAAA,OAAA;AACF,KAAA;AAEA,IAAA,IAAIxP,IAAI,EAAE;AACR,MAAA,IAAI,CAAC+O,KAAK,CAAC,QAAQ,CAAC,CAAA;AACtB,KAAA;AAEAS,IAAAA,UAAU,CAACG,WAAW,CAACrsC,SAAS,CAAC,CAAA;AACnC,GAAA;;AAEA;AACF;AACA;AACA;AACEssC,EAAAA,WAAWA,CAAC9sC,QAAQ,EAAEzE,KAAK,EAAE;AAC3B,IAAA,MAAM8S,UAAU,GAAG6W,GAAG,CAAC,IAAI,CAACtd,SAAS,EAAE,CAACyG,UAAU,EAAE,CAACrO,QAAQ,CAAC,EAAEzE,KAAK,CAAC,CAAA;IAEtE,IAAI,CAACokC,SAAS,CAAC;AAAEtxB,MAAAA,UAAAA;AAAW,KAAC,CAAC,CAAA;AAChC,GAAA;;AAEA;AACF;AACA;AACA;AACEwL,EAAAA,GAAGA,CAACxf,IAAI,EAAE0iC,OAAO,EAAE;IACjB,IAAI,CAACt9B,GAAG,CAAC,UAAU,CAAC,CAACoa,GAAG,CAACxf,IAAI,EAAE0iC,OAAO,CAAC,CAAA;AACzC,GAAA;;AAEA;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACE8O,EAAAA,eAAeA,CAACh1C,OAAO,EAAE2J,SAAS,EAAE;IAClC,MAAM;AAAEusC,MAAAA,OAAO,GAAG,IAAI,CAACC,WAAW,EAAE;AAAEC,MAAAA,iBAAiB,GAAG,EAAE;MAAE,GAAGhrC,MAAAA;AAAO,KAAC,GAAGpL,OAAO,CAAA;AAEnF,IAAA,MAAMq2C,cAAc,GAAG;AACrB,MAAA,GAAGjrC,MAAM;AACTspC,MAAAA,QAAQ,EAAE;AACR/qC,QAAAA,SAAAA;AACF,OAAA;KACD,CAAA;IAED,OAAOP,cAAc,CAAC,CACpB;AAAEgC,MAAAA,MAAM,EAAE,CAAC,OAAO,EAAEirC,cAAc,CAAA;AAAE,KAAC,EACrC;AAAEv0B,MAAAA,IAAI,EAAE,CAAC,OAAO,EAAE,IAAI,CAAA;KAAG,EACzB6yB,UAAU,EACV,GAAGuB,OAAO,EACV,GAAGE,iBAAiB,CACrB,CAAC,CAAA;AACJ,GAAA;;AAEA;AACF;AACA;AACEhB,EAAAA,KAAKA,CAAC5xC,IAAI,EAAEyB,IAAI,EAAE;IAChB,IAAI,CAAC2D,GAAG,CAAC,UAAU,CAAC,CAACzD,IAAI,CAAC3B,IAAI,EAAEyB,IAAI,CAAC,CAAA;AACvC,GAAA;;AAEA;AACF;AACA;AACA;AACA;EACEsvC,OAAOA,CAACpxB,MAAM,EAAE;IACd,MAAM;MAAER,aAAa;AAAEje,MAAAA,KAAAA;AAAM,KAAC,GAAGye,MAAM,CAAA;IAEvC,MAAM;MAAE1Y,EAAE;MAAE4X,SAAS;AAAE1X,MAAAA,OAAAA;AAAQ,KAAC,GAAGgY,aAAa,CAAA;IAEhD,MAAM;MAAE1d,IAAI;AAAE+E,MAAAA,MAAAA;AAAO,KAAC,GAAG,IAAI,CAAC+G,SAAS,EAAE,CAAA;AAEzC,IAAA,MAAMy3B,SAAS,GAAG,IAAI,CAAC5/B,GAAG,CAAC,WAAW,CAAC,CAAA;IAEvC,MAAMwa,WAAW,GAAGolB,SAAS,CAACQ,qBAAqB,CAACrmB,aAAa,EAAEje,KAAK,CAAC,CAAA;AAEzE2pB,IAAAA,GAAG,CAACppB,IAAI,EAAEod,SAAS,EAAE3d,KAAK,CAAC,CAAA;IAE3B2pB,GAAG,CAACrkB,MAAM,EAAE,CAACS,EAAE,EAAE,GAAG1J,MAAM,CAAC4H,MAAM,CAACgC,OAAO,IAAI,EAAE,CAAC,CAAC,EAAEyY,WAAW,CAACniB,MAAM,GAAGmiB,WAAW,GAAGva,SAAS,CAAC,CAAA;AAEhG,IAAA,IAAI,CAACusC,KAAK,CAAC,eAAe,EAAEjyB,MAAM,CAAC,CAAA;IAEnC,IAAI,CAAC2lB,SAAS,CAAC;AACb7jC,MAAAA,IAAI,EAAEsI,KAAK,CAACtI,IAAI,CAAC;MACjB+E,MAAM,EAAEuD,KAAK,CAACvD,MAAM,CAAA;AACtB,KAAC,CAAC,CAAA;AACJ,GAAA;;AAEA;AACF;AACA;AACE+G,EAAAA,SAASA,GAAG;IACV,OAAO,IAAI,CAACkkC,MAAM,CAAA;AACpB,GAAA;;AAEA;AACF;AACA;EACEnM,SAASA,CAACiC,KAAK,EAAE;IACf,IAAI,CAACkK,MAAM,GAAG;MACZ,GAAG,IAAI,CAACA,MAAM;MACd,GAAGlK,KAAAA;KACJ,CAAA;IAED,IAAI,CAACqK,KAAK,CAAC,SAAS,EAAE,IAAI,CAACrkC,SAAS,EAAE,CAAC,CAAA;AACzC,GAAA;;AAEA;AACF;AACA;AACEolC,EAAAA,WAAWA,GAAG;IACZ,OAAO,CACLhS,wBAAwB,EACxBO,qBAAqB,EACrBK,sBAAsB,EACtBuE,oBAAoB,EACpBoC,kBAAkB,CACnB,CAAA;AACH,GAAA;;AAEA;AACF;AACA;AACEoJ,EAAAA,QAAQA,CAACtxC,IAAI,EAAEyoC,QAAQ,EAAE/F,OAAO,EAAE;AAChC,IAAA,IAAI,CAACt9B,GAAG,CAAC,UAAU,CAAC,CAACma,EAAE,CAACvf,IAAI,EAAEyoC,QAAQ,EAAE/F,OAAO,CAAC,CAAA;AAClD,GAAA;;AAEA;AACF;AACA;AACEyP,EAAAA,cAAcA,GAAG;AACf,IAAA,MAAMlxB,iBAAiB,GAAG,IAAI,CAAC7b,GAAG,CAAC,mBAAmB,CAAC,CAAA;AACvD,IAAA,MAAMgZ,yBAAyB,GAAG,IAAI,CAAChZ,GAAG,CAAC,2BAA2B,CAAC,CAAA;IACvE,MAAMmG,QAAQ,GAAG,IAAI,CAACgC,SAAS,EAAE,CAAC9L,IAAI,CAAA;IAEtC,MAAMqxC,UAAU,GAAG,EAAE,CAAA;IAErB10B,yBAAyB,CAACoyB,WAAW,EAAE,CAACppC,OAAO,CAAE2rC,iBAAiB,IAAK;MACrE,MAAM;QAAE9rC,EAAE;AAAE4X,QAAAA,SAAAA;AAAU,OAAC,GAAGk0B,iBAAiB,CAAA;MAC3C,MAAM;AAAEtsC,QAAAA,QAAAA;AAAS,OAAC,GAAGwa,iBAAiB,CAAC7b,GAAG,CAAC6B,EAAE,CAAC,CAAA;AAE9C,MAAA,IAAIR,QAAQ,EAAE;AACZ,QAAA,OAAA;AACF,OAAA;AAEA,MAAA,MAAMvF,KAAK,GAAGkE,GAAG,CAACmG,QAAQ,EAAEsT,SAAS,CAAC,CAAA;AACtCgM,MAAAA,GAAG,CAACioB,UAAU,EAAEj0B,SAAS,EAAE3d,KAAK,CAAC,CAAA;AACnC,KAAC,CAAC,CAAA;AAEF,IAAA,OAAO4xC,UAAU,CAAA;AACnB,GAAA;;AAEA;AACF;AACA;AACEpL,EAAAA,wBAAwBA,CAACjmC,IAAI,EAAEjF,OAAO,GAAG,EAAE,EAAE;AAC3C,IAAA,MAAMykB,iBAAiB,GAAG,IAAI,CAAC7b,GAAG,CAAC,mBAAmB,CAAC,CAAA;AACvD,IAAA,MAAM8Y,UAAU,GAAG,IAAI,CAAC9Y,GAAG,CAAC,YAAY,CAAC,CAAA;AACzC,IAAA,MAAMiZ,YAAY,GAAG,IAAI,CAACjZ,GAAG,CAAC,cAAc,CAAC,CAAA;AAE7C,IAAA,SAAS4tC,8BAA8BA,CAACd,eAAe,EAAErrC,SAAS,EAAEM,OAAO,EAAE;MAC3E,MAAM;QAAEgN,YAAY;QAAEnU,IAAI;AAAEigB,QAAAA,WAAAA;AAAY,OAAC,GAAGpZ,SAAS,CAAA;MACrD,MAAM;AAAEe,QAAAA,MAAM,EAAE+W,WAAAA;AAAY,OAAC,GAAGT,UAAU,CAAC9Y,GAAG,CAACpF,IAAI,CAAC,CAAA;AAEpD,MAAA,MAAM6e,SAAS,GAAGR,YAAY,CAACS,YAAY,CAACjY,SAAS,EAAE;AAAEM,QAAAA,OAAAA;AAAQ,OAAC,CAAC,CAAA;AACnE,MAAA,IAAI8rC,SAAS,GAAG7tC,GAAG,CAAC3D,IAAI,EAAEod,SAAS,CAAC,CAAA;;AAEpC;MACA,IAAIF,WAAW,CAAC9W,KAAK,EAAE;AACrB;QACA,IAAI,CAACqrC,WAAW,CAACD,SAAS,CAAC,IAAIt0B,WAAW,CAAC1B,aAAa,EAAE;AACxDg2B,UAAAA,SAAS,GAAGt0B,WAAW,CAAC1B,aAAa,CAAC;YAAEpW,SAAS;YAAEpF,IAAI;AAAEP,YAAAA,KAAK,EAAE+xC,SAAAA;AAAU,WAAC,CAAC,CAAA;AAC9E,SAAA;;AAEA;QACA,MAAME,qBAAqB,GAAG,CAACD,WAAW,CAACD,SAAS,CAAC,GACjDA,SAAS,GACT,CAACC,WAAW,CAAC/+B,YAAY,CAAC,GACxBA,YAAY,GACZwK,WAAW,CAAC3B,UAAU,CAAA;AAC5B6N,QAAAA,GAAG,CAACqnB,eAAe,EAAErzB,SAAS,EAAEs0B,qBAAqB,CAAC,CAAA;AACxD,OAAA;;AAEA;MACA,IAAI,CAACx1C,KAAK,CAACiQ,OAAO,CAAC/G,SAAS,CAACwD,UAAU,CAAC,EAAE;AACxC,QAAA,OAAA;AACF,OAAA;AAEA,MAAA,IAAIsU,WAAW,CAACgW,UAAU,IAAI1U,WAAW,EAAE;AACzC;QACA,IAAI,CAACgzB,SAAS,IAAI,CAACt1C,KAAK,CAACiQ,OAAO,CAACqlC,SAAS,CAAC,EAAE;AAC3CA,UAAAA,SAAS,GACP,IAAIt1C,KAAK,CAACu1C,WAAW,CAACrsC,SAAS,CAACguB,kBAAkB,CAAC,GAAG,CAAC,GAAGhuB,SAAS,CAACguB,kBAAkB,CAAC,CACpFwH,IAAI,EAAE,CACNj9B,GAAG,CAAEmL,CAAC,KAAM,EAAE,CAAC,CAAC,IAAI,EAAE,CAAA;AAC7B,SAAA;;AAEA;AACA0oC,QAAAA,SAAS,GAAGA,SAAS,CAAC7zC,GAAG,CAAEg0C,GAAG,IAAM7mC,QAAQ,CAAC6mC,GAAG,CAAC,GAAGA,GAAG,GAAG,EAAG,CAAC,CAAA;;AAE9D;AACAvoB,QAAAA,GAAG,CAACqnB,eAAe,EAAErzB,SAAS,EAAEo0B,SAAS,CAAC,CAAA;;AAE1C;QACA,IAAI,CAACC,WAAW,CAAC/rC,OAAO,CAACN,SAAS,CAACI,EAAE,CAAC,CAAC,EAAE;AACvCJ,UAAAA,SAAS,CAACwD,UAAU,CAACjD,OAAO,CAAEkD,SAAS,IACrC0oC,8BAA8B,CAACd,eAAe,EAAE5nC,SAAS,EAAE;YAAE,GAAGnD,OAAAA;AAAQ,WAAC,CAC3E,CAAC,CAAA;AAED,UAAA,OAAA;AACF,SAAA;;AAEA;AACA8rC,QAAAA,SAAS,CAAC7rC,OAAO,CAAC,CAACmD,CAAC,EAAEhM,KAAK,KAAK;AAC9BsI,UAAAA,SAAS,CAACwD,UAAU,CAACjD,OAAO,CAAEkD,SAAS,IACrC0oC,8BAA8B,CAACd,eAAe,EAAE5nC,SAAS,EAAE;AAAE,YAAA,GAAGnD,OAAO;YAAE,CAACN,SAAS,CAACI,EAAE,GAAG1I,KAAAA;AAAM,WAAC,CAClG,CAAC,CAAA;AACH,SAAC,CAAC,CAAA;AAEF,QAAA,OAAA;AACF,OAAA;;AAEA;AACAsI,MAAAA,SAAS,CAACwD,UAAU,CAACjD,OAAO,CAAEkD,SAAS,IAAK0oC,8BAA8B,CAACd,eAAe,EAAE5nC,SAAS,EAAEnD,OAAO,CAAC,CAAC,CAAA;AAClH,KAAA;;AAEA;IACA,MAAMhB,SAAS,GAAG3J,OAAO,CAAC2J,SAAS,IAAI8a,iBAAiB,CAACmf,OAAO,EAAE,CAAA;AAClE,IAAA,MAAMj5B,OAAO,GAAG3K,OAAO,CAAC2K,OAAO,IAAI,EAAE,CAAA;AACrC,IAAA,MAAMksC,QAAQ,GAAGh1B,YAAY,CAACS,YAAY,CAAC3Y,SAAS,EAAE;AAAEgB,MAAAA,OAAAA;KAAS,CAAC,IAAI,EAAE,CAAA;;AAExE;IACA,MAAMgC,IAAI,GAAG,CAAC+pC,WAAW,CAAC/rC,OAAO,CAAChB,SAAS,CAACc,EAAE,CAAC,CAAC,GAAG,CAAC,GAAGosC,QAAQ,EAAElsC,OAAO,CAAChB,SAAS,CAACc,EAAE,CAAC,CAAC,GAAGosC,QAAQ,CAAA;AAElG,IAAA,MAAMpU,WAAW,GAAGl1B,KAAK,CAACtI,IAAI,CAAC,CAAA;AAC/BuxC,IAAAA,8BAA8B,CAAC/T,WAAW,EAAE94B,SAAS,EAAEgB,OAAO,CAAC,CAAA;IAC/D,OAAO/B,GAAG,CAAC65B,WAAW,EAAE91B,IAAI,EAAE,EAAE,CAAC,CAAA;AACnC,GAAA;AACF;;AC/eMmqC,MAAAA,aAAa,GAAG,GAAE;;AAIxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACO,SAASC,UAAUA,CAAC/2C,OAAO,EAAE;EAClC,MAAM;IAAEiF,IAAI;IAAEu7B,MAAM;IAAE,GAAGwW,WAAAA;AAAY,GAAC,GAAGh3C,OAAO,CAAA;AAEhD,EAAA,MAAM8hB,IAAI,GAAG,IAAI+yB,IAAI,CAACmC,WAAW,CAAC,CAAA;EAElC,OAAOl1B,IAAI,CAAC+tB,YAAY,CAACrP,MAAM,EAAEv7B,IAAI,CAAC,CAACgyC,IAAI,CAAC,YAAY;AACtD,IAAA,OAAOn1B,IAAI,CAAA;AACb,GAAC,CAAC,CAAA;AACJ;;;;","x_google_ignoreList":[116,117,128]}